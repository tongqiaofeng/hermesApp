(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0fb4":function(e,t,n){"use strict";(function(e,t){n("06ad");var o=a(n("66fd")),r=a(n("c80b"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wx.__webpack_require_UNI_MP_PLUGIN__=n,o.default.config.productionTip=!1,o.default.prototype.$baseUrl="https://hk.wistechx.cn/HermesNewApi/wechat/api",o.default.prototype.$baseFileUrl="https://hk.wistechx.cn/HermesApi",o.default.prototype.$baseJewelleryUrl="https://hk.wistechx.cn/HermesNewApi/jewellery/api",o.default.config.ignoredElements.push("wx-open-launch-weapp"),o.default.prototype.checkBack=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return console.log("状态码判断"),console.log(t),200==t.statusCode||(1==n&&(400==t.statusCode?e.showToast({icon:"none",title:t.data.message,duration:2e3}):300==t.statusCode?e.showToast({icon:"none",title:"请登录后再操作",duration:2e3}):e.showToast({icon:"none",title:"操作失败，请重试",duration:2e3})),!1)},o.default.prototype.$onLaunched=new Promise((function(e){console.log("这是啥"),console.log(e),o.default.prototype.$isResolve=e})),o.default.prototype.checkLogin=function(){return console.log("要去登录"),0==e.getStorageSync("token").length&&(e.showToast({title:"请先登录",icon:"none"}),e.switchTab({url:"/pages/mine/mine"}),!0)},o.default.prototype.setUserInfo=function(t){if(console.log("用户信息"),console.log(t),null!=t.data.id){var n={};n.userId=t.data.id,n.userRole=t.data.role,n.userToken=t.data.token,n.userNick=t.data.nick,n.userHeadPic=t.data.headPic,n.phoneNumber=t.data.username,n.totalIntegral=t.data.totalIntegral,console.log(n),getApp().globalData.userInfo=n,e.setStorageSync("userId",n.userId),e.setStorageSync("token",n.userToken),e.setStorageSync("role",n.userRole),e.setStorageSync("nick",n.userNick),e.setStorageSync("headPic",n.userHeadPic),e.setStorageSync("phoneNumber",n.phoneNumber),e.setStorageSync("totalIntegral",n.totalIntegral)}},o.default.prototype.formatNumberRgx=function(e){if(""==e||null==e||0==e)return 0;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},o.default.prototype.ensignSel=function(e){switch(e){case"CNY":return n("4771");case"HKD":return n("c42a");case"USD":return n("a2a4");case"EUR":return n("5b11");case"GBP":return n("cfc1");case"AUD":return n("d425")}},o.default.prototype.currencySel=function(e){switch(e){case"1":return"CNY";case"2":return"HKD";case"3":return"USD";case"4":return"EUR";case"5":return"GBP";case"6":return"AUD"}},o.default.prototype.regionSel=function(e){switch(e){case"香港":return"HK";case"大陆":return"CN";case"金边":return"KH";case"海外":return"ABD";case"成都":return"CN";default:return"ABD"}},o.default.prototype.ensignReSel=function(e){switch(e){case"大陆":return n("4771");case"成都":return n("4771");case"香港":return n("c42a");case"金边":return n("7734");case"海外":return n("a2a4");default:return n("a2a4")}},o.default.prototype.getPrice=function(e,t,n){if(void 0==n&&(n="--"),null==e||"null"==e||""==e||0==e)return n;e=String(e);var o=e.toString().split(".");return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t+" "+o.join(".")},o.default.prototype.costPrice=function(e,t){var n,o,r;try{n=e.toString().split(".")[1].length}catch(a){n=0}try{o=t.toString().split(".")[1].length}catch(a){o=0}return r=Math.pow(10,Math.max(n,o)+1),(e*r-t*r)/r},o.default.prototype.hidePageNavInWechatBrowser=function(){},r.default.mpType="app";var l=new o.default(u({},r.default));t(l).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])},"2c9a":function(e,t,n){},"2f15":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={globalData:{testData:"全局变量",userInfo:{userId:0,userRole:"",userToken:"",userNick:"",userHeadPic:"",phoneNumber:""}},onLaunch:function(){if(e.canIUse("getUpdateManager")){console.log("可更新");var t=e.getUpdateManager();t.onCheckForUpdate((function(n){n.hasUpdate&&(console.log("有新版本"),t.onUpdateReady((function(){e.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",cancelText:"稍后进行",confirmText:"立即更新",confirmColor:"#85dbd0",success:function(e){e.confirm&&t.applyUpdate()}})})),t.onUpdateFailed((function(){e.showModal({title:"温馨提示",content:"新版本已经上线，请您删除当前小程序，重新搜索打开"})})))}))}else console.log("不可更新"),e.showModal({title:"温馨提示",content:"当前微信版本过低，可能无法使用该功能，请升级到最新版本后重试~"});this.getUserMsg()},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},methods:{getUserMsg:function(){var t=this,n=e.getStorageSync("token");console.log("是否需要获取信息"),console.log(n),0!==n.length&&e.request({url:this.$baseFileUrl+"/userMsg",method:"GET",header:{"content-type":"application/json",token:n},complete:function(e){1==t.checkBack(e,!0)?(t.setUserInfo(e),console.log("resolve"),console.log(t.$isResolve()),t.$isResolve()):t.$isResolve()}})}}};t.default=n}).call(this,n("543d")["default"])},4581:function(e,t,n){"use strict";var o=n("2c9a"),r=n.n(o);r.a},"4b26":function(e,t,n){"use strict";n.r(t);var o=n("2f15"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},c80b:function(e,t,n){"use strict";n.r(t);var o=n("4b26");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("4581");var a,c,u,s,l=n("f0c5"),i=Object(l["a"])(o["default"],a,c,!1,null,null,null,!1,u,s);t["default"]=i.exports}},[["0fb4","common/runtime","common/vendor"]]]);