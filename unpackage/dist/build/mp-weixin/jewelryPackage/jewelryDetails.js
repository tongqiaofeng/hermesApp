(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["jewelryPackage/jewelryDetails"],{"141e":function(e,t,i){"use strict";var l=i("961d"),r=i.n(l);r.a},"219b":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={data:function(){return{imgUrl:this.$baseJewelleryUrl,role:e.getStorageSync("role"),token:e.getStorageSync("token"),jewelryDetails:{},imgSrc:[],imgSrc2:[],imgSrc3:[],dotsStyles:{width:6,height:6,backgroundColor:"#fff",border:"#fff",selectedBackgroundColor:"#b0edd5",selectedBorder:"#b0edd5"},current:0,current2:0,collect1:i("9172"),collect2:i("122e"),isShow:"0",detailId:null,share:{title:"PAULIANA 宝莉安娜高级珠宝",path:"/jewelryPackage/jewelryDetails?id="+this.detailId,imageUrl:"",desc:"",content:""}}},onLoad:function(e){console.log("详情"),console.log(e.id),this.detailId=e.id,this.getDetails()},onReady:function(){this.hidePageNavInWechatBrowser()},onPullDownRefresh:function(){e.showLoading({title:"正在刷新"}),this.getDetails(),e.stopPullDownRefresh()},onShareAppMessage:function(t){return this.share.path="/jewelryPackage/jewelryDetails?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(t){e.showToast({title:"分享成功",icon:"none"})},fail:function(t){e.showToast({title:"分享失败",icon:"none"})}}},onShareTimeline:function(t){return this.share.path="/jewelryPackage/jewelryDetails?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(t){e.showToast({title:"分享成功",icon:"none"})},fail:function(t){e.showToast({title:"分享失败",icon:"none"})}}},methods:{isShowChange:function(e){console.log(e),"0"==this.isShow?this.isShow="1":"1"==this.isShow&&(this.isShow="0")},swiperChange:function(e){this.current=e.detail.current},swiperChange2:function(e){this.current2=e.detail.current},imagePreview:function(t){e.previewImage({current:t,urls:this.imgSrc})},imagePreview2:function(t){e.previewImage({current:t,urls:this.imgSrc2})},imagePreview3:function(t){e.previewImage({current:t,urls:this.imgSrc3})},getDetails:function(t){var i=this;e.showLoading({title:"加载中......"}),e.request({url:this.$baseJewelleryUrl+"/jewelleryInfo?id="+this.detailId,header:{"content-type":"application/json",token:e.getStorageSync("token")},success:function(t){if(e.hideLoading(),console.log("pppp"),console.log(t),i.jewelryDetails=t.data.productInfo,e.setNavigationBarTitle({title:i.jewelryDetails.productName}),i.imgSrc=[],""!=i.jewelryDetails.img&&null!=i.jewelryDetails.img)if(-1==i.jewelryDetails.img.indexOf("|"))i.imgSrc.push(i.imgUrl+"/file/"+i.jewelryDetails.img);else for(var l=i.jewelryDetails.img.split("|"),r=0;r<l.length;r++)i.imgSrc.push(i.imgUrl+"/file/"+l[r].trim());if(i.imgSrc2=[],""!=i.jewelryDetails.designImg&&null!=i.jewelryDetails.designImg)if(-1==i.jewelryDetails.designImg.indexOf("|"))i.imgSrc2.push(i.jewelryDetails.designImg);else for(var a=i.jewelryDetails.designImg.split("|"),s=0;s<a.length;s++)i.imgSrc2.push(a[s].trim());if(i.imgSrc3=[],""!=i.jewelryDetails.detailImg&&null!=i.jewelryDetails.detailImg)if(-1==i.jewelryDetails.detailImg.indexOf("|"))i.imgSrc3.push(i.imgUrl+"/file/"+i.jewelryDetails.detailImg);else for(var n=i.jewelryDetails.detailImg.split("|"),o=0;o<n.length;o++)i.imgSrc3.push(i.imgUrl+"/file/"+n[o].trim());i.jewelryDetails.certs=[];var c=[];c=i.jewelryDetails.certificateNumber.indexOf(",")>0?i.jewelryDetails.certificateNumber.split(","):i.jewelryDetails.certificateNumber.split("，");for(var u=0;u<c.length;++u){var d=c[u].trim();d.length>0&&i.jewelryDetails.certs.push(d)}},fail:function(t){e.hideLoading(),console.log(t)}})},goIndex:function(){e.switchTab({url:"../pages/index/index"})},isCollect:function(){var t=this;if(0==e.getStorageSync("token").length)e.showToast({title:"请登录",icon:"none",success:function(){e.switchTab({url:"../pages/mine/mine"})}});else{console.log("添加与取消收藏");var i=[];i.push({id:this.jewelryDetails.id,type:1}),e.request({method:"POST",url:this.$baseUrl+"/favoriteSave",data:{stockList:i},header:{token:e.getStorageSync("token")},complete:function(e){console.log("添加与取消收藏"),console.log(e),0!=t.checkBack(e,!0)&&t.getDetails(t.jewelryDetails.id)}})}},serviveClick:function(){e.navigateTo({url:"../commonPackage/service/service"})}}};t.default=l}).call(this,i("543d")["default"])},"26ae":function(e,t,i){"use strict";(function(e){i("06ad");l(i("66fd"));var t=l(i("96ae"));function l(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i("543d")["createPage"])},"36cb":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return l}));var l={uniSwiperDot:function(){return i.e("uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot").then(i.bind(null,"f128"))}},r=function(){var e=this,t=e.$createElement,i=(e._self._c,0!=e.jewelryDetails.adviseSellPrice?e.formatNumberRgx(e.jewelryDetails.adviseSellPrice):null),l="admin"==e.role&&e.jewelryDetails.costPrice?e.formatNumberRgx(e.jewelryDetails.costPrice):null,r="admin"==e.role&&e.jewelryDetails.processCost?e.formatNumberRgx(e.jewelryDetails.processCost):null,a="admin"==e.role&&e.jewelryDetails.totalCnPrice?e.formatNumberRgx(e.jewelryDetails.totalCnPrice):null,s="admin"==e.role&&e.jewelryDetails.totalHkPrice?e.formatNumberRgx(e.jewelryDetails.totalHkPrice):null,n="admin"==e.role&&e.jewelryDetails.lowestSellPrice?e.formatNumberRgx(e.jewelryDetails.lowestSellPrice):null,o="admin"==e.role&&e.jewelryDetails.adviceWholesalePrice?e.formatNumberRgx(e.jewelryDetails.adviceWholesalePrice):null,c="admin"==e.role&&e.jewelryDetails.tagPrice?e.formatNumberRgx(e.jewelryDetails.tagPrice):null,u="admin"==e.role&&e.jewelryDetails.saleCommission?e.formatNumberRgx(e.jewelryDetails.saleCommission):null,d=4==e.jewelryDetails.state&&"admin"==e.role?e.formatNumberRgx(e.jewelryDetails.saleMoney):null,m=4==e.jewelryDetails.state&&"admin"==e.role?e.formatNumberRgx(e.jewelryDetails.sellTotalHkPrice):null,g=4==e.jewelryDetails.state&&"admin"==e.role&&e.jewelryDetails.saleCurrency==e.jewelryDetails.currency?e.formatNumberRgx(e.costPrice(e.jewelryDetails.saleMoney,e.jewelryDetails.costPrice)):null;e.$mp.data=Object.assign({},{$root:{m0:i,m1:l,m2:r,m3:a,m4:s,m5:n,m6:o,m7:c,m8:u,m9:d,m10:m,m11:g}})},a=[]},"961d":function(e,t,i){},"96ae":function(e,t,i){"use strict";i.r(t);var l=i("36cb"),r=i("bbac");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("141e");var s,n=i("f0c5"),o=Object(n["a"])(r["default"],l["b"],l["c"],!1,null,"712d76c8",null,!1,l["a"],s);t["default"]=o.exports},bbac:function(e,t,i){"use strict";i.r(t);var l=i("219b"),r=i.n(l);for(var a in l)"default"!==a&&function(e){i.d(t,e,(function(){return l[e]}))}(a);t["default"]=r.a}},[["26ae","common/runtime","common/vendor"]]]);