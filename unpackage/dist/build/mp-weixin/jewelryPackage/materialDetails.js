(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["jewelryPackage/materialDetails"],{"14d7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{imgUrl:this.$baseJewelleryUrl,initOk:!1,dotsStyles:{selectedBackgroundColor:"#1e92ff",selectedBorder:"#1e92ff"},detailId:null,productNumber:"",materialDetails:{},imgSrc:[],states:[{id:-1,name:"全部"},{id:0,name:"库存中"},{id:1,name:"运输中"},{id:5,name:"未加工"},{id:2,name:"加工中"},{id:3,name:"加工完成"},{id:4,name:"已出售"}],share:{title:"PAULIANA 宝莉安娜高级珠宝",path:"/jewelryPackage/materialDetails?id="+this.detailId,imageUrl:"",desc:"",content:""}}},onLoad:function(e){var i=this,n=t.getStorageSync("token");""==n||null==n?this.$nextTick((function(){i.$refs.popup.open()})):(void 0!=e.id?this.detailId=e.id:this.productNumber=e.productNumber,this.getDetails())},onReady:function(){this.hidePageNavInWechatBrowser()},onPullDownRefresh:function(){t.showLoading({title:"正在刷新"}),this.getDetails(),t.stopPullDownRefresh()},onShareAppMessage:function(e){return this.share.path="/jewelryPackage/materialDetails?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(e){t.showToast({title:"分享成功",icon:"none"})},fail:function(e){t.showToast({title:"分享失败",icon:"none"})}}},onShareTimeline:function(e){return this.share.path="/jewelryPackage/materialDetails?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(e){t.showToast({title:"分享成功",icon:"none"})},fail:function(e){t.showToast({title:"分享失败",icon:"none"})}}},methods:{getDetails:function(){var e=this;t.showLoading({title:"加载中......"});var i="";i=this.detailId>0?"/jewelleryInfo?id="+this.detailId:"/jewelleryInfo?productNumber="+this.productNumber,t.request({url:this.$baseJewelleryUrl+i,header:{"content-type":"application/json",token:t.getStorageSync("token")},complete:function(i){if(t.hideLoading(),0!=e.checkBack(i,!0)){if(e.materialDetails=i.data.materialInfo,console.log(e.materialDetails),t.setNavigationBarTitle({title:e.materialDetails.materialName}),e.imgSrc=[],""!=e.materialDetails.img&&null!=e.materialDetails.img)if(-1==e.materialDetails.img.indexOf("|"))e.imgSrc.push(e.imgUrl+"/file/"+e.materialDetails.img);else for(var n=e.materialDetails.img.split("|"),a=0;a<n.length;a++)e.imgSrc.push(e.imgUrl+"/file/"+n[a].trim());e.materialDetails.certs=[];var l=[];l=e.materialDetails.certificateNumber.indexOf(",")>0?e.materialDetails.certificateNumber.split(","):e.materialDetails.certificateNumber.split("，");for(var r=0;r<l.length;++r){var s=l[r].trim();s.length>0&&e.materialDetails.certs.push(s)}e.initOk=!0}}})},imagePreview:function(e){t.previewImage({current:e,urls:this.imgSrc})},getState:function(t){for(var e=0;e<this.states.length;++e){if(t==this.states[e].id)return this.states[e].name;if(4==t)return"已售"}return""},goToLogin:function(){this.$refs.popup.close(),t.navigateTo({url:"../pages/mine/login"})},closePopup:function(){this.$refs.popup.close()}}};e.default=i}).call(this,i("543d")["default"])},"203d":function(t,e,i){"use strict";i.r(e);var n=i("14d7"),a=i.n(n);for(var l in n)"default"!==l&&function(t){i.d(e,t,(function(){return n[t]}))}(l);e["default"]=a.a},"2b42":function(t,e,i){"use strict";i.r(e);var n=i("8e8f"),a=i("203d");for(var l in a)"default"!==l&&function(t){i.d(e,t,(function(){return a[t]}))}(l);i("e45a");var r,s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=o.exports},"3b89":function(t,e,i){"use strict";(function(t){i("06ad");n(i("66fd"));var e=n(i("2b42"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},"60c5":function(t,e,i){},"8e8f":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return n}));var n={uniSwiperDot:function(){return i.e("uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot").then(i.bind(null,"f128"))},uniList:function(){return i.e("uni_modules/uni-list/components/uni-list/uni-list").then(i.bind(null,"f2d5"))},uniSection:function(){return i.e("uni_modules/uni-section/components/uni-section/uni-section").then(i.bind(null,"604c"))},uniListItem:function(){return i.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(i.bind(null,"40b0"))},uniPopup:function(){return i.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(i.bind(null,"5959"))}},a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.initOk?t.getState(t.materialDetails.state):null),n=t.initOk&&t.materialDetails.unitPrice>0&&("粒"==t.materialDetails.chargeUnit||"件"==t.materialDetails.chargeUnit)?parseInt(t.materialDetails.unitPrice*t.materialDetails.number):null,a=t.initOk&&t.materialDetails.unitPrice>0&&"粒"!=t.materialDetails.chargeUnit&&"件"!=t.materialDetails.chargeUnit?parseInt(t.materialDetails.unitPrice*t.materialDetails.weight):null,l=t.initOk?t.getState(t.materialDetails.state):null,r=t.initOk&&t.materialDetails.stockInOutList.length>0?t.__map(t.materialDetails.stockInOutList,(function(e,i){var n=t.__get_orig(e),a=e.time.slice(0,10);return{$orig:n,g0:a}})):null;t.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:a,m3:l,l0:r}})},l=[]},e45a:function(t,e,i){"use strict";var n=i("60c5"),a=i.n(n);a.a}},[["3b89","common/runtime","common/vendor"]]]);