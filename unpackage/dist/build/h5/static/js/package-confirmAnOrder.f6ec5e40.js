(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["package-confirmAnOrder"],{"07f8":function(t,e,r){"use strict";r.r(e);var n=r("c483"),i=r("d318");for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);r("dc36");var a,c=r("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"03634538",null,!1,n["a"],a);e["default"]=s.exports},"30a6":function(t,e,r){var n=r("6167");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("4f06").default;i("f30ab438",n,!0,{sourceMap:!1,shadowMode:!1})},6167:function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.confirm-order-container[data-v-03634538]{min-height:100vh;background-color:#f9f9f9}.confirm-order-container .confirm-order-container-top[data-v-03634538]{height:%?100?%;padding:%?20?% %?20?%;display:flex;justify-content:space-between;align-items:center;background-color:#fff}.confirm-order-container .confirm-order-container-top .top-left[data-v-03634538]{color:#c3c3c3;font-size:%?28?%}.confirm-order-container .confirm-order-container-top .top-left .left-top uni-text[data-v-03634538]{padding-right:%?20?%;font-size:%?28?%}.confirm-order-container .confirm-order-container-top .top-left .left-top .default-sign[data-v-03634538]{padding:%?4?% %?10?%;color:#fff;background-color:#85dbd0;border-radius:%?10?%;font-size:%?22?%}.confirm-order-container .confirm-order-container-top .top-left .left-bottom[data-v-03634538]{margin-top:%?10?%;font-size:%?24?%;color:#c3c3c3}.confirm-order-container .confirm-order-container-top .top-right[data-v-03634538]{width:%?44?%;height:%?44?%}.confirm-order-container .confirm-order-container-product[data-v-03634538]{padding:%?20?% %?40?%;margin-top:%?4?%;display:flex;background-color:#fff}.confirm-order-container .confirm-order-container-product .product-img[data-v-03634538]{width:%?200?%;height:%?200?%;margin-right:%?20?%;border-radius:%?30?%}.confirm-order-container .confirm-order-container-product .product-container .name[data-v-03634538]{font-size:%?28?%}.confirm-order-container .confirm-order-container-product .product-container .price[data-v-03634538]{margin-top:%?10?%;color:#ff8b62;display:flex;justify-content:space-between}.confirm-order-container .confirm-order-container-bottom[data-v-03634538]{padding:0 %?20?% %?150?% %?20?%}.confirm-order-container .confirm-order-container-bottom .delivery-type[data-v-03634538]{height:%?80?%;display:flex;justify-content:space-between;align-items:center;font-size:%?28?%}.confirm-order-container .confirm-order-container-bottom .delivery-type .type-right[data-v-03634538]{display:flex;align-items:center}.confirm-order-container .confirm-order-container-bottom .delivery-type .type-right uni-image[data-v-03634538]{width:%?32?%;height:%?32?%}.confirm-order-container .confirm-order-container-bottom .delivery-price[data-v-03634538]{height:%?80?%;display:flex;justify-content:space-between;align-items:center;font-size:%?28?%}.confirm-order-container .confirm-order-container-bottom .delivery-price .price-right[data-v-03634538]{color:#ff8b62}.confirm-order-container .confirm-order-container-total[data-v-03634538]{height:%?120?%;display:flex;justify-content:flex-end;align-items:center;position:fixed;bottom:0;left:0;right:0;background-color:#fff}.confirm-order-container .confirm-order-container-total .total-num[data-v-03634538]{color:#c3c3c3;font-size:%?24?%}.confirm-order-container .confirm-order-container-total .total-price[data-v-03634538]{margin-left:%?20?%;font-size:%?30?%}.confirm-order-container .confirm-order-container-total .total-button[data-v-03634538]{margin:0 %?20?% 0 %?60?%;padding:%?20?% %?40?%;background-color:#85dbd0;color:#fff;font-size:%?26?%;border-radius:%?60?%}.confirm-order-container .popup-container[data-v-03634538]{width:%?500?%;height:%?407?%;padding:%?40?%;margin:0 auto;display:flex;flex-direction:column;justify-content:space-around;text-align:center;background-color:#fff;border-radius:%?30?%}.confirm-order-container .popup-container .button-sure[data-v-03634538]{padding:%?20?% %?60?%;background-color:#85dbd0;border-radius:%?60?%;color:#fff}',""]),t.exports=e},b85c:function(t,e,r){"use strict";r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(r("06c5"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=(0,n.default)(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==r["return"]||r["return"]()}finally{if(s)throw a}}}}},c203:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABA0lEQVRYR+3UPw7CIBQGcOgJXF08gImJA4+2cXL1AJ7FwURH7+IBXDuZ9I910RN4AvcWDINJwwS8V5uYMgPfjw8CZwMPPnA+GwFjA84NVFU1VUrttdZZHMdnqsfrDKjret40zdMEa623VAhngAnO8/zIOT9QIrwAfSC8AdSIIAAlIhhAhUABKBBoABZBArARbduu0zTNXD6rXgBKKZEkye1nAMwHhW4AE24aQgGw4ShAN5xzvgGAi8ud23OCGuiGM8ZWUsprSHhQA9bJFwDwCA33Blgnn0kpX5hwL0BRFEvG2N0siqJoIoR4Y8O9AGZyWZYnANhRBH/3CHqEI2Bs4K8a+AANvpMhVLEYbgAAAABJRU5ErkJggg=="},c483:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return n}));var n={uniPopup:r("bf6e").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"confirm-order-container"},[n("v-uni-view",{staticClass:"confirm-order-container-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shippingAddress.apply(void 0,arguments)}}},[""==t.address||null==t.address?n("v-uni-view",{staticClass:"top-left"},[t._v("请选择收货地址")]):n("v-uni-view",{staticClass:"top-left"},[n("v-uni-view",{staticClass:"left-top"},[n("v-uni-text",[t._v(t._s(t.address.name))]),n("v-uni-text",[t._v(t._s(t.address.phone))]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:1==t.address.isDefaultAddress,expression:"address.isDefaultAddress == 1"}],staticClass:"default-sign"},[t._v("默认")])],1),n("v-uni-view",{staticClass:"left-bottom"},[t._v(t._s(t.address.area+t.address.street))])],1),n("v-uni-image",{staticClass:"top-right",attrs:{src:r("e8c3b"),mode:"aspectFill"}})],1),t._l(t.selList,(function(e,r){return n("v-uni-view",{key:r,staticClass:"confirm-order-container-product"},[n("v-uni-view",{},[n("v-uni-image",{staticClass:"product-img",attrs:{src:e.imgSrc,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"product-container"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(decodeURIComponent(e.name)))]),n("v-uni-view",{staticClass:"price"},[n("v-uni-text",{staticStyle:{"font-size":"22rpx"}},[t._v(t._s("HKD")),n("v-uni-text",{staticStyle:{"font-size":"30rpx"}},[t._v(t._s(" "+t.formatNumberRgx(e.price)))])],1),n("v-uni-text",{staticStyle:{color:"#2C405A"}},[t._v("x "+t._s(e.num))])],1)],1)],1)})),n("v-uni-view",{staticClass:"confirm-order-container-bottom"},[n("v-uni-view",{staticClass:"delivery-type"},[n("v-uni-text",[t._v("配送方式")]),n("v-uni-view",{staticClass:"type-right"},[n("v-uni-text",[t._v("物流快递")]),n("v-uni-image",{staticClass:"right-img",attrs:{src:r("c203"),mode:"aspectFill"}})],1)],1),n("v-uni-view",{staticClass:"delivery-price"},[n("v-uni-text",[t._v("商品金额")]),n("v-uni-text",{staticClass:"price-right",staticStyle:{"font-size":"22rpx"}},[t._v(t._s("HKD")),n("v-uni-text",{staticStyle:{"font-size":"30rpx"}},[t._v(t._s(" "+t.formatNumberRgx(t.totalPrice)))])],1)],1)],1),n("v-uni-view",{staticClass:"confirm-order-container-total"},[n("v-uni-text",{staticClass:"total-num"},[t._v("共"+t._s(t.selList.length)+"件")]),n("v-uni-view",{staticClass:"total-price"},[n("v-uni-text",[t._v("合计：")]),n("v-uni-text",{staticStyle:{"font-size":"22rpx",color:"#ff8b62"}},[t._v(t._s("HKD")),n("v-uni-text",{staticStyle:{"font-size":"30rpx"}},[t._v(t._s(" "+t.formatNumberRgx(t.totalPrice)))])],1)],1),n("v-uni-view",{staticClass:"total-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createOrder.apply(void 0,arguments)}}},[t._v("提交订单")])],1),n("uni-popup",{ref:"payPopup",attrs:{type:"center"}},[n("v-uni-view",{staticClass:"popup-container"},[n("v-uni-view",{},[t._v("支付金额 "+t._s("CNY "+t.formatNumberRgx(t.cnyTotalPrice)))]),n("v-uni-view",{staticClass:"button-sure",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("立即支付")])],1)],1)],2)},o=[]},d318:function(t,e,r){"use strict";r.r(e);var n=r("fdcb"),i=r.n(n);for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},dc36:function(t,e,r){"use strict";var n=r("30a6"),i=r.n(n);i.a},e8c3b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMkMzMUIwNUZFNDAxMUVCOUQ1N0I5NDEzMjQyRDFBNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMkMzMUIwNkZFNDAxMUVCOUQ1N0I5NDEzMjQyRDFBNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIyQzMxQjAzRkU0MDExRUI5RDU3Qjk0MTMyNDJEMUE0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIyQzMxQjA0RkU0MDExRUI5RDU3Qjk0MTMyNDJEMUE0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IocV9gAAArRJREFUeNrUmc2LUlEYh18vNX3ZtU1MLWP8gJKKNhHMJkYlphZCRB8b/wRpY3cj6s4GofSPqBa1KwgF25S0iphFgTq0jHE2OVNaE0i/186VZHS6eu89Hl948AN9fTz3fN33eDqdDlkML7gOroKL4AzwgUM0WfwCbfAFfARvwCvw3cqXPRaE/eABuAuOkTvxAzwFD0FzWuHDIAvugwWSE7vgMciAn5MIL4Hn4tLPIrir3BrV2tqID18C72YoS+K33wqXfYW5v74GizT7WBQu/nHCR0Q3OEnqBLu8EG57hHmAXSD14rxwGxp0PMg+g4OkZvwGZ3kQmi1sKCxLws0wW/g4Hr+6uCg4ubic5hZenQNZEo6rLLxiJ0u326VqtUqtVkuG9MoBMQqnjnQ6TbVajXw+HxWLRQoGg67OGJqYIaaOdrs9eEwmk1Sv190UXmJh3U6GVCpFuq7LktY1uzuxQCDQ7wqSpBc0J7KEQiFp0ppTiWRJa04mkyGtOX3Jxkk3m001hU3pUqk0JJ3P59UV7t8J+P0UDocHr5Vu4V6vR7lcrr8CmhGLxdQUNmUrlcrgvUgkQoZhqCc8TjabzZKmaWoJy5B1TFiWrCm867RsNBp1RZZdOeO2nQyFQmGPbCaTcUOWY5uzbtjJUC6XZclybHDmdTsZEokEeb1eisfjbstyrPNd8208eUbzEXfm6TafKz6n+PrtzEkLc8F7xyxVcYXwE6ldqjoHGuYI4a3UI4Vbl6vyDX7ybwWeS5rv7dYp3JgZwBXRh4eW5i64CbYUkt0STp1xewnuGtfApgKym8Kl+b/NzwewbHdBcaAbLAsXS7s1/leXwZoYoTJngzXx2yPvqawcLAa4IgXugaMuifL4eUJ/DxYb+33QM+HR7Q0aPro9McXcza34jYaPbl+SxaPbPwIMANXNEQSOOhw1AAAAAElFTkSuQmCC"},fdcb:function(t,e,r){"use strict";(function(t){var n=r("4ea4");r("a9e3"),r("d3b7"),r("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("b85c")),o={data:function(){return{totalPrice:0,cnyTotalPrice:0,address:JSON.parse(uni.getStorageSync("userAddress")),selList:[],verification:{}}},onShow:function(){t.log("地址"),t.log(JSON.parse(uni.getStorageSync("userAddress"))),this.address=JSON.parse(uni.getStorageSync("userAddress"))},onLoad:function(e){t.log("传参"),t.log(e.productList),e.productList&&(this.selList=JSON.parse(e.productList));var r,n=(0,i.default)(this.selList);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.totalPrice+=Number(o.price)}}catch(a){n.e(a)}finally{n.f()}},methods:{shippingAddress:function(){uni.navigateTo({url:"addressAdmin"})},createOrder:function(){var e=this;uni.showLoading({title:"微信支付"}),uni.request({url:this.$baseUrl+"/weChatCreateOrder",method:"POST",data:{addressId:this.address.id,detailList:this.selList,total:this.totalPrice},header:{"content-type":"application/json",token:uni.getStorageSync("token")},complete:function(r){uni.hideLoading(),t.log("生成订单"),t.log(r),200==r.statusCode?(e.verification=r.data,e.$refs.payPopup.open()):uni.showToast({icon:"none",title:r.data.message,duration:2e3})}})},pay:function(){var e=this;uni.requestPayment({timeStamp:this.verification.payMsg.timeStamp.toString(),nonceStr:this.verification.payMsg.nonceStr,package:this.verification.payMsg.package,signType:"RSA",paySign:this.verification.payMsg.paySign,success:function(r){t.log("success:"),t.log(r),e.$refs.payPopup.close(),uni.reLaunch({url:"orderList"})},fail:function(r){e.$refs.payPopup.close(),t.log("fail:"),t.log(r)}})}}};e.default=o}).call(this,r("5a52")["default"])}}]);