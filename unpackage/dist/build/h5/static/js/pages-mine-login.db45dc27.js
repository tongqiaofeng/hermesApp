(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-login"],{"13f7":function(n,i,e){"use strict";(function(n){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{selectLogin:0,userData:{phoneNumber:"",code:"",psw:""},loginPhoneRules:{phoneNumber:{rules:[{required:!0,errorMessage:"请输入手机号",trigger:"blur"}]},code:{rules:[{required:!0,errorMessage:"请输入验证码",trigger:"blur"}]}},loginPswRules:{phoneNumber:{rules:[{required:!0,errorMessage:"请输入账号",trigger:"blur"}]},psw:{rules:[{required:!0,errorMessage:"请输入密码"}]}},time:"获取验证码",count:59,isGeting:!1,disable:!1,countDown:null}},methods:{getCode:function(){var i=this;""==this.userData.phoneNumber?uni.showToast({title:"请输入手机号/邮箱",icon:"none"}):(uni.showLoading({title:"验证码获取中..."}),uni.request({method:"GET",url:this.$baseUrl+"/smsCodeGet",header:{"content-type":"application/json"},data:{phoneNumber:this.userData.phoneNumber},complete:function(e){uni.hideLoading(),200==e.statusCode&&(i.countDown=setInterval((function(){i.count<1?(i.isGeting=!1,i.disable=!1,i.time="获取验证码",i.count=59,n.log(i.time),clearInterval(i.countDown),i.countDown=null):(i.isGeting=!0,i.disable=!0,i.time=i.count--+"s后可重发")}),1e3)),0!=i.checkBack(e,!0)&&i.$isResolve()}}))},userLoginPhone:function(){var i=this;this.$refs.loginFormPhone.validate().then((function(e){n.log("表单数据",e),uni.showLoading({title:"登录中......"}),uni.request({method:"POST",url:i.$baseUrl+"/wechatLogin",header:{"content-type":"application/json"},data:{username:i.userData.phoneNumber,code:i.userData.code},complete:function(e){n.log("登录啦"),n.log(e),uni.hideLoading(),0!=i.checkBack(e,!0)&&(uni.setStorageSync("userAddress",JSON.stringify(e.data.address)),i.setUserInfo(e),i.$isResolve(),uni.switchTab({url:"./mine"}))}})})).catch((function(i){n.log("表单错误",i)}))},userLoginPsw:function(){var i=this;this.$refs.loginFormPsw.validate().then((function(e){n.log("表单数据",e),uni.showLoading({title:"登录中......"}),uni.request({method:"POST",url:i.$baseUrl+"/wechatLogin",header:{"content-type":"application/json"},data:{username:i.userData.phoneNumber,psw:i.userData.psw},complete:function(e){n.log("登录啦"),n.log(e),uni.hideLoading(),0!=i.checkBack(e,!0)&&(uni.setStorageSync("userAddress",JSON.stringify(e.data.address)),i.setUserInfo(e),i.$isResolve(),uni.switchTab({url:"./mine"}))}})})).catch((function(i){n.log("表单错误",i)}))},selectLoginPhone:function(i){n.log(i),this.selectLogin=0},selectLoginPsw:function(){this.selectLogin=1}}};i.default=e}).call(this,e("5a52")["default"])},4937:function(n,i,e){var t=e("5394");"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var a=e("4f06").default;a("fcc9a73e",t,!0,{sourceMap:!1,shadowMode:!1})},5178:function(n,i,e){"use strict";e.r(i);var t=e("92e2"),a=e("eb9d");for(var o in a)"default"!==o&&function(n){e.d(i,n,(function(){return a[n]}))}(o);e("bc31");var s,l=e("f0c5"),c=Object(l["a"])(a["default"],t["b"],t["c"],!1,null,"c3afb0f2",null,!1,t["a"],s);i["default"]=c.exports},5394:function(n,i,e){var t=e("24fb");i=t(!1),i.push([n.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.login-main-container[data-v-c3afb0f2]{height:100vh;background-color:#fbfbfb}.login-main-container .login-container[data-v-c3afb0f2]{padding:0 %?60?%;padding-top:%?150?%}.login-main-container .login-container .login-tabs[data-v-c3afb0f2]{display:flex;justify-content:space-between}.login-main-container .login-container .login-tabs .phone-login[data-v-c3afb0f2],\r\n.login-main-container .login-container .login-tabs .psw-login[data-v-c3afb0f2]{width:50%}.login-main-container .login-container .login-tabs .font[data-v-c3afb0f2]{text-align:center;color:#000;font-size:%?28?%;font-weight:700}.login-main-container .login-container .line[data-v-c3afb0f2]{width:%?65?%;height:%?5?%;margin:0 auto;margin-top:%?17?%;background-color:#85dbd0;border-radius:%?30?%}.login-main-container .login-container .login-main[data-v-c3afb0f2]{margin-top:%?70?%}.login-main-container .login-container .login-main .phone-num[data-v-c3afb0f2]{color:#000;font-size:%?26?%}.login-main-container .login-container .login-main .codeGeting[data-v-c3afb0f2]{color:#c3c3c3}.login-main-container .login-container .login-main .code-code[data-v-c3afb0f2]{margin-top:%?40?%}.login-main-container .login-container .login-main .phone-main[data-v-c3afb0f2]{padding:%?20?%;margin-top:%?26?%;display:flex;align-items:center;background-color:#fff;border-radius:%?20?%}.login-main-container .login-container .login-main .phone-main .phone-img[data-v-c3afb0f2]{width:%?30?%;height:%?30?%}.login-main-container .login-container .login-main .phone-main .login-line[data-v-c3afb0f2]{width:%?2?%;height:%?40?%;margin:0 %?20?%;background-color:#c3c3c3}.login-main-container .login-container .login-main .phone-main .phone-input[data-v-c3afb0f2]{flex:1;font-size:%?26?%;color:#c3c3c3}.login-main-container .login-container .login-main .code-main[data-v-c3afb0f2]{justify-content:space-between}.login-main-container .login-container .login-main .code-main .phone-main-left[data-v-c3afb0f2]{display:flex;align-items:center}.login-main-container .login-container .login-main .login-bottom[data-v-c3afb0f2]{width:-webkit-fit-content;width:fit-content}.login-main-container .login-container .login-main .login-bottom uni-text[data-v-c3afb0f2]{font-size:%?24?%;color:#85dbd0}.login-main-container .login-container .login-main .register-psw[data-v-c3afb0f2]{display:flex;justify-content:space-between}.login-main-container .login-container .login-button[data-v-c3afb0f2]{width:%?630?%;margin:0 auto;margin-top:%?70?%}.login-main-container .login-container .login-button uni-image[data-v-c3afb0f2]{width:%?630?%;height:%?125?%}',""]),n.exports=i},"63b3":function(n,i,e){n.exports=e.p+"static/img/login.d5e65bec.png"},"8a83":function(n,i){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MkYzNENBMzAzRDQxMUVDOTgwQTg4MzVBNkE4QURCMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MkYzNENBNDAzRDQxMUVDOTgwQTg4MzVBNkE4QURCMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcyRjM0Q0ExMDNENDExRUM5ODBBODgzNUE2QThBREIxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcyRjM0Q0EyMDNENDExRUM5ODBBODgzNUE2QThBREIxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ARKawgAAAdVJREFUeNq8l08oREEcx2ef1cZBasOFtHGTyJ+Vmz9lS+yNNie5OLg5KFqF2i2H9S8HKeW25SRqXeQicRGL9oIoHKy40ebPru+v5l3kzb5583a/9Wnf4TWfmTczv5l1hK7PmYm4gJ/jBWXgHdyBExCdqm04M9OQw4SwD4RBveCdNJgHQYjTosa0LLIRsJtFprczCWLhm7jLqrAXbDC5+MCmFWExWGHWEsAou2SF3aCGWc+wrLCTqaUVoyyREXoUhZXALSNMKQo/wbeMMKEofAIvMsKYovAYBSAlIzwFewrCNSsbfwy8WpDNiOqqSEiFeRA8SMhCkM2q1NID0ALWwZfgPVpkQ5AFs/XIaaLXSTAKlnlBaORV6IePnor7NmQZM5/AKfG5Ev9tF4ikJlgkpJaaQBuoAKV0foIM39j0XIgSpvFNTnN+AeLgEh15MytsBhN8wVjNLTqyj99ViK9Ei2YcHCrKGJ9jmvcjiAeMhNMgAoqYfaETYwvSwF8hHZhzLHeJQlqnC2kel1juE9GFHSYuSXbEh1F6SdjD8hc/CavzKPRoRleBHMWt2XCdkMkHCReMrgM25xEs6v8tqkA/aOfPVDvLQYHCJSrJuacrB9hBmXv+FWAAIQhxzF6wTRwAAAAASUVORK5CYII="},"92e2":function(n,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return t}));var t={uniForms:e("8071").default,uniFormsItem:e("be7f").default},a=function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("v-uni-view",{staticClass:"login-main-container"},[t("v-uni-view",{staticClass:"login-container"},[t("v-uni-view",{staticClass:"login-tabs"},[t("v-uni-view",{staticClass:"phone-login",on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.selectLoginPhone.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"font"},[n._v("验证码登录")]),0==n.selectLogin?t("v-uni-view",{staticClass:"line"}):n._e()],1),t("v-uni-view",{staticClass:"psw-login",on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.selectLoginPsw.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"font"},[n._v("密码登录")]),1==n.selectLogin?t("v-uni-view",{staticClass:"line"}):n._e()],1)],1),0==n.selectLogin?t("v-uni-view",{staticClass:"login-main"},[t("uni-forms",{ref:"loginFormPhone",attrs:{modelValue:n.userData,rules:n.loginPhoneRules}},[t("uni-forms-item",{attrs:{name:"phoneNumber"}},[t("v-uni-view",[t("v-uni-text",{staticClass:"phone-num"},[n._v("手机号/邮箱")]),t("v-uni-view",{staticClass:"phone-main"},[t("v-uni-image",{staticClass:"phone-img",attrs:{src:e("39e5"),mode:"aspectFill"}}),t("v-uni-view",{staticClass:"login-line"}),t("v-uni-input",{staticClass:"phone-input",attrs:{type:"text",placeholder:"请输入手机号/邮箱"},model:{value:n.userData.phoneNumber,callback:function(i){n.$set(n.userData,"phoneNumber",i)},expression:"userData.phoneNumber"}})],1)],1)],1),t("uni-forms-item",{attrs:{name:"code"}},[t("v-uni-view",[t("v-uni-text",{staticClass:"phone-num code-code"},[n._v("验证码")]),t("v-uni-view",{staticClass:"phone-main code-main"},[t("v-uni-view",{staticClass:"phone-main-left"},[t("v-uni-image",{staticClass:"phone-img",staticStyle:{width:"27rpx","margin-right":"3rpx"},attrs:{src:e("841cf"),mode:"aspectFill"}}),t("v-uni-view",{staticClass:"login-line"}),t("v-uni-input",{staticClass:"phone-input",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:n.userData.code,callback:function(i){n.$set(n.userData,"code",i)},expression:"userData.code"}})],1),t("v-uni-view",{staticClass:"phone-main-left"},[t("v-uni-view",{staticClass:"login-line"}),t("v-uni-button",{staticClass:"phone-num",class:{codeGeting:n.isGeting},staticStyle:{border:"none",padding:"0",height:"17px","line-height":"17px"},attrs:{type:"text",size:"mini",plain:!0,disabled:n.disable},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.getCode.apply(void 0,arguments)}}},[n._v(n._s(n.time))])],1)],1)],1)],1)],1),t("v-uni-view",{staticClass:"login-button"},[t("v-uni-image",{attrs:{src:e("63b3"),mode:"aspectFill"},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.userLoginPhone.apply(void 0,arguments)}}})],1)],1):t("v-uni-view",{staticClass:"login-main"},[t("uni-forms",{ref:"loginFormPsw",attrs:{modelValue:n.userData,rules:n.loginPswRules}},[t("uni-forms-item",{attrs:{name:"phoneNumber"}},[t("v-uni-view",[t("v-uni-text",{staticClass:"phone-num"},[n._v("账号")]),t("v-uni-view",{staticClass:"phone-main"},[t("v-uni-image",{staticClass:"phone-img",staticStyle:{width:"28rpx","margin-right":"2rpx"},attrs:{src:e("8a83"),mode:"aspectFill"}}),t("v-uni-view",{staticClass:"login-line"}),t("v-uni-input",{staticClass:"phone-input",attrs:{type:"text",placeholder:"请输入账号"},model:{value:n.userData.phoneNumber,callback:function(i){n.$set(n.userData,"phoneNumber",i)},expression:"userData.phoneNumber"}})],1)],1)],1),t("uni-forms-item",{attrs:{name:"psw"}},[t("v-uni-view",[t("v-uni-text",{staticClass:"phone-num"},[n._v("密码")]),t("v-uni-view",{staticClass:"phone-main"},[t("v-uni-image",{staticClass:"phone-img",staticStyle:{width:"22rpx","margin-right":"8rpx"},attrs:{src:e("3540"),mode:"aspectFill"}}),t("v-uni-view",{staticClass:"login-line"}),t("v-uni-input",{staticClass:"phone-input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:n.userData.psw,callback:function(i){n.$set(n.userData,"psw",i)},expression:"userData.psw"}})],1)],1)],1)],1),t("v-uni-view",{staticClass:"login-button"},[t("v-uni-image",{attrs:{src:e("63b3"),mode:"aspectFill"},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.userLoginPsw.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"register-psw"})],1)],1)],1)},o=[]},bc31:function(n,i,e){"use strict";var t=e("4937"),a=e.n(t);a.a},eb9d:function(n,i,e){"use strict";e.r(i);var t=e("13f7"),a=e.n(t);for(var o in t)"default"!==o&&function(n){e.d(i,n,(function(){return t[n]}))}(o);i["default"]=a.a}}]);