(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["minePackage-register"],{2997:function(e,t,i){var a=i("858f");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("d6709f5e",a,!0,{sourceMap:!1,shadowMode:!1})},"3f7e":function(e,t,i){e.exports=i.p+"static/img/register.9e0bcd46.png"},"620b":function(e,t,i){"use strict";(function(e){i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{imgUrl:"",avatarImg:i("b864"),plurSelect:0,registerData:{headPic:"",nick:"",phoneNumber:"",code:"",password:""},registerRules:{nick:{rules:[{required:!0,errorMessage:"请输入昵称",trigger:"blur"}]},phoneNumber:{rules:[{required:!0,errorMessage:"请输入手机号/邮箱",trigger:"blur"}]},code:{rules:[{required:!0,errorMessage:"请输入验证码",trigger:"blur"}]},password:{rules:[{required:!0,errorMessage:"请输入6-14位密码"}]}},time:"获取验证码",count:59,isGeting:!1,disable:!1,countDown:null}},methods:{uploadClick:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(i){e.log("成功",i);var a=i.tempFilePaths;t.avatarImg=a[0],uni.uploadFile({url:t.$baseFileUrl+"/upload",fileType:"image",filePath:a[0],name:"upload-images",success:function(i){e.log(i),t.registerData.headPic=i.data.split("|")[0],uni.showToast({title:"头像上传成功",icon:"none"})},fail:function(t){e.log(t),uni.showToast({title:"头像上传失败"})}})},fail:function(t){e.log(t)}})},userRegister:function(){var t=this;this.$refs.registerForm.validate().then((function(i){e.log("表单数据",i),uni.showLoading({title:"注册中......"}),uni.request({method:"POST",url:t.$baseUrl+"/register",header:{"content-type":"application/json"},data:t.registerData,complete:function(i){e.log("注册啦"),e.log(i),uni.hideLoading(),0!=t.checkBack(i,!0)&&(t.setUserInfo(i),t.$isResolve(),uni.switchTab({url:"../pages/mine/mine"}))}})})).catch((function(t){e.log("表单错误",t)}))},getCode:function(){var t=this;""==this.registerData.phoneNumber?uni.showToast({title:"请输入手机号/邮箱",icon:"none"}):(uni.showLoading({title:"验证码获取中..."}),uni.request({method:"GET",url:this.$baseUrl+"/smsCodeGet",header:{"content-type":"application/json"},data:{phoneNumber:this.registerData.phoneNumber},complete:function(i){uni.hideLoading(),200==i.statusCode&&(t.countDown=setInterval((function(){t.count<1?(t.isGeting=!1,t.disable=!1,t.time="获取验证码",t.count=59,e.log(t.time),clearInterval(t.countDown),t.countDown=null):(t.isGeting=!0,t.disable=!0,t.time=t.count--+"s后可重发")}),1e3)),0!=t.checkBack(i,!0)&&t.$isResolve()}}))},nickFocus:function(){this.plurSelect=1},phoneFocus:function(){this.plurSelect=2},codeFocus:function(){this.plurSelect=3},pswFocus:function(){this.plurSelect=4}}};t.default=a}).call(this,i("5a52")["default"])},"82d0":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uniForms:i("8071").default,uniFormsItem:i("be7f").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"register-container"},[a("v-uni-view",{staticClass:"upload-img",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadClick.apply(void 0,arguments)}}},[a("v-uni-view",[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.avatarImg,mode:"aspectFill"}})],1),a("v-uni-text",{staticClass:"upload-font"},[e._v("点击上传头像")])],1),a("v-uni-view",{staticClass:"register-container-main"},[a("uni-forms",{ref:"registerForm",attrs:{modelValue:e.registerData,rules:e.registerRules}},[a("uni-forms-item",{attrs:{name:"nick"}},[a("v-uni-view",{staticClass:"register-every"},[a("v-uni-text",{staticClass:"every-font",style:{color:1==e.plurSelect?"#000":"#c3c3c3"}},[e._v("昵称")]),a("v-uni-input",{staticClass:"every-input",attrs:{placeholder:"请输入昵称","placeholder-style":"color: #dadada;",type:"text"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.nickFocus.apply(void 0,arguments)}},model:{value:e.registerData.nick,callback:function(t){e.$set(e.registerData,"nick",t)},expression:"registerData.nick"}}),a("v-uni-view",{staticClass:"every-line",style:{backgroundColor:1==e.plurSelect?"#85dbd0":"#ebebeb"}})],1)],1),a("uni-forms-item",{attrs:{name:"phoneNumber"}},[a("v-uni-view",{staticClass:"register-every"},[a("v-uni-text",{staticClass:"every-font",style:{color:2==e.plurSelect?"#000":"#c3c3c3"}},[e._v("手机号/邮箱")]),a("v-uni-input",{staticClass:"every-input",attrs:{placeholder:"请输入手机号/邮箱","placeholder-style":"color: #dadada;",type:"text"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.phoneFocus.apply(void 0,arguments)}},model:{value:e.registerData.phoneNumber,callback:function(t){e.$set(e.registerData,"phoneNumber",t)},expression:"registerData.phoneNumber"}}),a("v-uni-view",{staticClass:"every-line",style:{backgroundColor:2==e.plurSelect?"#85dbd0":"#ebebeb"}})],1)],1),a("uni-forms-item",{attrs:{name:"code"}},[a("v-uni-view",{staticClass:"register-every"},[a("v-uni-text",{staticClass:"every-font",style:{color:3==e.plurSelect?"#000":"#c3c3c3"}},[e._v("验证码")]),a("v-uni-view",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("v-uni-input",{staticClass:"every-input",attrs:{placeholder:"请输入验证码","placeholder-style":"color: #dadada;",type:"text"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.codeFocus.apply(void 0,arguments)}},model:{value:e.registerData.code,callback:function(t){e.$set(e.registerData,"code",t)},expression:"registerData.code"}}),a("v-uni-button",{staticClass:"phone-num",class:{codeGeting:e.isGeting},staticStyle:{border:"none",padding:"0"},attrs:{type:"text",plain:!0,size:"mini",disabled:e.disable},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[a("v-uni-text",{staticStyle:{margin:"0 10px",color:"#c3c3c3"}},[e._v("|")]),e._v(e._s(e.time))],1)],1),a("v-uni-view",{staticClass:"every-line",style:{backgroundColor:3==e.plurSelect?"#85dbd0":"#ebebeb"}})],1)],1),a("uni-forms-item",{attrs:{name:"password"}},[a("v-uni-view",{staticClass:"register-every"},[a("v-uni-text",{staticClass:"every-font",style:{color:4==e.plurSelect?"#000":"#c3c3c3"}},[e._v("密码")]),a("v-uni-input",{staticClass:"every-input",attrs:{placeholder:"请输入6-14位密码","placeholder-style":"color: #dadada;",type:"password"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.pswFocus.apply(void 0,arguments)}},model:{value:e.registerData.password,callback:function(t){e.$set(e.registerData,"password",t)},expression:"registerData.password"}}),a("v-uni-view",{staticClass:"every-line",style:{backgroundColor:4==e.plurSelect?"#85dbd0":"#ebebeb"}})],1)],1)],1)],1),a("v-uni-view",{staticClass:"register-button"},[a("v-uni-image",{attrs:{src:i("3f7e"),mode:"aspectFill"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userRegister.apply(void 0,arguments)}}})],1)],1)},n=[]},"858f":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.register-container[data-v-6ca6a05d]{padding:0 %?60?%}.register-container .upload-img[data-v-6ca6a05d]{margin-top:%?100?%;text-align:center}.register-container .upload-img .avatar[data-v-6ca6a05d]{width:%?152?%;height:%?152?%;border-radius:50%}.register-container .upload-img .upload-font[data-v-6ca6a05d]{margin-top:%?20?%;font-size:%?26?%}.register-container .register-container-main[data-v-6ca6a05d]{margin-top:%?96?%}.register-container .register-container-main .register-every .every-font[data-v-6ca6a05d]{font-size:%?26?%}.register-container .register-container-main .register-every .every-input[data-v-6ca6a05d]{margin-top:%?16?%;font-size:%?26?%;color:#000}.register-container .register-container-main .register-every .phone-num[data-v-6ca6a05d]{color:#000;font-size:%?26?%}.register-container .register-container-main .register-every .codeGeting[data-v-6ca6a05d]{color:#c3c3c3}.register-container .register-container-main .register-every .every-line[data-v-6ca6a05d]{width:100%;height:%?2?%;margin:%?20?% 0 0}.register-container .register-button[data-v-6ca6a05d]{width:%?630?%;margin:0 auto;margin-top:%?89?%}.register-container .register-button uni-image[data-v-6ca6a05d]{width:%?630?%;height:%?125?%}',""]),e.exports=t},ad55:function(e,t,i){"use strict";i.r(t);var a=i("620b"),r=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},b864:function(e,t,i){e.exports=i.p+"static/img/avatar.40e913a1.png"},c788:function(e,t,i){"use strict";i.r(t);var a=i("82d0"),r=i("ad55");for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("d0aa");var s,o=i("f0c5"),c=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"6ca6a05d",null,!1,a["a"],s);t["default"]=c.exports},d0aa:function(e,t,i){"use strict";var a=i("2997"),r=i.n(a);r.a}}]);