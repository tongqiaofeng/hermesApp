{"version":3,"sources":["uni-app:///main.js",null,"webpack:///G:/aa-tong/my-project/push-msg/hermesApp/App.vue?6937","uni-app:///App.vue","webpack:///G:/aa-tong/my-project/push-msg/hermesApp/App.vue?0f55","webpack:///G:/aa-tong/my-project/push-msg/hermesApp/App.vue?6fae"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$store","store","use","uView","config","productionTip","$baseUrl","$baseFileUrl","$baseJewelleryUrl","ignoredElements","push","checkBack","ret","bShwoTip","console","log","statusCode","uni","showToast","icon","title","data","message","duration","$onLaunched","Promise","resolve","$isResolve","checkLogin","getStorageSync","length","switchTab","url","setUserInfo","id","userInfo","userId","userRole","role","userToken","token","userNick","nick","userHeadPic","headPic","phoneNumber","username","totalIntegral","getApp","globalData","setStorageSync","formatNumberRgx","num","parts","toString","split","replace","join","ensignSel","currency","require","currencySel","regionSel","region","ensignReSel","getPrice","noPrice","undefined","String","costPrice","num1","num2","sq1","sq2","multiple","e","Math","pow","max","hidePageNavInWechatBrowser","App","mpType","app","$mount","g_pingpangTimes","closeTimes","g_firstInit","settime","chat_connectServer","clearInterval","that","connectSocket","success","res","fail","chat_recvFromServer","onSocketOpen","clearTimeout","chat_checkinServer","setInterval","chat_updateUserListCmd","onSocketError","setTimeout","onSocketClose","msg","type","sendSocketMessage","JSON","stringify","err","onSocketMessage","parse","msgList","userList","adminList","userIdx","chat_findUser","chatUserId","temp","unshift","obj","peon","reduce","cur","next","chat_recvNewMsg","chat_updatePage","chat_reddot","chat_updateUserPic","page","chat_getCurPage","chat_getMsgHistoryCmd","chat_readMsgCmd","msgListSendMark","chat_readMsgSuccess","chat_updateMsgState","sender","receiver","contentType","contentText","time","user","splice","readStatus","commit","pages","getCurrentPages","currentRoute","route","head_pic","chat_getUserInfoCmd","getSystemInfo","platform","vibrateShort","i","admin_findmsg","chat_sendToServer","chat_updateAdminListCmd","chat_deleteAdminList","index","chat_sendAdminList","content","chat_updateUserMsg","loadMore","chatid","addmore","msgStartId","chat_sendMsgToUserCmd","curDate","Date","toISOString","msgListobj","chat_deleteMsgCmd","msgId","curPage","$emit","redindex","findreddot","showTabBarRedDot","hideTabBarRedDot"],"mappings":";;;;;;;;;sDAAA,wCAA8E;AAC9E;AACA;AACA,8F,wnCAHmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAInBC,aAAIC,SAAJ,CAAcC,MAAd,GAAuBC,cAAvB;AACAH,aAAII,GAAJ,CAAQC,gBAAR;;AAEAL,aAAIM,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEAP,aAAIC,SAAJ,CAAcO,QAAd,GAAyB,sCAAzB;AACAR,aAAIC,SAAJ,CAAcQ,YAAd,GAA6B,iCAA7B;AACAT,aAAIC,SAAJ,CAAcS,iBAAd,GAAkC,yCAAlC;;AAEA;AACA;AACA;;AAEA;AACAV,aAAIM,MAAJ,CAAWK,eAAX,CAA2BC,IAA3B,CAAgC,sBAAhC;;AAEAZ,aAAIC,SAAJ,CAAcY,SAAd,GAA0B,UAASC,GAAT,EAA4B,KAAdC,QAAc,uEAAH,CAAG;AACrDC,SAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,SAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,MAAIA,GAAG,CAACI,UAAJ,IAAkB,GAAtB,EAA2B;AAC1B,WAAO,IAAP;AACA,GAFD,MAEO,IAAIH,QAAQ,IAAI,CAAhB,EAAmB;AACzB,QAAID,GAAG,CAACI,UAAJ,IAAkB,GAAtB;AACCC,OAAG,CAACC,SAAJ,CAAc;AACbC,UAAI,EAAE,MADO;AAEbC,WAAK,EAAER,GAAG,CAACS,IAAJ,CAASC,OAFH;AAGbC,cAAQ,EAAE,IAHG,EAAd,EADD;;AAMK,QAAIX,GAAG,CAACI,UAAJ,IAAkB,GAAtB;AACJC,OAAG,CAACC,SAAJ,CAAc;AACbC,UAAI,EAAE,MADO;AAEbC,WAAK,EAAE,SAFM;AAGbG,cAAQ,EAAE,IAHG,EAAd,EADI;;;AAOJN,OAAG,CAACC,SAAJ,CAAc;AACbC,UAAI,EAAE,MADO;AAEbC,WAAK,EAAE,UAFM;AAGbG,cAAQ,EAAE,IAHG,EAAd;;AAKD;;AAED,SAAO,KAAP;AACA,CA3BD;;AA6BAzB,aAAIC,SAAJ,CAAcyB,WAAd,GAA4B,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAClDZ,SAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,SAAO,CAACC,GAAR,CAAYW,OAAZ;AACA5B,eAAIC,SAAJ,CAAc4B,UAAd,GAA2BD,OAA3B;AACA;AACA;AACA;AACA;AACA;AACA,CAT2B,CAA5B;;AAWA5B,aAAIC,SAAJ,CAAc6B,UAAd,GAA2B,YAAW;AACrCd,SAAO,CAACC,GAAR,CAAY,MAAZ;AACA,MAAIE,GAAG,CAACY,cAAJ,CAAmB,OAAnB,EAA4BC,MAA5B,IAAsC,CAA1C,EAA6C;AAC5Cb,OAAG,CAACC,SAAJ,CAAc;AACbE,WAAK,EAAE,MADM;AAEbD,UAAI,EAAE,MAFO,EAAd;;AAIAF,OAAG,CAACc,SAAJ,CAAc;AACbC,SAAG,EAAE,kBADQ,EAAd;;AAGA,WAAO,IAAP;AACA,GATD,MASO;AACN,WAAO,KAAP;AACA;AACD,CAdD;;AAgBAlC,aAAIC,SAAJ,CAAckC,WAAd,GAA4B,UAASrB,GAAT,EAAc;AACzCE,SAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,SAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,MAAIA,GAAG,CAACS,IAAJ,CAASa,EAAT,IAAe,IAAnB;AACC;;AAED,MAAIC,QAAQ,GAAG,EAAf;AACAA,UAAQ,CAACC,MAAT,GAAkBxB,GAAG,CAACS,IAAJ,CAASa,EAA3B;AACAC,UAAQ,CAACE,QAAT,GAAoBzB,GAAG,CAACS,IAAJ,CAASiB,IAA7B;AACAH,UAAQ,CAACI,SAAT,GAAqB3B,GAAG,CAACS,IAAJ,CAASmB,KAA9B;AACAL,UAAQ,CAACM,QAAT,GAAoB7B,GAAG,CAACS,IAAJ,CAASqB,IAA7B;AACAP,UAAQ,CAACQ,WAAT,GAAuB/B,GAAG,CAACS,IAAJ,CAASuB,OAAhC;AACAT,UAAQ,CAACU,WAAT,GAAuBjC,GAAG,CAACS,IAAJ,CAASyB,QAAhC;AACAX,UAAQ,CAACY,aAAT,GAAyBnC,GAAG,CAACS,IAAJ,CAAS0B,aAAlC;;AAEAjC,SAAO,CAACC,GAAR,CAAYoB,QAAZ;;AAEAa,QAAM,GAAGC,UAAT,CAAoBd,QAApB,GAA+BA,QAA/B;AACAlB,KAAG,CAACiC,cAAJ,CAAmB,QAAnB,EAA6Bf,QAAQ,CAACC,MAAtC;AACAnB,KAAG,CAACiC,cAAJ,CAAmB,OAAnB,EAA4Bf,QAAQ,CAACI,SAArC;AACAtB,KAAG,CAACiC,cAAJ,CAAmB,MAAnB,EAA2Bf,QAAQ,CAACE,QAApC;AACApB,KAAG,CAACiC,cAAJ,CAAmB,MAAnB,EAA2Bf,QAAQ,CAACM,QAApC;AACAxB,KAAG,CAACiC,cAAJ,CAAmB,SAAnB,EAA8Bf,QAAQ,CAACQ,WAAvC;AACA1B,KAAG,CAACiC,cAAJ,CAAmB,aAAnB,EAAkCf,QAAQ,CAACU,WAA3C;AACA5B,KAAG,CAACiC,cAAJ,CAAmB,eAAnB,EAAoCf,QAAQ,CAACY,aAA7C;;AAEA,CA1BD;;AA4BA;AACAjD,aAAIC,SAAJ,CAAcoD,eAAd,GAAgC,UAASC,GAAT,EAAc;AAC7C,MAAIA,GAAG,IAAI,EAAP,IAAaA,GAAG,IAAI,IAApB,IAA4BA,GAAG,IAAI,CAAvC,EAA0C;AACzC,WAAO,CAAP;AACA,GAFD,MAEO;AACN,QAAIC,KAAK,GAAGD,GAAG,CAACE,QAAJ,GAAeC,KAAf,CAAqB,GAArB,CAAZ;AACAF,SAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASG,OAAT,CAAiB,uBAAjB,EAA0C,GAA1C,CAAX;AACA,WAAOH,KAAK,CAACI,IAAN,CAAW,GAAX,CAAP;AACA;AACD,CARD;;AAUA;AACA3D,aAAIC,SAAJ,CAAc2D,SAAd,GAA0B,UAASC,QAAT,EAAmB;AAC5C;AACA,UAAQA,QAAR;AACC,SAAK,KAAL;AACC,aAAOC,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,KAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,KAAL;AACC,aAAOA,mBAAO,CAAC,uCAAD,CAAd;AACA;AACD,SAAK,KAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,KAAL;AACC,aAAOA,mBAAO,CAAC,wCAAD,CAAd;AACA;AACD,SAAK,KAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA,YAlBF;;AAoBA,CAtBD;;AAwBA;AACA9D,aAAIC,SAAJ,CAAc8D,WAAd,GAA4B,UAASF,QAAT,EAAmB;AAC9C;AACA,UAAQA,QAAR;AACC,SAAK,GAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,GAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,GAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,GAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,GAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,GAAL;AACC,aAAO,KAAP;AACA,YAlBF;;AAoBA,CAtBD;;AAwBA;AACA7D,aAAIC,SAAJ,CAAc+D,SAAd,GAA0B,UAASC,MAAT,EAAiB;AAC1C;AACA,UAAQA,MAAR;AACC,SAAK,IAAL;AACC,aAAO,IAAP;AACA;AACD,SAAK,IAAL;AACC,aAAO,IAAP;AACA;AACD,SAAK,IAAL;AACC,aAAO,IAAP;AACA;AACD,SAAK,IAAL;AACC,aAAO,KAAP;AACA;AACD,SAAK,IAAL;AACC,aAAO,IAAP;AACA;AACD;AACC,aAAO,KAAP;AACA,YAlBF;;AAoBA,CAtBD;;AAwBA;AACAjE,aAAIC,SAAJ,CAAciE,WAAd,GAA4B,UAASD,MAAT,EAAiB;AAC5C;AACA,UAAQA,MAAR;AACC,SAAK,IAAL;AACC,aAAOH,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,IAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,IAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,IAAL;AACC,aAAOA,mBAAO,CAAC,sCAAD,CAAd;AACA;AACD,SAAK,IAAL;AACC,aAAOA,mBAAO,CAAC,uCAAD,CAAd;AACA;AACD;AACC,aAAOA,mBAAO,CAAC,uCAAD,CAAd;AACA,YAlBF;;AAoBA,CAtBD;;AAwBA9D,aAAIC,SAAJ,CAAckE,QAAd,GAAyB,UAASb,GAAT,EAAcO,QAAd,EAAwBO,OAAxB,EAAiC;AACzD;AACA,MAAIA,OAAO,IAAIC,SAAf;AACCD,SAAO,GAAG,IAAV;AACD,MAAId,GAAG,IAAI,IAAP,IAAeA,GAAG,IAAI,MAAtB,IAAgCA,GAAG,IAAI,EAAvC,IAA6CA,GAAG,IAAI,CAAxD;AACC,SAAOc,OAAP;;AAEDd,KAAG,GAAGgB,MAAM,CAAChB,GAAD,CAAZ;;AAEA,MAAIC,KAAK,GAAGD,GAAG,CAACE,QAAJ,GAAeC,KAAf,CAAqB,GAArB,CAAZ;AACAF,OAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASG,OAAT,CAAiB,uBAAjB,EAA0C,GAA1C,CAAX;AACA,SAAOG,QAAQ,GAAG,GAAX,GAAiBN,KAAK,CAACI,IAAN,CAAW,GAAX,CAAxB;AACA,CAZD;;AAcA;AACA3D,aAAIC,SAAJ,CAAcsE,SAAd,GAA0B,UAASC,IAAT,EAAeC,IAAf,EAAqB;AAC9C,MAAIC,GAAJ,EAASC,GAAT,EAAcC,QAAd;AACA,MAAI;AACHF,OAAG,GAAGF,IAAI,CAAChB,QAAL,GAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BzB,MAApC;AACA,GAFD,CAEE,OAAO6C,CAAP,EAAU;AACXH,OAAG,GAAG,CAAN;AACA;AACD,MAAI;AACHC,OAAG,GAAGF,IAAI,CAACjB,QAAL,GAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BzB,MAApC;AACA,GAFD,CAEE,OAAO6C,CAAP,EAAU;AACXF,OAAG,GAAG,CAAN;AACA;AACDC,UAAQ,GAAGE,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaD,IAAI,CAACE,GAAL,CAASN,GAAT,EAAcC,GAAd,IAAqB,CAAlC,CAAX;AACA,SAAO,CAACH,IAAI,GAAGI,QAAP,GAAkBH,IAAI,GAAGG,QAA1B,IAAsCA,QAA7C;AACA,CAdD;;AAgBA;AACA;AACA5E,aAAIC,SAAJ,CAAcgF,0BAAd,GAA2C,YAAM;;;;;;;;;;;AAWhD,CAXD;;AAaAC,aAAIC,MAAJ,GAAa,KAAb;;AAEA,IAAMC,GAAG,GAAG,IAAIpF,YAAJ;AACXG,OAAK,EAALA,cADW;AAER+E,YAFQ,EAAZ;;;AAKA,UAAAE,GAAG,EAACC,MAAJ;AACA,IAAIC,eAAe,GAAG,IAAtB;AACA,IAAIC,UAAU,GAAG,IAAjB;AACA,IAAIC,WAAW,GAAG,IAAlB;AACA,IAAIC,OAAO,GAAG,IAAd;;AAEA;AACAzF,aAAIC,SAAJ,CAAcyF,kBAAd,GAAmC,YAAW;;AAE7C1E,SAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBiC,MAAM,GAAGC,UAAT,CAAoBT,KAAzC;AACA,MAAIA,KAAK,GAAGQ,MAAM,GAAGC,UAAT,CAAoBT,KAAhC;AACA,MAAIA,KAAK,IAAI,EAAb,EAAiB;AACjB,MAAI4C,eAAe,IAAI,IAAvB,EAA6B;AAC5BK,iBAAa,CAACL,eAAD,CAAb;AACAA,mBAAe,GAAG,IAAlB;AACA;;AAED,MAAIM,IAAI,GAAG,IAAX;;AAEAzE,KAAG,CAAC0E,aAAJ,CAAkB;AACjB;AACA3D,OAAG,EAAE,8BAFY;AAGjB;AACA4D,WAAO,EAAE,iBAACC,GAAD,EAAS;AACjB/E,aAAO,CAACC,GAAR,CAAY8E,GAAZ;AACA,KANgB;AAOjBC,QAAI,EAAE,cAACD,GAAD,EAAS;AACd/E,aAAO,CAACC,GAAR,CAAY8E,GAAZ;AACA,KATgB,EAAlB;;;AAYA,OAAKE,mBAAL;;;AAGA9E,KAAG,CAAC+E,YAAJ,CAAiB,UAASH,GAAT,EAAc;AAC9B/E,WAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B8E,GAA9B;AACA,QAAIR,UAAU,IAAI,IAAlB,EAAwB;AACvBY,kBAAY,CAACZ,UAAD,CAAZ;AACAA,gBAAU,GAAG,IAAb;AACA;AACDK,QAAI,CAACQ,kBAAL;AACAd,mBAAe,GAAGe,WAAW,CAAC,YAAM;AACnCT,UAAI,CAACQ,kBAAL;AACA,KAF4B,EAE1B,KAF0B,CAA7B;;AAIA,QAAGjF,GAAG,CAACY,cAAJ,CAAmB,OAAnB,KAA+B,EAA/B,IAAqCZ,GAAG,CAACY,cAAJ,CAAmB,OAAnB,KAA+B,IAAvE,EAA4E;AAC3E4D,mBAAa,CAACL,eAAD,CAAb;AACA;;AAEDM,QAAI,CAACU,sBAAL;AACA,GAhBD;;AAkBAnF,KAAG,CAACoF,aAAJ,CAAkB,UAASR,GAAT,EAAc;AAC/B/E,WAAO,CAACC,GAAR,CAAY,eAAZ;AACAsE,cAAU,GAAGiB,UAAU,CAAC,YAAM;AAC7BZ,UAAI,CAACF,kBAAL;AACA,KAFsB,EAEpB,IAFoB,CAAvB;;AAIA,GAND;;AAQAvE,KAAG,CAACsF,aAAJ,CAAkB,YAAW;;AAE5B,GAFD;AAGA,CAxDD;;AA0DA;AACAzG,aAAIC,SAAJ,CAAcmG,kBAAd,GAAmC,YAAW;AAC7C,MAAIR,IAAI,GAAG,IAAX;;AAEA,MAAIc,GAAG,GAAG;AACTC,QAAI,EAAE,SADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB,EAAV;;;;;AAOAvB,KAAG,CAACyF,iBAAJ,CAAsB;AACrBrF,QAAI,EAAEsF,IAAI,CAACC,SAAL,CAAeJ,GAAf,CADe;AAErBZ,WAAO,EAAE,iBAACC,GAAD,EAAS;AACjB/E,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB8E,GAAtB;AACA,KAJoB;;AAMrBC,QAAI,EAAE,cAACe,GAAD,EAAS;AACd/F,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB8F,GAAtB;AACAnB,UAAI,CAACF,kBAAL;AACA,KAToB,EAAtB;;AAWA,CArBD;;AAuBA;AACA1F,aAAIC,SAAJ,CAAcgG,mBAAd,GAAoC,YAAW;;AAE9C9E,KAAG,CAAC6F,eAAJ,CAAoB,UAACjB,GAAD,EAAS;AAC5B/E,WAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB4F,IAAI,CAACI,KAAL,CAAWlB,GAAG,CAACxE,IAAf,CAArB;AACAP,WAAO,CAACC,GAAR,CAAY,SAAS4F,IAAI,CAACI,KAAL,CAAWlB,GAAG,CAACxE,IAAf,EAAqBoF,IAA1C;AACA;AACA,QAAIpF,IAAI,GAAGsF,IAAI,CAACI,KAAL,CAAWlB,GAAG,CAACxE,IAAf,CAAX;AACA,QAAIA,IAAI,CAACoF,IAAL,IAAa,iBAAjB,EAAoC;AACnCpF,UAAI,CAAC2F,OAAL,GAAe,EAAf;AACAhE,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BvG,IAA7B,CAAkCW,IAAlC;AACA,KAHD,MAGO,IAAIA,IAAI,CAACoF,IAAL,IAAa,cAAjB,EAAiC;AACvCzD,YAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8BxG,IAA9B,CAAmCW,IAAnC;AACA,KAFM,MAEA,IAAIA,IAAI,CAACoF,IAAL,IAAa,SAAjB,EAA4B;AAClC,UAAIU,OAAO,GAAG,KAAI,CAACC,aAAL,CAAmBpE,MAAM,GAAGC,UAAT,CAAoBoE,UAAvC,CAAd;AACA,UAAIC,IAAI,GAAGtE,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAjD;AACA,UAAIG,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjBnE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,GAAgD,EAAhD;AACAM,YAAI,CAACC,OAAL,CAAalG,IAAb;AACA,YAAImG,GAAG,GAAG,EAAV;AACA,YAAIC,IAAI,GAAGH,IAAI,CAACI,MAAL,CAAY,UAACC,GAAD,EAAMC,IAAN,EAAe;AACrCJ,aAAG,CAACI,IAAI,CAAC1F,EAAN,CAAH,GAAe,EAAf,GAAoBsF,GAAG,CAACI,IAAI,CAAC1F,EAAN,CAAH,GAAe,KAAI,IAAIyF,GAAG,CAACjH,IAAJ,CAASkH,IAAT,CAA3C;AACA,iBAAOD,GAAP;AACA,SAHU,EAGR,EAHQ,CAAX;AAIA7G,eAAO,CAACC,GAAR,CAAY0G,IAAZ;AACAzE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,GAAgDS,IAAhD;AACA;AACD,KAdM,MAcA,IAAIpG,IAAI,CAACoF,IAAL,IAAa,SAAjB,EAA4B;AAClC;AACA;AACA,WAAI,CAACoB,eAAL,CAAqBxG,IAArB;AACA,WAAI,CAACyG,eAAL,CAAqB,MAArB;AACA,WAAI,CAACA,eAAL,CAAqB,MAArB;AACA,WAAI,CAACC,WAAL;AACA,KAPM,MAOA,IAAI1G,IAAI,CAACoF,IAAL,IAAa,cAAjB,EAAiC;AACvCzD,YAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8BxG,IAA9B,CAAmCW,IAAnC;AACA,KAFM,MAEA,IAAIA,IAAI,CAACoF,IAAL,IAAa,MAAjB,EAAyB;AAC/B;AACA,WAAI,CAACuB,kBAAL,CAAwB3G,IAAxB;AACA,KAHM,MAGA,IAAIA,IAAI,CAACoF,IAAL,IAAa,qBAAjB,EAAwC;AAC9C,WAAI,CAACqB,eAAL,CAAqB,MAArB;AACA,WAAI,CAACC,WAAL;AACA,UAAIzC,WAAW,IAAI,IAAnB,EAAyB;AACxB,YAAI2C,IAAI,GAAG,KAAI,CAACC,eAAL,EAAX;AACA,YAAID,IAAI,IAAI,MAAZ,EAAoB;AACnB,eAAI,CAACE,qBAAL,CAA2BnF,MAAM,GAAGC,UAAT,CAAoBoE,UAA/C,EAA2D,KAA3D,EAAkE,CAAlE,EAAqE,QAArE;AACA;AACD,OALD,MAKO;AACN/B,mBAAW,GAAG,KAAd;AACA;;AAED,KAZM,MAYA,IAAIjE,IAAI,CAACoF,IAAL,IAAa,aAAjB,EAAgC;AACtC,WAAI,CAACqB,eAAL,CAAqB,MAArB;AACA,UAAIX,QAAO,GAAG,KAAI,CAACC,aAAL,CAAmBpE,MAAM,GAAGC,UAAT,CAAoBoE,UAAvC,CAAd;AACA,UAAIF,QAAO,GAAG,CAAC,CAAf,EAAkB;AACjB,YAAInE,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,QAA7B,EAAsC/D,GAAtC,GAA4C,CAAhD;AACC,aAAI,CAACgF,eAAL,CAAqBpF,MAAM,GAAGC,UAAT,CAAoBoE,UAAzC;AACDrE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,QAA7B,EAAsCkB,eAAtC,GAAwD,IAAxD;AACA;AACD,KARM,MAQA,IAAIhH,IAAI,CAACoF,IAAL,IAAa,cAAjB,EAAiC;AACvC,WAAI,CAAC6B,mBAAL,CAAyBjH,IAAzB;AACA,WAAI,CAACyG,eAAL,CAAqB,MAArB;AACA,WAAI,CAACC,WAAL;AACA,KAJM,MAIA,IAAI1G,IAAI,CAACoF,IAAL,IAAa,gBAAjB,EAAmC;AACzC,WAAI,CAAC8B,mBAAL,CAAyBlH,IAAzB;AACA,WAAI,CAACyG,eAAL,CAAqB,MAArB;AACA,WAAI,CAACA,eAAL,CAAqB,MAArB;AACA,WAAI,CAACC,WAAL;AACA,KALM,MAKA,IAAI1G,IAAI,CAACoF,IAAL,IAAa,qBAAjB,EAAwC;AAC9C,WAAI,CAAC8B,mBAAL,CAAyBlH,IAAzB;AACA;AACD,GApED;AAqEA,CAvED;;AAyEA;AACAvB,aAAIC,SAAJ,CAAc8H,eAAd,GAAgC,UAASxG,IAAT,EAAe;AAC9C,MAAI4G,IAAI,GAAG,KAAKC,eAAL,EAAX;AACAjH,KAAG,CAACiC,cAAJ,CAAmB,SAAnB,EAA8B,KAA9B;AACA,MAAI7B,IAAI,CAACmH,MAAL,IAAexF,MAAM,GAAGC,UAAT,CAAoBb,MAAvC,EAA+C;AAC9C;AACA,QAAI,IAAJ,EAAU;AACT;AACA;AACA,UAAI+E,OAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACoH,QAAxB,CAAd;AACA,UAAItB,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjB;AACAnE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCuB,WAAtC,GAAoDrH,IAAI,CAACqH,WAAzD;AACA1F,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCwB,WAAtC,GAAoDtH,IAAI,CAACsH,WAAzD;AACA3F,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCyB,IAAtC,GAA6CvH,IAAI,CAACuH,IAAlD;AACA5F,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCjF,EAAtC,GAA2Cb,IAAI,CAACa,EAAhD;AACA;AACA,YAAIiF,OAAO,GAAG,CAAd,EAAiB;AAChB,cAAI0B,IAAI,GAAG7F,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,CAAX;AACAnE,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6B6B,MAA7B,CAAoC3B,OAApC,EAA6C,CAA7C;AACAnE,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BM,OAA7B,CAAqCsB,IAArC;AACA;AACD,OAZD,MAYO;;AAEN;;AAED;AACA,WAAKN,mBAAL,CAAyBlH,IAAzB;;AAEA,KAvBD,MAuBO,EAEN;AACD,GA5BD,MA4BO;AACN;AACA;AACA,QAAI8F,SAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACmH,MAAxB,CAAd;;AAEA,QAAIrB,SAAO,GAAG,CAAC,CAAf,EAAkB;AACjB;AACAnE,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCuB,WAAtC,GAAoDrH,IAAI,CAACqH,WAAzD;AACA1F,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCwB,WAAtC,GAAoDtH,IAAI,CAACsH,WAAzD;AACA3F,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCyB,IAAtC,GAA6CvH,IAAI,CAACuH,IAAlD;AACA5F,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCjF,EAAtC,GAA2Cb,IAAI,CAACa,EAAhD;AACA;AACAb,UAAI,CAACoF,IAAL,GAAY,SAAZ;AACA;AACA;;AAEA,UAAIwB,IAAI,IAAI,MAAR,IAAkB5G,IAAI,CAACmH,MAAL,IAAexF,MAAM,GAAGC,UAAT,CAAoBoE,UAAzD,EAAqE;AACpE;AACA;AACAhG,YAAI,CAAC0H,UAAL,GAAkB,CAAlB;AACA,aAAKX,eAAL,CAAqBpF,MAAM,GAAGC,UAAT,CAAoBoE,UAAzC;AACAvG,eAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AACA;AACAd,uBAAM+I,MAAN,CAAa,cAAb,EAA6B,KAA7B;AACA,OATD,MASO;AACN3H,YAAI,CAAC0H,UAAL,GAAkB,CAAlB;AACA,YAAIE,KAAK,GAAGC,eAAe,EAA3B,CAFM,CAEwB;AAC9B,YAAIC,YAAY,GAAGF,KAAK,CAACA,KAAK,CAACnH,MAAN,GAAe,CAAhB,CAAL,CAAwBsH,KAA3C;AACA,UAAEpG,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsC/D,GAAxC;AACA,YAAI+F,YAAY,IAAI,8BAApB;AACClJ,uBAAM+I,MAAN,CAAa,cAAb,EAA6B,IAA7B;AACDlI,eAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBiC,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,CAApB;AACA;AACA5B,eAAO,GAAGe,UAAU,CAAE,YAAM;AAC3BrG,yBAAM+I,MAAN,CAAa,cAAb,EAA6B,KAA7B;AACA,SAFmB,EAEhB,IAFgB,CAApB;;AAIA;;AAEDhG,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8CtG,IAA9C,CAAmDW,IAAnD;AACA;AACA;AACA,UAAI8F,SAAO,GAAG,CAAd,EAAiB;AAChB,YAAI0B,KAAI,GAAG7F,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,CAAX;AACAnE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6B6B,MAA7B,CAAoC3B,SAApC,EAA6C,CAA7C;AACAnE,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BM,OAA7B,CAAqCsB,KAArC;AACA;AACD,KA3CD,MA2CO;AACN;AACA,UAAIA,MAAI,GAAG,EAAX;AACAA,YAAI,CAACpC,IAAL,GAAY,iBAAZ;AACAoC,YAAI,CAACzG,MAAL,GAAcf,IAAI,CAACmH,MAAnB;AACAK,YAAI,CAACzF,GAAL,GAAW,CAAX;AACAyF,YAAI,CAACH,WAAL,GAAmBrH,IAAI,CAACqH,WAAxB;AACAG,YAAI,CAACF,WAAL,GAAmBtH,IAAI,CAACsH,WAAxB;AACAE,YAAI,CAACJ,QAAL,GAAgBzF,MAAM,GAAGC,UAAT,CAAoBb,MAApC;AACAyG,YAAI,CAACD,IAAL,GAAYvH,IAAI,CAACuH,IAAjB;AACAC,YAAI,CAAC/F,QAAL,GAAgB,IAAhB;AACA+F,YAAI,CAACQ,QAAL,GAAgB,IAAhB;;AAEAhI,UAAI,CAAC0H,UAAL,GAAkB,CAAlB;AACAF,YAAI,CAAC7B,OAAL,GAAe,EAAf;AACA6B,YAAI,CAAC7B,OAAL,CAAatG,IAAb,CAAkBW,IAAlB;AACA2B,YAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BM,OAA7B,CAAqCsB,MAArC;;AAEA;AACA,WAAKS,mBAAL,CAAyBjI,IAAI,CAACmH,MAA9B;AACA;AACD;AACAvH,OAAG,CAACsI,aAAJ,CAAkB;AACjB3D,aADiB,mBACTC,GADS,EACJ;AACZ,YAAIA,GAAG,CAAC2D,QAAJ,IAAgB,KAApB,EAA2B;AAC1B;AACA,SAFD,MAEO,IAAI3D,GAAG,CAAC2D,QAAJ,IAAgB,SAApB,EAA+B;AACrCvI,aAAG,CAACwI,YAAJ,CAAiB;AAChB7D,mBAAO,EAAE,mBAAW;AACnB9E,qBAAO,CAACC,GAAR,CAAY,SAAZ;AACA,aAHe,EAAjB;;AAKA;AACD,OAXgB,EAAlB;;;AAcA;AACD,CApHD;;AAsHA;AACAjB,aAAIC,SAAJ,CAAcqH,aAAd,GAA8B,UAAShF,MAAT,EAAiB;AAC9C;AACA,OAAK,IAAIsH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BnF,MAAjD,EAAyD,EAAE4H,CAA3D,EAA8D;AAC7D,QAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6ByC,CAA7B,EAAgCtH,MAAhC,IAA0CA,MAA9C;AACC,WAAOsH,CAAP;AACD;AACD,SAAO,CAAC,CAAR;AACA,CAPD;AAQA5J,aAAIC,SAAJ,CAAc4J,aAAd,GAA8B,UAASzH,EAAT,EAAa;AAC1CpB,SAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBiC,MAAM,GAAGC,UAAT,CAAoBiE,SAA1C;AACA,OAAK,IAAIwC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8BpF,MAAlD,EAA0D,EAAE4H,CAA5D,EAA+D;AAC9D,QAAI1G,MAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8BwC,CAA9B,EAAiCxH,EAAjC,IAAuCA,EAA3C;AACC,WAAOwH,CAAP;AACD;AACD,SAAO,CAAC,CAAR;AACA,CAPD;AAQA;AACA5J,aAAIC,SAAJ,CAAc6J,iBAAd,GAAkC,UAASpD,GAAT,EAAc;AAC/CvF,KAAG,CAACyF,iBAAJ,CAAsB;AACrBrF,QAAI,EAAEsF,IAAI,CAACC,SAAL,CAAeJ,GAAf,CADe;AAErBZ,WAAO,EAAE,iBAASC,GAAT,EAAc;AACtB/E,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoByF,GAApB;AACA,KAJoB;;AAMrBV,QAAI,EAAE,cAASD,GAAT,EAAc;AACnB/E,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB8E,GAApB;AACA,KARoB,EAAtB;;AAUA,CAXD;;AAaA;AACA/F,aAAIC,SAAJ,CAAcqG,sBAAd,GAAuC,YAAW;AACjD,MAAII,GAAG,GAAG;AACTC,QAAI,EAAE,iBADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB,EAAV;;AAIA1B,SAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCyF,GAAtC;AACAxD,QAAM,GAAGC,UAAT,CAAoBgE,QAApB,GAA+B,EAA/B;AACA,OAAK2C,iBAAL,CAAuBpD,GAAvB;AACA,CARD;AASA1G,aAAIC,SAAJ,CAAc8J,uBAAd,GAAwC,YAAW;AAClD,MAAIrD,GAAG,GAAG;AACTC,QAAI,EAAE,cADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB,EAAV;;AAIA1B,SAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCyF,GAAvC;AACAxD,QAAM,GAAGC,UAAT,CAAoBiE,SAApB,GAAgC,EAAhC;AACA,OAAK0C,iBAAL,CAAuBpD,GAAvB;AACA,CARD;AASA1G,aAAIC,SAAJ,CAAc+J,oBAAd,GAAqC,UAASzI,IAAT,EAAe;AACnD,MAAImF,GAAG,GAAG;AACTC,QAAI,EAAE,aADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTN,MAAE,EAAEb,IAAI,CAACa,EAHA,EAAV;;AAKApB,SAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCyF,GAApC;AACA,MAAIuD,KAAK,GAAG,KAAKJ,aAAL,CAAmBtI,IAAI,CAACa,EAAxB,CAAZ;AACAc,QAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8B4B,MAA9B,CAAqCiB,KAArC,EAA4C,CAA5C;AACA,OAAKH,iBAAL,CAAuBpD,GAAvB;AACA,CAVD;AAWA1G,aAAIC,SAAJ,CAAciK,kBAAd,GAAmC,UAASvD,IAAT,EAAewD,OAAf,EAAwB;AAC1D,MAAIzD,GAAG,GAAG;AACTC,QAAI,EAAE,cADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTiG,YAAQ,EAAErG,MAHD;AAITsG,eAAW,EAAEjC,IAJJ;AAKTkC,eAAW,EAAEsB,OALJ,EAAV;;AAOAnJ,SAAO,CAACC,GAAR,CAAY,cAAZ;AACA,OAAK6I,iBAAL,CAAuBpD,GAAvB;AACA,CAVD;;;AAaA1G,aAAIC,SAAJ,CAAcmK,kBAAd,GAAmC,UAAS9H,MAAT,EAAiB;AACnD,MAAIY,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,IAAgC9C,SAApC,EAA+CnB,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,GAA+B,EAA/B;AAC/C,MAAIE,OAAO,GAAG,KAAKC,aAAL,CAAmBhF,MAAnB,CAAd;AACAtB,SAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCqB,MAAlC,EAA0C+E,OAA1C;AACA,MAAIA,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjBrG,WAAO,CAACC,GAAR,CAAYiC,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAlD,EAA2D,CAAChE,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B;AAC1DkB,mBADF;AAEA,QAAIrF,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,IAAwD,CAAxD,IAA6D,CAACkB,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B;AAChEkB,mBADF;AAEC,SAAKF,qBAAL,CAA2B/F,MAA3B,EAAmC,KAAnC,EAA0C,CAA1C,EAA6C,QAA7C,EAFD;;AAIC,SAAK0F,eAAL,CAAqB,MAArB;;AAED,QAAI9E,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsC/D,GAAtC,GAA4C,CAAhD;AACC,SAAKgF,eAAL,CAAqBhG,MAArB;AACD;AACD,CAhBD;;AAkBA;AACAtC,aAAIC,SAAJ,CAAcoI,qBAAd,GAAsC,UAAS/F,MAAT,EAAmD,KAAlC+H,QAAkC,uEAAvB,IAAuB,KAAjBC,MAAiB,uDAATC,OAAS;AACxF,MAAIC,UAAU,GAAGF,MAAjB;AACA,MAAIjD,OAAO,GAAG,KAAKC,aAAL,CAAmBhF,MAAnB,CAAd;AACAtB,SAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBsJ,OAApB;AACA,MAAIA,OAAO,IAAI,KAAf;AACCpJ,KAAG,CAACiC,cAAJ,CAAmB,SAAnB,EAA8B,IAA9B,EADD;;AAGCjC,KAAG,CAACiC,cAAJ,CAAmB,SAAnB,EAA8B,KAA9B;AACD,MAAIiE,OAAO,GAAG,CAAC,CAAX,IAAgBgD,QAApB,EAA8B;AAC7B,QAAInH,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAA3D,EAA8D;AAC7DwI,gBAAU,GAAGtH,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C,CAA9C,EAAiD9E,EAA9D;AACA;AACApB,aAAO,CAACC,GAAR,CAAYuJ,UAAZ;AACA;AACD;AACD,MAAI9D,GAAG,GAAG;AACTC,QAAI,EAAE,SADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTJ,UAAM,EAAEA,MAHC;AAITF,MAAE,EAAEoI,UAJK;AAKTlH,OAAG,EAAE,EALI,EAAV;;AAOAtC,SAAO,CAACC,GAAR,CAAY,SAAZ;AACA,OAAK6I,iBAAL,CAAuBpD,GAAvB;AACA,CAxBD;;AA0BA;AACA1G,aAAIC,SAAJ,CAAcwK,qBAAd,GAAsC,UAASnI,MAAT,EAAiB6H,OAAjB,EAA0BxD,IAA1B,EAAgC;AACrE,MAAID,GAAG,GAAG;AACTC,QAAI,EAAE,SADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTiG,YAAQ,EAAErG,MAHD;AAITsG,eAAW,EAAEjC,IAJJ;AAKTkC,eAAW,EAAEsB,OALJ,EAAV;;AAOAnJ,SAAO,CAACC,GAAR,CAAY,SAAZ;AACA,OAAK6I,iBAAL,CAAuBpD,GAAvB;;AAEA,MAAIW,OAAO,GAAG,KAAKC,aAAL,CAAmBhF,MAAnB,CAAd;AACA,MAAI+E,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjB,QAAIqD,OAAO,GAAG,IAAIC,IAAJ,EAAd;AACAjE,OAAG,CAACC,IAAJ,GAAW,SAAX;AACAD,OAAG,CAACgC,MAAJ,GAAaxF,MAAM,GAAGC,UAAT,CAAoBb,MAAjC;AACAoE,OAAG,CAACoC,IAAJ,GAAW4B,OAAO,CAACE,WAAR,EAAX;AACAlE,OAAG,CAACuC,UAAJ,GAAiB,CAAC,CAAlB,CALiB,CAKI;AACrB/F,UAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8CtG,IAA9C,CAAmD8F,GAAnD;AACA,GAPD,MAOO;AACN;AACA,QAAIgE,OAAO,GAAG,IAAIC,IAAJ,EAAd;AACA,QAAI5B,IAAI,GAAG,EAAX;AACAA,QAAI,CAACpC,IAAL,GAAY,iBAAZ;AACAoC,QAAI,CAACzG,MAAL,GAAcA,MAAd;AACAyG,QAAI,CAACzF,GAAL,GAAW,CAAX;AACAyF,QAAI,CAACH,WAAL,GAAmB,CAAnB;AACAG,QAAI,CAACF,WAAL,GAAmBsB,OAAnB;AACApB,QAAI,CAACJ,QAAL,GAAgBrG,MAAhB;AACAyG,QAAI,CAACD,IAAL,GAAY4B,OAAO,CAACE,WAAR,EAAZ;AACA7B,QAAI,CAAC/F,QAAL,GAAgB,IAAhB;AACA+F,QAAI,CAACQ,QAAL,GAAgB,IAAhB;;AAEAR,QAAI,CAAC7B,OAAL,GAAe,EAAf;AACAR,OAAG,CAACC,IAAJ,GAAW,SAAX;AACAD,OAAG,CAACgC,MAAJ,GAAaxF,MAAM,GAAGC,UAAT,CAAoBb,MAAjC;AACAoE,OAAG,CAACoC,IAAJ,GAAW4B,OAAO,CAACE,WAAR,EAAX;AACAlE,OAAG,CAACuC,UAAJ,GAAiB,CAAC,CAAlB,CAlBM,CAkBe;AACrBF,QAAI,CAAC7B,OAAL,CAAatG,IAAb,CAAkB8F,GAAlB;AACAxD,UAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BM,OAA7B,CAAqCsB,IAArC;;AAEA;AACA,SAAKS,mBAAL,CAAyBT,IAAI,CAACJ,QAA9B;AACA;AACD;AACA,CA7CD;;AA+CA;AACA3I,aAAIC,SAAJ,CAAcwI,mBAAd,GAAoC,UAASlH,IAAT,EAAe;AAClD,MAAIA,IAAI,CAACoF,IAAL,IAAa,SAAjB,EAA4B;AAC3B,QAAIU,OAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACoH,QAAxB,CAAd;AACA,QAAItB,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjB,WAAK,IAAIuC,CAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAApE,EAAuE4H,CAAC,IAAI,CAA5E,EAA+E,EAAEA,CAAjF,EAAoF;AACnF,YAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C0C,CAA9C,EAAiDX,UAAjD,IAA+D,CAAC,CAApE,EAAuE;AACtE,cAAI/F,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C0C,CAA9C,EAAiDhB,WAAjD,IAAgErH,IAAI,CAACqH,WAArE;AACH1F,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C0C,CAA9C,EAAiDf,WAAjD,IAAgEtH,IAAI,CAACsH,WADtE,EACmF;AAClF3F,kBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C0C,CAA9C,EAAiDX,UAAjD,GAA8D,CAA9D;AACA/F,kBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCH,OAAtC,CAA8C0C,CAA9C,EAAiDxH,EAAjD,GAAsDb,IAAI,CAACa,EAA3D;AACA;AACA;AACD;AACD;AACD;AACD,GAdD,MAcO,IAAIb,IAAI,CAACoF,IAAL,IAAa,gBAAjB,EAAmC;AACzC;AACA,QAAIU,SAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACmH,MAAxB,CAAd;AACA,QAAIrB,SAAO,GAAG,CAAC,CAAf,EAAkB,CAAE;AACnB,WAAK,IAAIuC,EAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAApE,EAAuE4H,EAAC,IAAI,CAA5E,EAA+E,EAAEA,EAAjF,EAAoF;AACnF,YAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,EAA9C,EAAiDxH,EAAjD,IAAuDb,IAAI,CAACa,EAAhE,EAAoE;AACnEpB,iBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBiC,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,EAA9C,CAArB;AACA,cAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,EAA9C,EAAiDX,UAAjD,IAA+D,CAAnE,EAAsE;AACrE,gBAAI3F,GAAG,GAAGJ,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsC/D,GAAhD;AACC,cAAEA,GAAF;AACDJ,kBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsC/D,GAAtC,GAA4CA,GAAG,GAAG,CAAN,GAAU,CAAV,GAAcA,GAA1D;AACA;AACDJ,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCyB,IAAtC,GAA6C,IAAI6B,IAAJ,GAAWC,WAAX,EAA7C;AACA1H,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,EAA9C,EAAiDX,UAAjD,GAA8D,CAAC,CAA/D,CARmE,CAQD;;AAElE,cAAIW,EAAC,IAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAAhE,EAAmE;AAClEkB,kBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCwB,WAAtC,GAAoD,aAApD;AACA;AACD;AACA;AACD;AACD,UAAI3F,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,IAAwD,CAA5D,EAA+D;AAC9DkB,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCwB,WAAtC,GAAoD,aAApD;AACA,YAAIvF,IAAG,GAAGJ,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsC/D,GAAhD;AACC,UAAEA,IAAF;AACDJ,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsC/D,GAAtC,GAA4CA,IAAG,GAAG,CAAN,GAAU,CAAV,GAAcA,IAA1D;AACA,YAAIuH,UAAU,GAAG;AAChB5B,oBAAU,EAAE,CAAC,CADG;AAEhBH,cAAI,EAAE,IAAI6B,IAAJ,GAAWC,WAAX,EAFU;AAGhBjE,cAAI,EAAE,SAHU;AAIhB+B,gBAAM,EAAEnH,IAAI,CAACmH,MAJG,EAAjB;;AAMAxF,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C,CAA9C,IAAmD2D,UAAnD;AACA3H,cAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCyB,IAAtC,GAA6C,IAAI6B,IAAJ,GAAWC,WAAX,EAA7C;AACA;AACD;;AAEDvD,aAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACoH,QAAxB,CAAV;AACA,QAAItB,SAAO,GAAG,CAAC,CAAf,EAAkB,CAAE;AACnB,WAAK,IAAIuC,GAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAApE,EAAuE4H,GAAC,IAAI,CAA5E,EAA+E,EAAEA,GAAjF,EAAoF;AACnF,YAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,GAA9C,EAAiDxH,EAAjD,IAAuDb,IAAI,CAACa,EAAhE,EAAoE;AACnEc,gBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8C0C,GAA9C,EAAiDX,UAAjD,GAA8D,CAAC,CAA/D;AACA,cAAIW,GAAC,IAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCH,OAAtC,CAA8ClF,MAA9C,GAAuD,CAAhE,EAAmE;AAClEkB,kBAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,SAA7B,EAAsCwB,WAAtC,GAAoD,YAApD;AACA;AACD;AACA;AACD;AACD;AACD,GAjDM,MAiDA,IAAItH,IAAI,CAACoF,IAAL,IAAa,qBAAjB,EAAwC;AAC9C;AACA,QAAIU,SAAO,GAAG,KAAKwC,aAAL,CAAmBtI,IAAI,CAACa,EAAxB,CAAd;AACAc,UAAM,GAAGC,UAAT,CAAoBiE,SAApB,CAA8B4B,MAA9B,CAAqC3B,SAArC,EAA8C,CAA9C;AACA;AACD,CArED;;AAuEA;AACArH,aAAIC,SAAJ,CAAcqI,eAAd,GAAgC,UAAShG,MAAT,EAAiB;AAChD,MAAIoE,GAAG,GAAG;AACTC,QAAI,EAAE,MADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTJ,UAAM,EAAEA,MAHC,EAAV;;AAKAtB,SAAO,CAACC,GAAR,CAAY,MAAZ;AACA,OAAK6I,iBAAL,CAAuBpD,GAAvB;AACA,CARD;;AAUA;AACA1G,aAAIC,SAAJ,CAAcuI,mBAAd,GAAoC,UAASjH,IAAT,EAAe;AAClD,MAAI8F,OAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACe,MAAxB,CAAd;AACA,MAAI+E,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjBnE,UAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsC/D,GAAtC,GAA4C,CAA5C;AACA;AACD,CALD;;AAOA;AACAtD,aAAIC,SAAJ,CAAc6K,iBAAd,GAAkC,UAASxI,MAAT,EAAiByI,KAAjB,EAAwB;AACzD,MAAIrE,GAAG,GAAG;AACTC,QAAI,EAAE,QADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTiG,YAAQ,EAAErG,MAHD;AAITF,MAAE,EAAE2I,KAJK,EAAV;;AAMA/J,SAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,SAAO,CAACC,GAAR,CAAYyF,GAAZ;AACA,OAAKoD,iBAAL,CAAuBpD,GAAvB;AACA,CAVD;;AAYA;AACA1G,aAAIC,SAAJ,CAAcuJ,mBAAd,GAAoC,UAASlH,MAAT,EAAiB;AACpD,MAAIoE,GAAG,GAAG;AACTC,QAAI,EAAE,MADG;AAETjE,SAAK,EAAEQ,MAAM,GAAGC,UAAT,CAAoBT,KAFlB;AAGTJ,UAAM,EAAEA,MAHC,EAAV;;AAKAtB,SAAO,CAACC,GAAR,CAAY,MAAZ;AACA,OAAK6I,iBAAL,CAAuBpD,GAAvB;AACA,CARD;;AAUA;AACA1G,aAAIC,SAAJ,CAAciI,kBAAd,GAAmC,UAAS3G,IAAT,EAAe;AACjD,MAAI8F,OAAO,GAAG,KAAKC,aAAL,CAAmB/F,IAAI,CAACa,EAAxB,CAAd;AACA,MAAIiF,OAAO,GAAG,CAAC,CAAf,EAAkB;AACjB;AACAnE,UAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCrE,QAAtC,GAAiDzB,IAAI,CAACyB,QAAtD;AACAE,UAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BE,OAA7B,EAAsCkC,QAAtC,GAAiDhI,IAAI,CAACgI,QAAtD;;AAEA;AACApJ,mBAAM+I,MAAN,CAAa,cAAb,EAA6B,IAA7B;AACAlI,WAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AACAwE,WAAO,GAAGe,UAAU,CAAE,YAAM;AAC3BrG,qBAAM+I,MAAN,CAAa,cAAb,EAA6B,KAA7B;AACA,KAFmB,EAEhB,IAFgB,CAApB;;AAIA;AACA;AACA;AACA;AACA;AACA;AACD,CArBD;;AAuBA;AACAlJ,aAAIC,SAAJ,CAAcmI,eAAd,GAAgC,YAAW;AAC1C,MAAIe,KAAK,GAAGC,eAAe,EAA3B,CAD0C,CACZ;AAC9B,MAAIC,YAAY,GAAGF,KAAK,CAACA,KAAK,CAACnH,MAAN,GAAe,CAAhB,CAAL,CAAwBsH,KAA3C;AACA;AACA,MAAID,YAAY,IAAI,uBAApB;AACC,SAAO,MAAP,CADD;AAEK,MAAIA,YAAY,IAAI,8BAApB;AACJ,SAAO,MAAP,CADI;;AAGJ,SAAO,EAAP;AACD,CAVD;;AAYA;AACArJ,aAAIC,SAAJ,CAAc+H,eAAd,GAAgC,UAASG,IAAT,EAAe;AAC9C,MAAI6C,OAAO,GAAG,KAAK5C,eAAL,EAAd;AACA;AACA,MAAI4C,OAAO,IAAI7C,IAAf,EAAqB;AACpB,QAAIA,IAAI,IAAI,MAAZ,EAAoB;AACnBhH,SAAG,CAAC8J,KAAJ,CAAU,kBAAV,EAA8B,EAA9B;AACA;AACA,KAHD,MAGO,IAAI9C,IAAI,IAAI,MAAZ,EAAoB;AAC1BhH,SAAG,CAAC8J,KAAJ,CAAU,iBAAV,EAA6B,EAA7B;AACA;AACA;AACD;AACD;;;;;;;;;AASA,CArBD;AAsBAjL,aAAIC,SAAJ,CAAcgI,WAAd,GAA4B,YAAW;AACtC,MAAIiD,QAAQ,GAAG,KAAKC,UAAL,EAAf;AACA,MAAID,QAAQ,GAAG,CAAC,CAAhB,EAAmB;AAClB/J,OAAG,CAACiK,gBAAJ,CAAqB;AACpBnB,WAAK,EAAE,CADa,EAArB;;AAGA,GAJD,MAIO;AACN9I,OAAG,CAACkK,gBAAJ,CAAqB;AACpBpB,WAAK,EAAE,CADa,EAArB;;AAGA;AACD,CAXD;AAYAjK,aAAIC,SAAJ,CAAckL,UAAd,GAA2B,YAAW;AACrC,OAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6BnF,MAAjD,EAAyD,EAAE4H,CAA3D,EAA8D;AAC7D,QAAI1G,MAAM,GAAGC,UAAT,CAAoBgE,QAApB,CAA6ByC,CAA7B,EAAgCtG,GAAhC,GAAsC,CAA1C;AACC,WAAOsG,CAAP;AACD;AACD,SAAO,CAAC,CAAR;AACA,CAND,C;;;;;;;;;;;;;;;;;ACx4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AAC4K;AAC5K,gBAAgB,sLAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAA6oB,CAAgB,0pBAAG,EAAC,C;;;;;;;;;;;;ACCjqB;AACA;AACA,oBADA;AAEA;AACA,eADA;AAEA,kBAFA;AAGA,mBAHA;AAIA,kBAJA;AAKA,qBALA;AAMA,qBANA,EAFA;;AAUA,yBAVA;AAWA,aAXA,EADA;;AAcA,UAdA,sBAcA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA,OAbA,EAaA,IAbA;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,yCAFA;AAGA,gCAHA;AAIA,iCAJA;AAKA,qCALA;AAMA;AACA;AACA;AACA;AACA;AACA,eAXA;;AAaA,WAdA;;AAgBA;AACA;AACA;AACA,2BADA;AAEA,iDAFA;;AAIA,WALA;AAMA;AACA,OA5BA;AA6BA,KAjCA,MAiCA;AACA;AACA;AACA;AACA,qBADA;AAEA,kDAFA;;AAIA;;;AAGA;AACA;AACA;AACA;AACA,KAHA;AAIA,GAvKA;AAwKA;AACA;AACA;;;;AAIA,GA9KA;AA+KA;AACA;AACA;;;;AAIA,GArLA;AAsLA;AACA;AACA,cAFA,wBAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CADA;AAEA,uBAFA;AAGA;AACA,8CADA;AAEA,0BAFA,EAHA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA,MAKA;AACA;AACA;AACA,WAjBA;;AAmBA;AACA,KA5BA,EAtLA,E;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAA4tC,CAAgB,6qCAAG,EAAC,C;;;;;;;;;;ACAhvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store';\r\nimport uView from '@/node_modules/uview-ui'\r\nVue.prototype.$store = store\r\nVue.use(uView)\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.$baseUrl = 'http://192.168.0.164:8081/wechat/api';\r\nVue.prototype.$baseFileUrl = 'http://192.168.0.164:8081/stock';\r\nVue.prototype.$baseJewelleryUrl = 'http://192.168.0.164:8081/jewellery/api';\r\n\r\n// Vue.prototype.$baseUrl = 'https://hk.wistechx.cn/HermesNewApi/wechat/api';\r\n// Vue.prototype.$baseFileUrl = 'https://hk.wistechx.cn/HermesApi';\r\n// Vue.prototype.$baseJewelleryUrl = 'https://hk.wistechx.cn/HermesNewApi/jewellery/api';\r\n\r\n// H5跳转小程序，微信官方推出的开放标签<wx-open-launch-weapp>\r\nVue.config.ignoredElements.push('wx-open-launch-weapp')\r\n\r\nVue.prototype.checkBack = function(ret, bShwoTip = 1) {\r\n\tconsole.log('状态码判断')\r\n\tconsole.log(ret)\r\n\tif (ret.statusCode == 200) {\r\n\t\treturn true;\r\n\t} else if (bShwoTip == 1) {\r\n\t\tif (ret.statusCode == 400)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: ret.data.message,\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse if (ret.statusCode == 300)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: '请登录后再操作',\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: \"操作失败，请重试\",\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nVue.prototype.$onLaunched = new Promise(resolve => {\r\n\tconsole.log('这是啥')\r\n\tconsole.log(resolve);\r\n\tVue.prototype.$isResolve = resolve;\r\n\t// console.log()\r\n\t// uni.closeSocket()\r\n\t// getApp().globalData.userId = uni.getStorageSync('userId');\r\n\t// getApp().globalData.token = uni.getStorageSync('token');\r\n\t// this.chat_connectServer()\r\n})\r\n\r\nVue.prototype.checkLogin = function() {\r\n\tconsole.log('要去登录')\r\n\tif (uni.getStorageSync('token').length == 0) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请先登录',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.switchTab({\r\n\t\t\turl: '/pages/mine/mine'\r\n\t\t})\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nVue.prototype.setUserInfo = function(ret) {\r\n\tconsole.log('用户信息')\r\n\tconsole.log(ret);\r\n\tif (ret.data.id == null)\r\n\t\treturn;\r\n\r\n\tlet userInfo = {};\r\n\tuserInfo.userId = ret.data.id;\r\n\tuserInfo.userRole = ret.data.role;\r\n\tuserInfo.userToken = ret.data.token;\r\n\tuserInfo.userNick = ret.data.nick;\r\n\tuserInfo.userHeadPic = ret.data.headPic;\r\n\tuserInfo.phoneNumber = ret.data.username;\r\n\tuserInfo.totalIntegral = ret.data.totalIntegral;\r\n\r\n\tconsole.log(userInfo);\r\n\r\n\tgetApp().globalData.userInfo = userInfo;\r\n\tuni.setStorageSync('userId', userInfo.userId);\r\n\tuni.setStorageSync(\"token\", userInfo.userToken);\r\n\tuni.setStorageSync(\"role\", userInfo.userRole);\r\n\tuni.setStorageSync(\"nick\", userInfo.userNick);\r\n\tuni.setStorageSync(\"headPic\", userInfo.userHeadPic);\r\n\tuni.setStorageSync(\"phoneNumber\", userInfo.phoneNumber);\r\n\tuni.setStorageSync(\"totalIntegral\", userInfo.totalIntegral)\r\n\r\n}\r\n\r\n// 千分价格\r\nVue.prototype.formatNumberRgx = function(num) {\r\n\tif (num == \"\" || num == null || num == 0) {\r\n\t\treturn 0;\r\n\t} else {\r\n\t\tlet parts = num.toString().split(\".\");\r\n\t\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\t\treturn parts.join(\".\");\r\n\t}\r\n}\r\n\r\n// 国旗\r\nVue.prototype.ensignSel = function(currency) {\r\n\t// console.log(currency)\r\n\tswitch (currency) {\r\n\t\tcase \"CNY\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"HKD\":\r\n\t\t\treturn require(\"./static/imgs/common/HK.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"USD\":\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"EUR\":\r\n\t\t\treturn require(\"./static/imgs/common/ou.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"GBP\":\r\n\t\t\treturn require(\"./static/imgs/common/ying.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"AUD\":\r\n\t\t\treturn require(\"./static/imgs/common/ao.png\")\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// 币种\r\nVue.prototype.currencySel = function(currency) {\r\n\t// console.log(currency)\r\n\tswitch (currency) {\r\n\t\tcase \"1\":\r\n\t\t\treturn \"CNY\"\r\n\t\t\tbreak;\r\n\t\tcase \"2\":\r\n\t\t\treturn \"HKD\"\r\n\t\t\tbreak;\r\n\t\tcase \"3\":\r\n\t\t\treturn \"USD\"\r\n\t\t\tbreak;\r\n\t\tcase \"4\":\r\n\t\t\treturn \"EUR\"\r\n\t\t\tbreak;\r\n\t\tcase \"5\":\r\n\t\t\treturn \"GBP\"\r\n\t\t\tbreak;\r\n\t\tcase \"6\":\r\n\t\t\treturn \"AUD\"\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n/// 地区\r\nVue.prototype.regionSel = function(region) {\r\n\t// console.log(region)\r\n\tswitch (region) {\r\n\t\tcase \"香港\":\r\n\t\t\treturn \"HK\"\r\n\t\t\tbreak;\r\n\t\tcase \"大陆\":\r\n\t\t\treturn \"CN\"\r\n\t\t\tbreak;\r\n\t\tcase \"金边\":\r\n\t\t\treturn \"KH\"\r\n\t\t\tbreak;\r\n\t\tcase \"海外\":\r\n\t\t\treturn \"ABD\"\r\n\t\t\tbreak;\r\n\t\tcase \"成都\":\r\n\t\t\treturn \"CN\"\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn \"ABD\"\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// 地区国旗\r\nVue.prototype.ensignReSel = function(region) {\r\n\t// console.log(region)\r\n\tswitch (region) {\r\n\t\tcase \"大陆\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"成都\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"香港\":\r\n\t\t\treturn require(\"./static/imgs/common/HK.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"金边\":\r\n\t\t\treturn require(\"./static/imgs/common/KH.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"海外\":\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nVue.prototype.getPrice = function(num, currency, noPrice) {\r\n\t// console.log(num)\r\n\tif (noPrice == undefined)\r\n\t\tnoPrice = '--';\r\n\tif (num == null || num == \"null\" || num == \"\" || num == 0)\r\n\t\treturn noPrice;\r\n\r\n\tnum = String(num);\r\n\r\n\tvar parts = num.toString().split(\".\");\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\treturn currency + ' ' + parts.join(\".\");\r\n};\r\n\r\n// 利润\r\nVue.prototype.costPrice = function(num1, num2) {\r\n\tlet sq1, sq2, multiple;\r\n\ttry {\r\n\t\tsq1 = num1.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq1 = 0;\r\n\t}\r\n\ttry {\r\n\t\tsq2 = num2.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq2 = 0;\r\n\t}\r\n\tmultiple = Math.pow(10, Math.max(sq1, sq2) + 1);\r\n\treturn (num1 * multiple - num2 * multiple) / multiple;\r\n}\r\n\r\n//判断浏览器是否是微信浏览器\r\n//微信浏览器中打开H5隐藏顶部导航方法\r\nVue.prototype.hidePageNavInWechatBrowser = () => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\tstore,\r\n\t...App\r\n})\r\n\r\napp.$mount()\r\nvar g_pingpangTimes = null;\r\nvar closeTimes = null;\r\nvar g_firstInit = true;\r\nvar settime = null;\r\n\r\n//连接服务器\r\nVue.prototype.chat_connectServer = function() {\r\n\r\n\tconsole.log('token', getApp().globalData.token);\r\n\tlet token = getApp().globalData.token;\r\n\tif (token == '') return;\r\n\tif (g_pingpangTimes != null) {\r\n\t\tclearInterval(g_pingpangTimes);\r\n\t\tg_pingpangTimes = null;\r\n\t}\r\n\r\n\tvar that = this;\r\n\r\n\tuni.connectSocket({\r\n\t\t// url: 'ws://hk.wistechx.cn/HermesNewApi:8090/chat',\r\n\t\turl: 'ws://192.168.0.164:8090/chat',\r\n\t\t//url: 'ws://test.wistechx.cn:8089/chat',\r\n\t\tsuccess: (res) => {\r\n\t\t\tconsole.log(res)\r\n\t\t},\r\n\t\tfail: (res) => {\r\n\t\t\tconsole.log(res)\r\n\t\t}\r\n\t});\r\n\r\n\tthis.chat_recvFromServer();\r\n\r\n\r\n\tuni.onSocketOpen(function(res) {\r\n\t\tconsole.log('WebSocket连接成功！', res);\r\n\t\tif (closeTimes != null) {\r\n\t\t\tclearTimeout(closeTimes)\r\n\t\t\tcloseTimes = null;\r\n\t\t}\r\n\t\tthat.chat_checkinServer();\r\n\t\tg_pingpangTimes = setInterval(() => {\r\n\t\t\tthat.chat_checkinServer()\r\n\t\t}, 30000);\r\n\t\t\r\n\t\tif(uni.getStorageSync('token') == '' || uni.getStorageSync('token') == null){\r\n\t\t\tclearInterval(g_pingpangTimes)\r\n\t\t}\r\n\r\n\t\tthat.chat_updateUserListCmd();\r\n\t});\r\n\r\n\tuni.onSocketError(function(res) {\r\n\t\tconsole.log('WebSocket连接失败');\r\n\t\tcloseTimes = setTimeout(() => {\r\n\t\t\tthat.chat_connectServer();\r\n\t\t}, 4000)\r\n\r\n\t});\r\n\r\n\tuni.onSocketClose(function() {\r\n\r\n\t})\r\n}\r\n\r\n//发送心路包\r\nVue.prototype.chat_checkinServer = function() {\r\n\tvar that = this;\r\n\r\n\tlet msg = {\r\n\t\ttype: \"checkin\",\r\n\t\ttoken: getApp().globalData.token,\r\n\r\n\r\n\r\n\t}\r\n\tuni.sendSocketMessage({\r\n\t\tdata: JSON.stringify(msg),\r\n\t\tsuccess: (res) => {\r\n\t\t\tconsole.log('发送心跳成功', res);\r\n\t\t},\r\n\r\n\t\tfail: (err) => {\r\n\t\t\tconsole.log(\"发送心跳失败\", err)\r\n\t\t\tthat.chat_connectServer();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//处理接收到的消息\r\nVue.prototype.chat_recvFromServer = function() {\r\n\r\n\tuni.onSocketMessage((res) => {\r\n\t\tconsole.log('我收到消息', JSON.parse(res.data))\r\n\t\tconsole.log('收到消息' + JSON.parse(res.data).type);\r\n\t\t// console.log(\"m--\",getApp().globalData.userList)\r\n\t\tvar data = JSON.parse(res.data);\r\n\t\tif (data.type == 'historyOverview') {\r\n\t\t\tdata.msgList = [];\r\n\t\t\tgetApp().globalData.userList.push(data);\r\n\t\t} else if (data.type == 'historyAdmin') {\r\n\t\t\tgetApp().globalData.adminList.push(data);\r\n\t\t} else if (data.type == 'history') {\r\n\t\t\tlet userIdx = this.chat_findUser(getApp().globalData.chatUserId);\r\n\t\t\tlet temp = getApp().globalData.userList[userIdx].msgList\r\n\t\t\tif (userIdx > -1) {\r\n\t\t\t\tgetApp().globalData.userList[userIdx].msgList = []\r\n\t\t\t\ttemp.unshift(data);\r\n\t\t\t\tlet obj = {};\r\n\t\t\t\tlet peon = temp.reduce((cur, next) => {\r\n\t\t\t\t\tobj[next.id] ? \"\" : obj[next.id] = true && cur.push(next);\r\n\t\t\t\t\treturn cur;\r\n\t\t\t\t}, [])\r\n\t\t\t\tconsole.log(peon);\r\n\t\t\t\tgetApp().globalData.userList[userIdx].msgList = peon\r\n\t\t\t}\r\n\t\t} else if (data.type == 'message') {\r\n\t\t\t//更新用户列表与消息列表\r\n\t\t\t// console.log(\"messagestart\",getApp().globalData.userList)\r\n\t\t\tthis.chat_recvNewMsg(data);\r\n\t\t\tthis.chat_updatePage('chat');\r\n\t\t\tthis.chat_updatePage('list');\r\n\t\t\tthis.chat_reddot()\r\n\t\t} else if (data.type == 'messageAdmin') {\r\n\t\t\tgetApp().globalData.adminList.push(data);\r\n\t\t} else if (data.type == 'user') {\r\n\t\t\t//更新用户头像\r\n\t\t\tthis.chat_updateUserPic(data);\r\n\t\t} else if (data.type == 'historyOverview-end') {\r\n\t\t\tthis.chat_updatePage('list');\r\n\t\t\tthis.chat_reddot()\r\n\t\t\tif (g_firstInit == true) {\r\n\t\t\t\tlet page = this.chat_getCurPage();\r\n\t\t\t\tif (page == 'chat') {\r\n\t\t\t\t\tthis.chat_getMsgHistoryCmd(getApp().globalData.chatUserId, false, 0, 'notadd');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tg_firstInit = false;\r\n\t\t\t}\r\n\r\n\t\t} else if (data.type == 'history-end') {\r\n\t\t\tthis.chat_updatePage('chat');\r\n\t\t\tlet userIdx = this.chat_findUser(getApp().globalData.chatUserId);\r\n\t\t\tif (userIdx > -1) {\r\n\t\t\t\tif (getApp().globalData.userList[userIdx].num > 0)\r\n\t\t\t\t\tthis.chat_readMsgCmd(getApp().globalData.chatUserId);\r\n\t\t\t\tgetApp().globalData.userList[userIdx].msgListSendMark = true;\r\n\t\t\t}\r\n\t\t} else if (data.type == 'read-success') {\r\n\t\t\tthis.chat_readMsgSuccess(data);\r\n\t\t\tthis.chat_updatePage('list');\r\n\t\t\tthis.chat_reddot()\r\n\t\t} else if (data.type == 'delete-success') {\r\n\t\t\tthis.chat_updateMsgState(data);\r\n\t\t\tthis.chat_updatePage('list');\r\n\t\t\tthis.chat_updatePage('chat');\r\n\t\t\tthis.chat_reddot()\r\n\t\t} else if (data.type == 'deleteAdmin-success') {\r\n\t\t\tthis.chat_updateMsgState(data);\r\n\t\t}\r\n\t})\r\n}\r\n\r\n//处理新消息\r\nVue.prototype.chat_recvNewMsg = function(data) {\r\n\tlet page = this.chat_getCurPage();\r\n\tuni.setStorageSync('addmore', false)\r\n\tif (data.sender == getApp().globalData.userId) {\r\n\t\t//自己发的消息\r\n\t\tif (true) {\r\n\t\t\t//当前登录端发的消息\r\n\t\t\t//更新用户列表\r\n\t\t\tlet userIdx = this.chat_findUser(data.receiver);\r\n\t\t\tif (userIdx > -1) {\r\n\t\t\t\t//更新该用户\r\n\t\t\t\tgetApp().globalData.userList[userIdx].contentType = data.contentType;\r\n\t\t\t\tgetApp().globalData.userList[userIdx].contentText = data.contentText;\r\n\t\t\t\tgetApp().globalData.userList[userIdx].time = data.time;\r\n\t\t\t\tgetApp().globalData.userList[userIdx].id = data.id;\r\n\t\t\t\t//把元素移动到前面\r\n\t\t\t\tif (userIdx > 0) {\r\n\t\t\t\t\tlet user = getApp().globalData.userList[userIdx];\r\n\t\t\t\t\tgetApp().globalData.userList.splice(userIdx, 1);\r\n\t\t\t\t\tgetApp().globalData.userList.unshift(user);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//更新消息状态\r\n\t\t\tthis.chat_updateMsgState(data);\r\n\r\n\t\t} else {\r\n\t\t\t//其他登录端发的消息\r\n\t\t}\r\n\t} else {\r\n\t\t//别人发给我的消息\r\n\t\t//更新用户列表\r\n\t\tlet userIdx = this.chat_findUser(data.sender);\r\n\r\n\t\tif (userIdx > -1) {\r\n\t\t\t//用户列表已有该用户，更新该用户\r\n\t\t\tgetApp().globalData.userList[userIdx].contentType = data.contentType;\r\n\t\t\tgetApp().globalData.userList[userIdx].contentText = data.contentText;\r\n\t\t\tgetApp().globalData.userList[userIdx].time = data.time;\r\n\t\t\tgetApp().globalData.userList[userIdx].id = data.id;\r\n\t\t\t//将消息添加到消息列表里\r\n\t\t\tdata.type = 'history';\r\n\t\t\t// data.readStatus = 0;\r\n\t\t\t// getApp().globalData.userList[userIdx].msgList.push(data);\r\n\r\n\t\t\tif (page == 'chat' && data.sender == getApp().globalData.chatUserId) {\r\n\t\t\t\t//当前正在与该用户聊天\r\n\t\t\t\t//阅读消息\r\n\t\t\t\tdata.readStatus = 0;\r\n\t\t\t\tthis.chat_readMsgCmd(getApp().globalData.chatUserId);\r\n\t\t\t\tconsole.log(\"正在聊天\")\r\n\t\t\t\t// getApp().globalData.msgbox=false;\r\n\t\t\t\t// uni.setStorageSync('msgbox',false)\r\n\t\t\t\tstore.commit('changemsgbox', false)\r\n\t\t\t} else {\r\n\t\t\t\tdata.readStatus = 1;\r\n\t\t\t\tlet pages = getCurrentPages() // 获取栈实例\r\n\t\t\t\tlet currentRoute = pages[pages.length - 1].route;\r\n\t\t\t\t++getApp().globalData.userList[userIdx].num;\r\n\t\t\t\tif (currentRoute == 'pages/message/chat/chat/chat')\r\n\t\t\t\t\tstore.commit('changemsgbox', true)\r\n\t\t\t\tconsole.log(\"其他用户\", getApp().globalData.userList[userIdx])\r\n\t\t\t\t// console.log('currentRoute',currentRoute)\r\n\t\t\t\tsettime = setTimeout((() => {\r\n\t\t\t\t\tstore.commit('changemsgbox', false)\r\n\t\t\t\t}), 3000)\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetApp().globalData.userList[userIdx].msgList.push(data);\r\n\t\t\t// console.log(\"messageend\",getApp().globalData.userList)\r\n\t\t\t//把元素移动到前面\r\n\t\t\tif (userIdx > 0) {\r\n\t\t\t\tlet user = getApp().globalData.userList[userIdx];\r\n\t\t\t\tgetApp().globalData.userList.splice(userIdx, 1);\r\n\t\t\t\tgetApp().globalData.userList.unshift(user);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//用户列表中没有该用户，将用户添加到用户列表中\r\n\t\t\tlet user = {};\r\n\t\t\tuser.type = 'historyOverview';\r\n\t\t\tuser.userId = data.sender;\r\n\t\t\tuser.num = 1;\r\n\t\t\tuser.contentType = data.contentType;\r\n\t\t\tuser.contentText = data.contentText;\r\n\t\t\tuser.receiver = getApp().globalData.userId;\r\n\t\t\tuser.time = data.time;\r\n\t\t\tuser.username = null;\r\n\t\t\tuser.head_pic = null;\r\n\r\n\t\t\tdata.readStatus = 1\r\n\t\t\tuser.msgList = [];\r\n\t\t\tuser.msgList.push(data);\r\n\t\t\tgetApp().globalData.userList.unshift(user);\r\n\r\n\t\t\t//获取用户头像\r\n\t\t\tthis.chat_getUserInfoCmd(data.sender);\r\n\t\t}\r\n\t\t// console.log(\"收到消息num\",getApp().globalData.userList[userIdx])\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tif (res.platform == 'ios') {\r\n\t\t\t\t\t// plus.runtime.openURL(\"app-settings://\");\r\n\t\t\t\t} else if (res.platform == 'android') {\r\n\t\t\t\t\tuni.vibrateShort({\r\n\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n}\r\n\r\n//根据userId从UserList中查找用户\r\nVue.prototype.chat_findUser = function(userId) {\r\n\t// console.log(\"查找\",getApp().globalData.userList)\r\n\tfor (let i = 0; i < getApp().globalData.userList.length; ++i) {\r\n\t\tif (getApp().globalData.userList[i].userId == userId)\r\n\t\t\treturn i;\r\n\t}\r\n\treturn -1;\r\n}\r\nVue.prototype.admin_findmsg = function(id) {\r\n\tconsole.log(\"查找系统id\", getApp().globalData.adminList)\r\n\tfor (let i = 0; i < getApp().globalData.adminList.length; ++i) {\r\n\t\tif (getApp().globalData.adminList[i].id == id)\r\n\t\t\treturn i;\r\n\t}\r\n\treturn -1;\r\n}\r\n//发送消息\r\nVue.prototype.chat_sendToServer = function(msg) {\r\n\tuni.sendSocketMessage({\r\n\t\tdata: JSON.stringify(msg),\r\n\t\tsuccess: function(res) {\r\n\t\t\tconsole.log(\"发送成功\", msg)\r\n\t\t},\r\n\r\n\t\tfail: function(res) {\r\n\t\t\tconsole.log(\"发送失败\", res)\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//发送提取用户列表命令\r\nVue.prototype.chat_updateUserListCmd = function() {\r\n\tlet msg = {\r\n\t\ttype: \"historyOverview\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t}\r\n\tconsole.log('chat_updateUserListCmd', msg);\r\n\tgetApp().globalData.userList = [];\r\n\tthis.chat_sendToServer(msg);\r\n}\r\nVue.prototype.chat_updateAdminListCmd = function() {\r\n\tlet msg = {\r\n\t\ttype: \"historyAdmin\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t}\r\n\tconsole.log('chat_updateadminListCmd', msg);\r\n\tgetApp().globalData.adminList = [];\r\n\tthis.chat_sendToServer(msg);\r\n}\r\nVue.prototype.chat_deleteAdminList = function(data) {\r\n\tlet msg = {\r\n\t\ttype: \"deleteAdmin\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\tid: data.id\r\n\t}\r\n\tconsole.log('chat_deleteAdminList', msg);\r\n\tlet index = this.admin_findmsg(data.id)\r\n\tgetApp().globalData.adminList.splice(index, 1)\r\n\tthis.chat_sendToServer(msg);\r\n}\r\nVue.prototype.chat_sendAdminList = function(type, content) {\r\n\tlet msg = {\r\n\t\ttype: \"messageAdmin\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\treceiver: userId,\r\n\t\tcontentType: type,\r\n\t\tcontentText: content,\r\n\t}\r\n\tconsole.log('messageAdmin')\r\n\tthis.chat_sendToServer(msg);\r\n}\r\n\r\n\r\nVue.prototype.chat_updateUserMsg = function(userId) {\r\n\tif (getApp().globalData.userList == undefined) getApp().globalData.userList = []\r\n\tlet userIdx = this.chat_findUser(userId);\r\n\tconsole.log('chat_updateUserMsg', userId, userIdx)\r\n\tif (userIdx > -1) {\r\n\t\tconsole.log(getApp().globalData.userList[userIdx].msgList, !getApp().globalData.userList[userIdx]\r\n\t\t\t.msgListSendMark)\r\n\t\tif (getApp().globalData.userList[userIdx].msgList.length == 0 || !getApp().globalData.userList[userIdx]\r\n\t\t\t.msgListSendMark)\r\n\t\t\tthis.chat_getMsgHistoryCmd(userId, false, 0, 'notadd');\r\n\t\telse\r\n\t\t\tthis.chat_updatePage('chat');\r\n\r\n\t\tif (getApp().globalData.userList[userIdx].num > 0)\r\n\t\t\tthis.chat_readMsgCmd(userId);\r\n\t}\r\n}\r\n\r\n//发送提取聊天记录命令:loadMore\r\nVue.prototype.chat_getMsgHistoryCmd = function(userId, loadMore = true, chatid, addmore) {\r\n\tlet msgStartId = chatid;\r\n\tlet userIdx = this.chat_findUser(userId);\r\n\tconsole.log(\"加载更多\", addmore)\r\n\tif (addmore == 'add')\r\n\t\tuni.setStorageSync('addmore', true)\r\n\telse\r\n\t\tuni.setStorageSync('addmore', false)\r\n\tif (userIdx > -1 && loadMore) {\r\n\t\tif (getApp().globalData.userList[userIdx].msgList.length > 0) {\r\n\t\t\tmsgStartId = getApp().globalData.userList[userIdx].msgList[0].id;\r\n\t\t\t// getApp().globalData.userList[userIdx].msgList=[]\r\n\t\t\tconsole.log(msgStartId)\r\n\t\t}\r\n\t}\r\n\tlet msg = {\r\n\t\ttype: \"history\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\tuserId: userId,\r\n\t\tid: msgStartId,\r\n\t\tnum: 20,\r\n\t}\r\n\tconsole.log('history')\r\n\tthis.chat_sendToServer(msg);\r\n}\r\n\r\n//给指定用户发送消息\r\nVue.prototype.chat_sendMsgToUserCmd = function(userId, content, type) {\r\n\tlet msg = {\r\n\t\ttype: \"message\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\treceiver: userId,\r\n\t\tcontentType: type,\r\n\t\tcontentText: content,\r\n\t}\r\n\tconsole.log('message')\r\n\tthis.chat_sendToServer(msg);\r\n\r\n\tlet userIdx = this.chat_findUser(userId);\r\n\tif (userIdx > -1) {\r\n\t\tvar curDate = new Date();\r\n\t\tmsg.type = 'history';\r\n\t\tmsg.sender = getApp().globalData.userId;\r\n\t\tmsg.time = curDate.toISOString();\r\n\t\tmsg.readStatus = -1; //-1，发送中，-2，已撤销\r\n\t\tgetApp().globalData.userList[userIdx].msgList.push(msg);\r\n\t} else {\r\n\t\t//与新用户聊天，用户列表中没有该用户，将用户添加到用户列表中\r\n\t\tvar curDate = new Date();\r\n\t\tlet user = {};\r\n\t\tuser.type = 'historyOverview';\r\n\t\tuser.userId = userId;\r\n\t\tuser.num = 0;\r\n\t\tuser.contentType = 0;\r\n\t\tuser.contentText = content;\r\n\t\tuser.receiver = userId;\r\n\t\tuser.time = curDate.toISOString();\r\n\t\tuser.username = null;\r\n\t\tuser.head_pic = null;\r\n\r\n\t\tuser.msgList = [];\r\n\t\tmsg.type = 'history';\r\n\t\tmsg.sender = getApp().globalData.userId;\r\n\t\tmsg.time = curDate.toISOString();\r\n\t\tmsg.readStatus = -1; //-1，发送中，-2，已撤销\r\n\t\tuser.msgList.push(msg);\r\n\t\tgetApp().globalData.userList.unshift(user);\r\n\r\n\t\t//获取用户头像\r\n\t\tthis.chat_getUserInfoCmd(user.receiver);\r\n\t}\r\n\t// console.log(\"timeee\",getApp().globalData.userList[userIdx].msgList)\r\n}\r\n\r\n//更新消息状态\r\nVue.prototype.chat_updateMsgState = function(data) {\r\n\tif (data.type == 'message') {\r\n\t\tlet userIdx = this.chat_findUser(data.receiver);\r\n\t\tif (userIdx > -1) {\r\n\t\t\tfor (let i = getApp().globalData.userList[userIdx].msgList.length - 1; i >= 0; --i) {\r\n\t\t\t\tif (getApp().globalData.userList[userIdx].msgList[i].readStatus == -1) {\r\n\t\t\t\t\tif (getApp().globalData.userList[userIdx].msgList[i].contentType == data.contentType &&\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].msgList[i].contentText == data.contentText) {\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].msgList[i].readStatus = 0;\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].msgList[i].id = data.id;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (data.type == 'delete-success') {\r\n\t\t//删除消息\r\n\t\tlet userIdx = this.chat_findUser(data.sender);\r\n\t\tif (userIdx > -1) { //别人撤回\r\n\t\t\tfor (let i = getApp().globalData.userList[userIdx].msgList.length - 1; i >= 0; --i) {\r\n\t\t\t\tif (getApp().globalData.userList[userIdx].msgList[i].id == data.id) {\r\n\t\t\t\t\tconsole.log('消息已撤销', getApp().globalData.userList[userIdx].msgList[i])\r\n\t\t\t\t\tif (getApp().globalData.userList[userIdx].msgList[i].readStatus == 1) {\r\n\t\t\t\t\t\tlet num = getApp().globalData.userList[userIdx].num\r\n\t\t\t\t\t\t\t--num\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].num = num < 0 ? 0 : num\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgetApp().globalData.userList[userIdx].time = new Date().toISOString()\r\n\t\t\t\t\tgetApp().globalData.userList[userIdx].msgList[i].readStatus = -2; //显示撤回\r\n\r\n\t\t\t\t\tif (i == getApp().globalData.userList[userIdx].msgList.length - 1) {\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].contentText = '[对方撤回了一条消息]';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (getApp().globalData.userList[userIdx].msgList.length == 0) {\r\n\t\t\t\tgetApp().globalData.userList[userIdx].contentText = '[对方撤回了一条消息]';\r\n\t\t\t\tlet num = getApp().globalData.userList[userIdx].num\r\n\t\t\t\t\t--num\r\n\t\t\t\tgetApp().globalData.userList[userIdx].num = num < 0 ? 0 : num\r\n\t\t\t\tlet msgListobj = {\r\n\t\t\t\t\treadStatus: -2,\r\n\t\t\t\t\ttime: new Date().toISOString(),\r\n\t\t\t\t\ttype: 'history',\r\n\t\t\t\t\tsender: data.sender\r\n\t\t\t\t}\r\n\t\t\t\tgetApp().globalData.userList[userIdx].msgList[0] = msgListobj;\r\n\t\t\t\tgetApp().globalData.userList[userIdx].time = new Date().toISOString()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tuserIdx = this.chat_findUser(data.receiver);\r\n\t\tif (userIdx > -1) { //自己撤回\r\n\t\t\tfor (let i = getApp().globalData.userList[userIdx].msgList.length - 1; i >= 0; --i) {\r\n\t\t\t\tif (getApp().globalData.userList[userIdx].msgList[i].id == data.id) {\r\n\t\t\t\t\tgetApp().globalData.userList[userIdx].msgList[i].readStatus = -2;\r\n\t\t\t\t\tif (i == getApp().globalData.userList[userIdx].msgList.length - 1) {\r\n\t\t\t\t\t\tgetApp().globalData.userList[userIdx].contentText = '[你撤回了一条消息]';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (data.type == 'deleteAdmin-success') {\r\n\t\t//删除消息\r\n\t\tlet userIdx = this.admin_findmsg(data.id);\r\n\t\tgetApp().globalData.adminList.splice(userIdx, 1)\r\n\t}\r\n}\r\n\r\n//发送消息已读命令\r\nVue.prototype.chat_readMsgCmd = function(userId) {\r\n\tlet msg = {\r\n\t\ttype: \"read\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\tuserId: userId\r\n\t}\r\n\tconsole.log('read')\r\n\tthis.chat_sendToServer(msg);\r\n}\r\n\r\n//已阅读消息\r\nVue.prototype.chat_readMsgSuccess = function(data) {\r\n\tlet userIdx = this.chat_findUser(data.userId);\r\n\tif (userIdx > -1) {\r\n\t\tgetApp().globalData.userList[userIdx].num = 0;\r\n\t}\r\n}\r\n\r\n//删除消息命令\r\nVue.prototype.chat_deleteMsgCmd = function(userId, msgId) {\r\n\tlet msg = {\r\n\t\ttype: \"delete\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\treceiver: userId,\r\n\t\tid: msgId\r\n\t}\r\n\tconsole.log('delete')\r\n\tconsole.log(msg);\r\n\tthis.chat_sendToServer(msg);\r\n}\r\n\r\n//获取用户信息\r\nVue.prototype.chat_getUserInfoCmd = function(userId) {\r\n\tlet msg = {\r\n\t\ttype: \"user\",\r\n\t\ttoken: getApp().globalData.token,\r\n\t\tuserId: userId\r\n\t}\r\n\tconsole.log('read')\r\n\tthis.chat_sendToServer(msg);\r\n}\r\n\r\n//更新用户头像\r\nVue.prototype.chat_updateUserPic = function(data) {\r\n\tlet userIdx = this.chat_findUser(data.id);\r\n\tif (userIdx > -1) {\r\n\t\t//更新该用户\r\n\t\tgetApp().globalData.userList[userIdx].username = data.username;\r\n\t\tgetApp().globalData.userList[userIdx].head_pic = data.head_pic;\r\n\r\n\t\t// getApp().globalData.msgbox=true;\r\n\t\tstore.commit('changemsgbox', true)\r\n\t\tconsole.log(\"其他用户\")\r\n\t\t// this.chat_updatePage('chat')\r\n\t\tsettime = setTimeout((() => {\r\n\t\t\tstore.commit('changemsgbox', false)\r\n\t\t}), 3000)\r\n\r\n\t\t// readIdx = this.chat_findUser(data.id);\r\n\t\t// if(readIdx > -1){\r\n\t\t// \tfor(let i = getApp().globalData.userList[readIdx].msgList.length-1; i >= 0; --i){\r\n\t\t// getApp().globalData.userList[readIdx].msgList[i].readStatus=0}\r\n\t\t// }\r\n\t}\r\n}\r\n\r\n//获取当前页面\r\nVue.prototype.chat_getCurPage = function() {\r\n\tvar pages = getCurrentPages() // 获取栈实例\r\n\tlet currentRoute = pages[pages.length - 1].route;\r\n\t// console.log('currentRoute',currentRoute)\r\n\tif (currentRoute == 'pages/message/message')\r\n\t\treturn 'list';\r\n\telse if (currentRoute == 'pages/message/chat/chat/chat')\r\n\t\treturn 'chat';\r\n\telse\r\n\t\treturn '';\r\n}\r\n\r\n//刷新页面\r\nVue.prototype.chat_updatePage = function(page) {\r\n\tlet curPage = this.chat_getCurPage();\r\n\t// console.log('刷新页面',page,curPage)\r\n\tif (curPage == page) {\r\n\t\tif (page == 'list') {\r\n\t\t\tuni.$emit('user-list-update', {});\r\n\t\t\t// console.log(\"$emit--list\")\r\n\t\t} else if (page == 'chat') {\r\n\t\t\tuni.$emit('user-msg-update', {});\r\n\t\t\t// console.log(\"$emit--chat\")\r\n\t\t}\r\n\t}\r\n\t/* \r\n\tlet p = this.chat_getCurPage();\r\n\tif(p == page){\r\n\t\tvar pages = getCurrentPages();\r\n\t\tvar curPage = pages[pages.length-1];\r\n\t\tcurPage.flushData();\r\n\t\t\r\n\t\tuni.$emit('user-list-update', {});\r\n\t} */\r\n}\r\nVue.prototype.chat_reddot = function() {\r\n\tlet redindex = this.findreddot()\r\n\tif (redindex > -1) {\r\n\t\tuni.showTabBarRedDot({\r\n\t\t\tindex: 3\r\n\t\t})\r\n\t} else {\r\n\t\tuni.hideTabBarRedDot({\r\n\t\t\tindex: 3\r\n\t\t})\r\n\t}\r\n}\r\nVue.prototype.findreddot = function() {\r\n\tfor (let i = 0; i < getApp().globalData.userList.length; ++i) {\r\n\t\tif (getApp().globalData.userList[i].num > 0)\r\n\t\t\treturn i;\r\n\t}\r\n\treturn -1;\r\n}","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tglobalData: {\r\n\t\t\ttestData: '全局变量',\r\n\t\t\tuserInfo: {\r\n\t\t\t\tuserId: 0,\r\n\t\t\t\tuserRole: '',\r\n\t\t\t\tuserToken: '',\r\n\t\t\t\tuserNick: '',\r\n\t\t\t\tuserHeadPic: '',\r\n\t\t\t\tphoneNumber: ''\r\n\t\t\t},\r\n\t\t\tisWithinProgram: true,\r\n\t\t\tcid: null\r\n\t\t},\r\n\t\tonLaunch() {\r\n\t\t\tlet token = uni.getStorageSync('token');\r\n\t\t\tif (token) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tgetApp().globalData.token = token;\r\n\t\t\t\t\tgetApp().globalData.userId = uni.getStorageSync('userId');\r\n\t\t\t\t\t/*在应用安装后第一次运行时应该调用5+ API的plus.push.getClientInfo方法获取客户端标识，\r\n\t\t\t\t\t并将此标识提交到开发者的业务服务器进行注册设备，以便在用户登录时可绑定设备，实现向登录用户推送专属消息。*/\r\n\t\t\t\t\t//#ifdef APP-PLUS\r\n\t\t\t\t\tlet pinf = plus.push.getClientInfo();\r\n\t\t\t\t\tlet cid = pinf.clientid; //客户端标识\r\n\t\t\t\t\tconsole.log('客户端标识', cid);\r\n\t\t\t\t\tgetApp().globalData.cid = cid;\r\n\t\t\t\t\t//#endif\r\n\r\n\t\t\t\t\tthis.chat_connectServer();\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t//#ifdef APP-PLUS  \r\n\t\t\tconsole.log('APP升级更新');\r\n\t\t\tconsole.log(plus.runtime);\r\n\t\t\t// \"appid\": plus.runtime.appid\r\n\t\t\tlet type = uni.getSystemInfoSync().platform;\r\n\t\t\tlet version = plus.runtime.version.split('.').join('');\r\n\r\n\t\t\tlet req = { //升级检测数据  \r\n\t\t\t\ttype: type\r\n\t\t\t};\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.$baseUrl + \"/versionGet\",\r\n\t\t\t\tdata: req,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log('APP升级更新信息获取成功');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.version != version) {\r\n\t\t\t\t\t\tuni.showModal({ //提醒用户更新  \r\n\t\t\t\t\t\t\ttitle: \"更新提示\",\r\n\t\t\t\t\t\t\tcontent: \"新版本已经准备好，是否立即更新？\",\r\n\t\t\t\t\t\t\tcancelText: \"稍后进行\",\r\n\t\t\t\t\t\t\tconfirmText: \"立即更新\",\r\n\t\t\t\t\t\t\tconfirmColor: \"#85dbd0\",\r\n\t\t\t\t\t\t\tsuccess: (ret) => {\r\n\t\t\t\t\t\t\t\tif (ret.confirm) {\r\n\t\t\t\t\t\t\t\t\tplus.runtime.openURL(res.data.url);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// 监听点击通知栏消息事件\r\n\t\t\tplus.push.addEventListener(\"click\", (message) => {\r\n\t\t\t\tconsole.log('点击通知栏消息进行对应跳转', message);\r\n\r\n\t\t\t\t// 清空系统通知栏中该应用的所有通知消息\r\n\t\t\t\tplus.push.clear();\r\n\t\t\t});\r\n\t\t\t// 透传消息： 即自定义消息，UniPush推送服务只负责消息传递，不做任何处理，客户端在接收到透传消息后需要自己去处理消息的展示方式或后续动作。\r\n\t\t\t// 监听接收透传消息事件，透传消息在系统通知栏中不显示，前端要进行显示处理\r\n\t\t\tplus.push.addEventListener(\"receive\", (message) => {\r\n\t\t\t\tconsole.log('透传消息');\r\n\t\t\t\tconsole.log(message);\r\n\r\n\t\t\t\t// 判断不在app内，应用后台运行，创建本地消息并添加到系统通知栏\r\n\t\t\t\tif (plus.os.name != 'iOS') {\r\n\t\t\t\t\tif (getApp().globalData.isWithinProgram == false) {\r\n\t\t\t\t\t\tconsole.log('正式透传消息要不在应用内进行消息显示');\r\n\t\t\t\t\t\t// content: ( String ) 必选\r\n\t\t\t\t\t\t// 消息显示的内容，在系统通知中心中显示的文本内容。\r\n\t\t\t\t\t\t// payload: ( String ) 可选\r\n\t\t\t\t\t\t// 消息承载的数据，可根据业务逻辑自定义数据格式。\r\n\t\t\t\t\t\t// options: ( MessageOptions ) 可选\r\n\t\t\t\t\t\t// 创建消息的额外参数，参考MessageOptions。\r\n\t\t\t\t\t\t// (content, payload, option);\r\n\r\n\t\t\t\t\t\tlet msg = JSON.parse(message.content).contentText;\r\n\t\t\t\t\t\tlet options = {\r\n\t\t\t\t\t\t\tcover: false, // 不覆盖上一次提示的消息\r\n\t\t\t\t\t\t\tsound: 'system', // 使用系统提示音\r\n\t\t\t\t\t\t\ttitle: message.title\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tplus.push.createMessage(msg, message.payload, options);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// if (message.aps) {\r\n\t\t\t\t//   // Apple APNS message\r\n\t\t\t\t//   // APNS下发的消息，应用在前台,要是要显示消息，要通过plus.push.createMessage创建本地消息，应用在后台未离线会自动创建\r\n\t\t\t\t// } else if (\"LocalMSG\" == message.payload) {\r\n\t\t\t\t//   // 特殊payload标识本地创建的消息\r\n\t\t\t\t//   // 本地创建的消息，通常不需要处理\r\n\t\t\t\t//   // 注意：不要在这种情况下在此调用plus.push.createMessage，从而引起循环创建本地消息\r\n\t\t\t\t// } else {\r\n\t\t\t\t//   // 接收到在线透传消息\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\t\t\t//#endif  \r\n\r\n\r\n\t\t\t// #ifdef MP-WEIXIN \r\n\t\t\t// 获取小程序更新机制兼容 \r\n\t\t\tif (uni.canIUse('getUpdateManager')) {\r\n\t\t\t\tconsole.log('可更新')\r\n\t\t\t\tconst updateManager = uni.getUpdateManager()\r\n\t\t\t\t// 检查是否有新版本发布\r\n\t\t\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t\t\tif (res.hasUpdate) {\r\n\t\t\t\t\t\tconsole.log('有新版本')\r\n\t\t\t\t\t\t//小程序有新版本，则静默下载新版本，做好更新准备\r\n\t\t\t\t\t\tupdateManager.onUpdateReady(function() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '更新提示',\r\n\t\t\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\r\n\t\t\t\t\t\t\t\tcancelText: \"稍后进行\",\r\n\t\t\t\t\t\t\t\tconfirmText: \"立即更新\",\r\n\t\t\t\t\t\t\t\tconfirmColor: \"#85dbd0\",\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t//新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n\t\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 新的版本下载失败\r\n\t\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tcontent: '新版本已经上线，请您删除当前小程序，重新搜索打开',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('不可更新')\r\n\t\t\t\t// 提示用户在最新版本的客户端上体验\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\tcontent: '当前微信版本过低，可能无法使用该功能，请升级到最新版本后重试~'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t//#endif \r\n\r\n\t\t\tthis.getUserMsg();\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tthis.$store.commit('changeKeyboardHeight', res.height)\r\n\t\t\t\tconsole.log('键盘高度变化', res)\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow: () => {\r\n\t\t\t// 当 uni-app 启动，或从后台进入前台显示\r\n\t\t\tconsole.log(\"App Show\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = true;\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tonHide: () => {\r\n\t\t\t// 当 uni-app 从前台进入后台\r\n\t\t\tconsole.log(\"App Hide\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = false;\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取用户信息\r\n\t\t\tgetUserMsg() {\r\n\t\t\t\tlet token = uni.getStorageSync('token');\r\n\t\t\t\tconsole.log('是否需要获取信息')\r\n\t\t\t\t// console.log(token);\r\n\r\n\t\t\t\tif (token.length !== 0) {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.$baseFileUrl + '/userMsg',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t\t\t\t'token': token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (ret) => {\r\n\t\t\t\t\t\t\tconsole.log(\"tttt\", ret, token)\r\n\t\t\t\t\t\t\tif (this.checkBack(ret, true) == true) {\r\n\t\t\t\t\t\t\t\tthis.setUserInfo(ret);\r\n\t\t\t\t\t\t\t\tconsole.log('resolve');\r\n\t\t\t\t\t\t\t\tconsole.log(this.$isResolve())\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/*每个页面公共css */\r\n\t@import \"@/node_modules/uview-ui/index.scss\";\r\n\t@import \"./common/free.css\";\r\n\t@import \"./common/common.css\";\r\n\t/* #infdef APP-PLUS-NVUE */\r\n\t@import \"./common/free-icon.css\";\r\n\r\n\timage {\r\n\t\twill-change: transform\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tpadding-top: 450rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\timage {\r\n\t\t\twidth: 222rpx;\r\n\t\t\theight: 152rpx;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #c8c8c8;\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-searchbar__box {\r\n\t\tborder-radius: 30px !important;\r\n\t\tborder: 0.5px solid #f8f8f8 !important;\r\n\t}\r\n\r\n\t/* #ifdef H5 */\r\n\tcheckbox .uni-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .uni-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .uni-checkbox-input.uni-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t/* #ifdef APP-PLUS || MP-WEIXIN */\r\n\tcheckbox .wx-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .wx-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .wx-checkbox-input.wx-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>\n","import mod from \"-!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1644977524765\n      var cssReload = require(\"G:/Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}