{"version":3,"sources":["uni-app:///uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js"],"names":["config","version","yAxisWidth","yAxisSplit","xAxisHeight","xAxisLineHeight","legendHeight","yAxisTitleWidth","padding","pixelRatio","rotate","columePadding","fontSize","fontColor","dataPointShape","color","linearColor","pieChartLinePadding","pieChartTextPadding","xAxisTextPadding","titleColor","titleFontSize","subtitleColor","subtitleFontSize","toolTipPadding","toolTipBackground","toolTipOpacity","toolTipLineHeight","radarLabelTextMargin","gaugeLabelTextMargin","assign","target","varArgs","TypeError","length","deepAssign","obj1","obj2","key","toString","forEach","val","util","toFixed","num","limit","this","isFloat","approximatelyEqual","num1","num2","Math","abs","isSameSign","isSameXCoordinateArea","p1","p2","x","isCollision","end","start","width","y","height","flag","lonlat2mercator","longitude","latitude","mercator","Array","log","tan","PI","hexToRgb","hexValue","opc","rgx","hex","replace","m","r","g","b","rgb","exec","parseInt","findRange","type","isNaN","Error","multiple","ceil","floor","calCandleMA","dayArr","nameArr","colorArr","kdata","seriesTemp","k","seriesItem","data","name","i","len","push","sum","j","calValidDistance","self","distance","chartData","opts","dataChartAreaWidth","area","dataChartWidth","eachSpacing","xAxisData","xAxisPoints","validDistance","uevent","trigger","scrollOption","position","xAxis","scrollPosition","isInAngleRange","angle","startAngle","endAngle","adjust","calRotateTranslate","h","xv","yv","transX","sqrt","transY","createCurveControlPoints","points","isNotMiddlePoint","max","min","isNotMiddlePointX","a","pAx","pAy","pBx","pBy","last","ctrA","ctrB","convertCoordinateOrigin","center","avoidCollision","obj","fixPieSeries","series","pieSeriesArr","constructor","indexOf","_pieSeries_","oldseries","formatter","value","fillSeries","index","item","linearIndex","show","pointShape","legendShape","fillCustomColor","linearType","customColor","newcolor","chazhi","getDataRange","minData","maxData","range","minRange","maxRange","measureText","text","context","String","undefined","setFontSize","split","test","dataCombine","reduce","concat","dataCombineStack","getTouches","touches","e","clientX","pix","pageY","currentTarget","offsetTop","getSeriesDataItem","group","newSeries","indexIsArr","tempSeries","filterSeries","tmpindex","style","disableLegend","getMaxTextListLength","list","lengthList","map","apply","getRadarCoordinateSeries","eachAngle","CoordinateSeries","getToolTipData","seriesData","categories","option","arguments","calPoints","filterPoints","textList","titleText","offset","round","getMixToolTipData","filter","getCandleToolTipData","extra","upColor","upFill","downColor","downFill","text1","text2","text3","text4","validCalPoints","findCurrentIndex","currentPoints","current","spacing","boundaryGap","isInExactChartArea","timePoints","pointValue","pointIndex","minValue","findBarChartCurrentIndex","yAxisPoints","findLegendIndex","legendData","currentIndex","gap","isInExactLegendArea","findRadarChartCurrentIndex","radarData","count","eachAngleArea","isInExactPieChartArea","radius","fixAngle","atan2","angleList","rangeStart","rangeEnd","findFunnelChartCurrentIndex","funnelData","funnelArea","findWordChartCurrentIndex","wordData","findMapChartCurrentIndex","cData","mapData","tmp","pointToCoordinate","bounds","scale","xoffset","yoffset","poi","geometry","coordinates","isPoiWithinPoly","findRoseChartCurrentIndex","pieData","getRoseDataPoints","_series_","rose","offsetAngle","_start_","_rose_proportion_","findPieChartCurrentIndex","getPieDataPoints","pie","ring","_proportion_","pow","splitPoints","eachSeries","newPoints","items","connectNulls","calLegendData","wholeWidth","wholeHeight","widthArr","heightArr","legend","margin","shapeWidth","shapeRight","lineHeight","legendList","widthCount","widthCountArr","currentRow","itemWidth","itemGap","legendWidth","float","maxHeight","maxLength","lineNum","temp","slice","maxWidth","calCategoriesData","result","categoriesTextLenth","maxTextLength","rotateLabel","sin","getXAxisTextList","stack","sorted","subitem","rangeSpan","eachRange","splitNumber","calXAxisData","columnstyle","bar","ranges","rangesFormat","xAxisScaleValues","Object","getXAxisPoints","textLength","disabled","getRadarDataPoints","process","radarOption","radar","each","listItem","proportion","cos","_radius_","getFunnelDataPoints","sort","reverse","minRadius","dataArr","radiusLength","getArcbarDataPoints","arcbarOption","totalAngle","getGaugeAxisPoints","tempStartAngle","_startAngle_","_endAngle_","getGaugeDataPoints","gaugeOption","pointer","_oldAngle_","oldAngle","oldData","getPieTextMaxLength","textSize","fixColumeData","columnLen","seriesGap","categoryGap","mix","column","fixBarData","fixColumeMeterData","border","fixColumeStackData","indexn","fixBarStackData","spacingValid","dataCount","enableScroll","itemCount","startX","endX","getCandleDataPoints","validHeight","cPoints","indexs","point","getDataPoints","validWidth","xranges","xminRange","xmaxRange","shift","pop","t","getBarDataPoints","getStackDataPoints","seriesIndex","stackSeries","value0","height0","heightc","y0","getBarStackDataPoints","x0","getYAxisTextList","yData","dataRange","yAxis","calYAxisData","YLength","rangesArr","rangesFormatArr","yAxisWidthArr","unit","tofix","yAxisFontSizes","calibration","yAxisFontSize","calTooltipYAxisData","yAxisData","minAxis","maxVal","minVal","calMarkLineData","yAxisIndex","contextRotate","rotateLock","translate","_rotate_","drawPointShape","shape","beginPath","dataPointShapeType","setStrokeStyle","setFillStyle","background","setLineWidth","moveTo","lineTo","arc","rect","closePath","fill","stroke","drawRingTitle","titlefontSize","title","subtitlefontSize","subtitle","titleFontColor","subtitleFontColor","titleHeight","subtitleHeight","textWidth","offsetX","startY","offsetY","fillText","_textWidth","_startX","_startY","drawPointText","textOffset","textColor","formatVal","setTextAlign","drawBarPointText","drawGaugeLabel","centerPosition","labelOffset","splitAngle","splitLine","totalNumber","endNumber","startNumber","nowAngle","nowNumber","pos","labelText","labelColor","drawRadarLabel","posRelativeCanvas","drawPieText","lineRadius","textObjectCollection","lastTextObject","seriesConvert","orginX1","orginY1","orginX2","orginY2","orginX3","orginY3","textObject","lineStart","lineEnd","lineStartPoistion","lineEndPoistion","textPosition","curveStartX","textStartX","quadraticCurveTo","drawToolTipSplitLine","toolTipOption","tooltip","gridType","dashLength","endY","setLineDash","gridColor","xAxisLabel","textX","textY","labelBgColor","labelBgOpacity","labelFontColor","drawMarkLine","markLineOption","markLine","lineColor","showLabel","bgStartX","bgEndX","bgWidth","drawToolTipHorizentalLine","yAxisLabel","tStartLeft","tStartRight","drawToolTipSplitArea","activeBgColor","activeBgOpacity","drawBarToolTipSplitArea","drawToolTip","showBox","showArrow","showCategory","bgColor","bgOpacity","borderColor","borderWidth","borderRadius","borderOpacity","unshift","legendMarginRight","arrowWidth","isOverRightBorder","toolTipWidth","toolTipHeight","_scrollDistance_","fillRect","drawColumnDataPoints","columnOption","meterBorder","meterFillColor","barBorderCircle","barBorderRadius","linearOpacity","colorStop","save","leftNum","rightNum","tooltipPoints","fillColor","strokeColor","grd","createLinearGradient","addColorStop","left","top","r0","r1","r2","r3","dataLabel","restore","drawBarDataPoints","heigh","drawCandleDataPoints","seriesMA","candleOption","average","candle","upLine","downLine","day","leftSpace","rightSpace","splitPointList","startPoint","ctrlPoint","bezierCurveTo","drawAreaDataPoints","areaOption","opacity","addLine","gradient","firstPoint","lastPoint","lineType","drawScatterDataPoints","scatter","drawBubbleDataPoints","bubbleOption","bubble","drawLineDataPoints","lineOption","line","drawMixDataPoints","columnIndex","columnLength","addPoint","drawToolTipBridge","horizentalLine","drawXAxis","scrollShow","scrollY","scrollScreenWidth","scrollTotalWidth","scrollWidth","scrollLeft","setLineCap","scrollBackgroundColor","scrollColor","disableGrid","gridEval","maxXAxisListLength","labelCount","ratio","newCategories","cgLength","xAxisFontSize","_xAxisTextAngle_","xitem","scrollHeight","_calRotateTranslate","axisLine","axisLineColor","drawYAxisGrid","xAxiseachSpacing","TotalWidth","drawYAxis","fillEndY","tStartCenter","textAlign","tmpstrat","gapwidth","showTitle","titleOffsetX","titleOffsetY","drawLegend","legendArea","backgroundColor","itemList","listIndex","hiddenColor","fontTrans","drawPieDataPoints","pieOption","activeOpacity","activeRadius","labelWidth","ringWidth","customRadius","centerColor","_pieTextMaxLength_","lineJoin","fillcolor","createCircularGradient","createRadialGradient","innerPieWidth","valid","drawRoseDataPoints","roseOption","drawArcbarDataPoints","arcbar","centerX","centerY","drawGaugeDataPoints","fixRadius","childNumber","childWidth","gauge","innerRadius","pieRadius","childAngle","proc","pointerRadius","gradient3","eachCategories","childendX","drawRadarDataPoints","gridCount","coordinateAngle","xr","yr","_loop","startPos","radarDataPoints","normalInt","iter","arr","random","collisionNew","isIn","getBoundingBox","coords","xMin","xMax","yMin","yMax","coorda","coordinateToPoint","pointY","pointX","isRayIntersectsSegment","s_poi","e_poi","xseg","poly","sinsc","epoly","drawMapDataPoints","mapOption","fillOpacity","activeBorderColor","activeFillColor","activeFillOpacity","xScale","yScale","gaosi","centerPoint","properties","centroid","draw","getWordCloudPoint","tHeight","tWidth","breaknum","Spin","isSpin","areav","drawWordCloudDataPoints","wordOption","autoColors","word","wordCloudData","strokeText","drawFunnelDataPoints","funnelOption","activeWidth","labelAlign","funnel","drawFunnelText","drawCanvas","Timing","easeIn","easeOut","easeInOut","linear","Animation","isStop","duration","timing","delay","createAnimationFrame","setTimeout","step","timeStamp","Date","requestAnimationFrame","animationFrame","startTimeStamp","_step","timestamp","onProcess","onAnimationFinish","timingFunction","bind","drawCharts","_this","animation","animationInstance","stop","_calLegendData","_calYAxisData","maxTitleHeight","rightIndex","leftIndex","_calCategoriesData","categoriesData","scrollAlign","offsetLeft","totalWidth","screenWidth","currentOffset","startTouchX","lastMoveTime","clearRect","_drawLineDataPoints","enableMarkLine","_drawScatterDataPoints","_drawBubbleDataPoints","_drawMixDataPoints","_drawColumnDataPoints","_drawBarDataPoints","_drawAreaDataPoints","arcbarData","gaugeData","_drawCandleDataPoints","uChartsEvent","events","prototype","addEventListener","listener","delEventListener","_len","args","_key","params","uCharts","canvas2d","config$$1","JSON","parse","stringify","tempWidth","tempHeight","strokeStyle","lineWidth","lineCap","font","fillStyle","call","updateData","_getXAxisPoints0","zoom","centerLeft","MaxLeft","console","stopAnimation","getCurrentDataIndex","changedTouches","mp","_touches$","getLegendDataIndex","touchLegend","showToolTip","_getToolTipData","_getMixToolTipData","scrollStart","scroll","now","Limit","touchMoveLimit","currMoveTime","_distance","scrollEnd","_scrollOption"],"mappings":"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","file":"hermes/common/vendor.js","sourcesContent":["/*\r\n * uCharts®\r\n * 高性能跨平台图表库，支持H5、APP、小程序（微信/支付宝/百度/头条/QQ/360）、Vue、Taro等支持canvas的框架平台\r\n * Copyright (c) 2021 QIUN®秋云 https://www.ucharts.cn All rights reserved.\r\n * Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )\r\n * 复制使用请保留本段注释，感谢支持开源！\r\n * \r\n * uCharts®官方网站\r\n * https://www.uCharts.cn\r\n * \r\n * 开源地址:\r\n * https://gitee.com/uCharts/uCharts\r\n * \r\n * uni-app插件市场地址：\r\n * http://ext.dcloud.net.cn/plugin?id=271\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar config = {\r\n  version: 'v2.3.7-20220122',\r\n  yAxisWidth: 15,\r\n  yAxisSplit: 5,\r\n  xAxisHeight: 22,\r\n  xAxisLineHeight: 22,\r\n  legendHeight: 15,\r\n  yAxisTitleWidth: 15,\r\n  padding: [10, 10, 10, 10],\r\n  pixelRatio: 1,\r\n  rotate: false,\r\n  columePadding: 3,\r\n  fontSize: 13,\r\n  fontColor: '#666666',\r\n  dataPointShape: ['circle', 'circle', 'circle', 'circle'],\r\n  color: ['#1890FF', '#91CB74', '#FAC858', '#EE6666', '#73C0DE', '#3CA272', '#FC8452', '#9A60B4', '#ea7ccc'],\r\n  linearColor: ['#0EE2F8', '#2BDCA8', '#FA7D8D', '#EB88E2', '#2AE3A0', '#0EE2F8', '#EB88E2', '#6773E3', '#F78A85'],\r\n  pieChartLinePadding: 15,\r\n  pieChartTextPadding: 5,\r\n  xAxisTextPadding: 3,\r\n  titleColor: '#333333',\r\n  titleFontSize: 20,\r\n  subtitleColor: '#999999',\r\n  subtitleFontSize: 15,\r\n  toolTipPadding: 3,\r\n  toolTipBackground: '#000000',\r\n  toolTipOpacity: 0.7,\r\n  toolTipLineHeight: 20,\r\n  radarLabelTextMargin: 13,\r\n  gaugeLabelTextMargin: 13\r\n};\r\n\r\nvar assign = function(target, ...varArgs) {\r\n  if (target == null) {\r\n    throw new TypeError('[uCharts] Cannot convert undefined or null to object');\r\n  }\r\n  if (!varArgs || varArgs.length <= 0) {\r\n    return target;\r\n  }\r\n  // 深度合并对象\r\n  function deepAssign(obj1, obj2) {\r\n    for (let key in obj2) {\r\n      obj1[key] = obj1[key] && obj1[key].toString() === \"[object Object]\" ?\r\n        deepAssign(obj1[key], obj2[key]) : obj1[key] = obj2[key];\r\n    }\r\n    return obj1;\r\n  }\r\n  varArgs.forEach(val => {\r\n    target = deepAssign(target, val);\r\n  });\r\n  return target;\r\n};\r\n\r\nvar util = {\r\n  toFixed: function toFixed(num, limit) {\r\n    limit = limit || 2;\r\n    if (this.isFloat(num)) {\r\n      num = num.toFixed(limit);\r\n    }\r\n    return num;\r\n  },\r\n  isFloat: function isFloat(num) {\r\n    return num % 1 !== 0;\r\n  },\r\n  approximatelyEqual: function approximatelyEqual(num1, num2) {\r\n    return Math.abs(num1 - num2) < 1e-10;\r\n  },\r\n  isSameSign: function isSameSign(num1, num2) {\r\n    return Math.abs(num1) === num1 && Math.abs(num2) === num2 || Math.abs(num1) !== num1 && Math.abs(num2) !== num2;\r\n  },\r\n  isSameXCoordinateArea: function isSameXCoordinateArea(p1, p2) {\r\n    return this.isSameSign(p1.x, p2.x);\r\n  },\r\n  isCollision: function isCollision(obj1, obj2) {\r\n    obj1.end = {};\r\n    obj1.end.x = obj1.start.x + obj1.width;\r\n    obj1.end.y = obj1.start.y - obj1.height;\r\n    obj2.end = {};\r\n    obj2.end.x = obj2.start.x + obj2.width;\r\n    obj2.end.y = obj2.start.y - obj2.height;\r\n    var flag = obj2.start.x > obj1.end.x || obj2.end.x < obj1.start.x || obj2.end.y > obj1.start.y || obj2.start.y < obj1.end.y;\r\n    return !flag;\r\n  }\r\n};\r\n\r\n//兼容H5点击事件\r\nfunction getH5Offset(e) {\r\n  e.mp = {\r\n    changedTouches: []\r\n  };\r\n  e.mp.changedTouches.push({\r\n    x: e.offsetX,\r\n    y: e.offsetY\r\n  });\r\n  return e;\r\n}\r\n\r\n// 经纬度转墨卡托\r\nfunction lonlat2mercator(longitude, latitude) {\r\n  var mercator = Array(2);\r\n  var x = longitude * 20037508.34 / 180;\r\n  var y = Math.log(Math.tan((90 + latitude) * Math.PI / 360)) / (Math.PI / 180);\r\n  y = y * 20037508.34 / 180;\r\n  mercator[0] = x;\r\n  mercator[1] = y;\r\n  return mercator;\r\n}\r\n\r\n// 墨卡托转经纬度\r\nfunction mercator2lonlat(longitude, latitude) {\r\n  var lonlat = Array(2)\r\n  var x = longitude / 20037508.34 * 180;\r\n  var y = latitude / 20037508.34 * 180;\r\n  y = 180 / Math.PI * (2 * Math.atan(Math.exp(y * Math.PI / 180)) - Math.PI / 2);\r\n  lonlat[0] = x;\r\n  lonlat[1] = y;\r\n  return lonlat;\r\n}\r\n\r\n// hex 转 rgba\r\nfunction hexToRgb(hexValue, opc) {\r\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  var hex = hexValue.replace(rgx, function(m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  var r = parseInt(rgb[1], 16);\r\n  var g = parseInt(rgb[2], 16);\r\n  var b = parseInt(rgb[3], 16);\r\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + opc + ')';\r\n}\r\n\r\nfunction findRange(num, type, limit) {\r\n  if (isNaN(num)) {\r\n    throw new Error('[uCharts] series数据需为Number格式');\r\n  }\r\n  limit = limit || 10;\r\n  type = type ? type : 'upper';\r\n  var multiple = 1;\r\n  while (limit < 1) {\r\n    limit *= 10;\r\n    multiple *= 10;\r\n  }\r\n  if (type === 'upper') {\r\n    num = Math.ceil(num * multiple);\r\n  } else {\r\n    num = Math.floor(num * multiple);\r\n  }\r\n  while (num % limit !== 0) {\r\n    if (type === 'upper') {\r\n      num++;\r\n    } else {\r\n      num--;\r\n    }\r\n  }\r\n  return num / multiple;\r\n}\r\n\r\nfunction calCandleMA(dayArr, nameArr, colorArr, kdata) {\r\n  let seriesTemp = [];\r\n  for (let k = 0; k < dayArr.length; k++) {\r\n    let seriesItem = {\r\n      data: [],\r\n      name: nameArr[k],\r\n      color: colorArr[k]\r\n    };\r\n    for (let i = 0, len = kdata.length; i < len; i++) {\r\n      if (i < dayArr[k]) {\r\n        seriesItem.data.push(null);\r\n        continue;\r\n      }\r\n      let sum = 0;\r\n      for (let j = 0; j < dayArr[k]; j++) {\r\n        sum += kdata[i - j][1];\r\n      }\r\n      seriesItem.data.push(+(sum / dayArr[k]).toFixed(3));\r\n    }\r\n    seriesTemp.push(seriesItem);\r\n  }\r\n  return seriesTemp;\r\n}\r\n\r\nfunction calValidDistance(self, distance, chartData, config, opts) {\r\n  var dataChartAreaWidth = opts.width - opts.area[1] - opts.area[3];\r\n  var dataChartWidth = chartData.eachSpacing * (opts.chartData.xAxisData.xAxisPoints.length - 1);\r\n  var validDistance = distance;\r\n  if (distance >= 0) {\r\n    validDistance = 0;\r\n    self.uevent.trigger('scrollLeft');\r\n    self.scrollOption.position = 'left'\r\n    opts.xAxis.scrollPosition = 'left';\r\n  } else if (Math.abs(distance) >= dataChartWidth - dataChartAreaWidth) {\r\n    validDistance = dataChartAreaWidth - dataChartWidth;\r\n    self.uevent.trigger('scrollRight');\r\n    self.scrollOption.position = 'right'\r\n    opts.xAxis.scrollPosition = 'right';\r\n  } else {\r\n    self.scrollOption.position = distance\r\n    opts.xAxis.scrollPosition = distance;\r\n  }\r\n  return validDistance;\r\n}\r\n\r\nfunction isInAngleRange(angle, startAngle, endAngle) {\r\n  function adjust(angle) {\r\n    while (angle < 0) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n    while (angle > 2 * Math.PI) {\r\n      angle -= 2 * Math.PI;\r\n    }\r\n    return angle;\r\n  }\r\n  angle = adjust(angle);\r\n  startAngle = adjust(startAngle);\r\n  endAngle = adjust(endAngle);\r\n  if (startAngle > endAngle) {\r\n    endAngle += 2 * Math.PI;\r\n    if (angle < startAngle) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n  }\r\n  return angle >= startAngle && angle <= endAngle;\r\n}\r\n\r\nfunction calRotateTranslate(x, y, h) {\r\n  var xv = x;\r\n  var yv = h - y;\r\n  var transX = xv + (h - yv - xv) / Math.sqrt(2);\r\n  transX *= -1;\r\n  var transY = (h - yv) * (Math.sqrt(2) - 1) - (h - yv - xv) / Math.sqrt(2);\r\n  return {\r\n    transX: transX,\r\n    transY: transY\r\n  };\r\n}\r\n\r\nfunction createCurveControlPoints(points, i) {\r\n  function isNotMiddlePoint(points, i) {\r\n    if (points[i - 1] && points[i + 1]) {\r\n      return points[i].y >= Math.max(points[i - 1].y, points[i + 1].y) || points[i].y <= Math.min(points[i - 1].y,\r\n        points[i + 1].y);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  function isNotMiddlePointX(points, i) {\r\n    if (points[i - 1] && points[i + 1]) {\r\n      return points[i].x >= Math.max(points[i - 1].x, points[i + 1].x) || points[i].x <= Math.min(points[i - 1].x,\r\n        points[i + 1].x);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  var a = 0.2;\r\n  var b = 0.2;\r\n  var pAx = null;\r\n  var pAy = null;\r\n  var pBx = null;\r\n  var pBy = null;\r\n  if (i < 1) {\r\n    pAx = points[0].x + (points[1].x - points[0].x) * a;\r\n    pAy = points[0].y + (points[1].y - points[0].y) * a;\r\n  } else {\r\n    pAx = points[i].x + (points[i + 1].x - points[i - 1].x) * a;\r\n    pAy = points[i].y + (points[i + 1].y - points[i - 1].y) * a;\r\n  }\r\n\r\n  if (i > points.length - 3) {\r\n    var last = points.length - 1;\r\n    pBx = points[last].x - (points[last].x - points[last - 1].x) * b;\r\n    pBy = points[last].y - (points[last].y - points[last - 1].y) * b;\r\n  } else {\r\n    pBx = points[i + 1].x - (points[i + 2].x - points[i].x) * b;\r\n    pBy = points[i + 1].y - (points[i + 2].y - points[i].y) * b;\r\n  }\r\n  if (isNotMiddlePoint(points, i + 1)) {\r\n    pBy = points[i + 1].y;\r\n  }\r\n  if (isNotMiddlePoint(points, i)) {\r\n    pAy = points[i].y;\r\n  }\r\n  if (isNotMiddlePointX(points, i + 1)) {\r\n    pBx = points[i + 1].x;\r\n  }\r\n  if (isNotMiddlePointX(points, i)) {\r\n    pAx = points[i].x;\r\n  }\r\n  if (pAy >= Math.max(points[i].y, points[i + 1].y) || pAy <= Math.min(points[i].y, points[i + 1].y)) {\r\n    pAy = points[i].y;\r\n  }\r\n  if (pBy >= Math.max(points[i].y, points[i + 1].y) || pBy <= Math.min(points[i].y, points[i + 1].y)) {\r\n    pBy = points[i + 1].y;\r\n  }\r\n  if (pAx >= Math.max(points[i].x, points[i + 1].x) || pAx <= Math.min(points[i].x, points[i + 1].x)) {\r\n    pAx = points[i].x;\r\n  }\r\n  if (pBx >= Math.max(points[i].x, points[i + 1].x) || pBx <= Math.min(points[i].x, points[i + 1].x)) {\r\n    pBx = points[i + 1].x;\r\n  }\r\n  return {\r\n    ctrA: {\r\n      x: pAx,\r\n      y: pAy\r\n    },\r\n    ctrB: {\r\n      x: pBx,\r\n      y: pBy\r\n    }\r\n  };\r\n}\r\n\r\nfunction convertCoordinateOrigin(x, y, center) {\r\n  return {\r\n    x: center.x + x,\r\n    y: center.y - y\r\n  };\r\n}\r\n\r\nfunction avoidCollision(obj, target) {\r\n  if (target) {\r\n    // is collision test\r\n    while (util.isCollision(obj, target)) {\r\n      if (obj.start.x > 0) {\r\n        obj.start.y--;\r\n      } else if (obj.start.x < 0) {\r\n        obj.start.y++;\r\n      } else {\r\n        if (obj.start.y > 0) {\r\n          obj.start.y++;\r\n        } else {\r\n          obj.start.y--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction fixPieSeries(series, opts, config){\r\n  let pieSeriesArr = [];\r\n  if(series.length>0 && series[0].data.constructor.toString().indexOf('Array') > -1){\r\n    opts._pieSeries_ = series;\r\n    let oldseries = series[0].data;\r\n    for (var i = 0; i < oldseries.length; i++) {\r\n      oldseries[i].formatter = series[0].formatter;\r\n      oldseries[i].data = oldseries[i].value;\r\n      pieSeriesArr.push(oldseries[i]);\r\n    }\r\n    opts.series = pieSeriesArr;\r\n  }else{\r\n    pieSeriesArr = series;\r\n  }\r\n  return pieSeriesArr;\r\n}\r\n\r\nfunction fillSeries(series, opts, config) {\r\n  var index = 0;\r\n  for (var i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    if (!item.color) {\r\n      item.color = config.color[index];\r\n      index = (index + 1) % config.color.length;\r\n    }\r\n    if (!item.linearIndex) {\r\n      item.linearIndex = i;\r\n    }\r\n    if (!item.index) {\r\n      item.index = 0;\r\n    }\r\n    if (!item.type) {\r\n      item.type = opts.type;\r\n    }\r\n    if (typeof item.show == \"undefined\") {\r\n      item.show = true;\r\n    }\r\n    if (!item.type) {\r\n      item.type = opts.type;\r\n    }\r\n    if (!item.pointShape) {\r\n      item.pointShape = \"circle\";\r\n    }\r\n    if (!item.legendShape) {\r\n      switch (item.type) {\r\n        case 'line':\r\n          item.legendShape = \"line\";\r\n          break;\r\n        case 'column':\r\n          item.legendShape = \"rect\";\r\n          break;\r\n        case 'area':\r\n          item.legendShape = \"triangle\";\r\n          break;\r\n        case 'bar':\r\n          item.legendShape = \"rect\";\r\n          break;\r\n        default:\r\n          item.legendShape = \"circle\";\r\n      }\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction fillCustomColor(linearType, customColor, series, config) {\r\n  var newcolor = customColor || [];\r\n  if (linearType == 'custom' && newcolor.length == 0 ) {\r\n    newcolor = config.linearColor;\r\n  }\r\n  if (linearType == 'custom' && newcolor.length < series.length) {\r\n    let chazhi = series.length - newcolor.length;\r\n    for (var i = 0; i < chazhi; i++) {\r\n      newcolor.push(config.linearColor[(i + 1) % config.linearColor.length]);\r\n    }\r\n  }\r\n  return newcolor;\r\n}\r\n  \r\nfunction getDataRange(minData, maxData) {\r\n  var limit = 0;\r\n  var range = maxData - minData;\r\n  if (range >= 10000) {\r\n    limit = 1000;\r\n  } else if (range >= 1000) {\r\n    limit = 100;\r\n  } else if (range >= 100) {\r\n    limit = 10;\r\n  } else if (range >= 10) {\r\n    limit = 5;\r\n  } else if (range >= 1) {\r\n    limit = 1;\r\n  } else if (range >= 0.1) {\r\n    limit = 0.1;\r\n  } else if (range >= 0.01) {\r\n    limit = 0.01;\r\n  } else if (range >= 0.001) {\r\n    limit = 0.001;\r\n  } else if (range >= 0.0001) {\r\n    limit = 0.0001;\r\n  } else if (range >= 0.00001) {\r\n    limit = 0.00001;\r\n  } else {\r\n    limit = 0.000001;\r\n  }\r\n  return {\r\n    minRange: findRange(minData, 'lower', limit),\r\n    maxRange: findRange(maxData, 'upper', limit)\r\n  };\r\n}\r\n\r\nfunction measureText(text, fontSize, context) {\r\n  var width = 0;\r\n  text = String(text);\r\n\r\n\r\n\r\n  if (context !== false && context !== undefined && context.setFontSize && context.measureText) {\r\n    context.setFontSize(fontSize);\r\n    return context.measureText(text).width;\r\n  } else {\r\n    var text = text.split('');\r\n    for (let i = 0; i < text.length; i++) {\r\n      let item = text[i];\r\n      if (/[a-zA-Z]/.test(item)) {\r\n        width += 7;\r\n      } else if (/[0-9]/.test(item)) {\r\n        width += 5.5;\r\n      } else if (/\\./.test(item)) {\r\n        width += 2.7;\r\n      } else if (/-/.test(item)) {\r\n        width += 3.25;\r\n      } else if (/:/.test(item)) {\r\n        width += 2.5;\r\n      } else if (/[\\u4e00-\\u9fa5]/.test(item)) {\r\n        width += 10;\r\n      } else if (/\\(|\\)/.test(item)) {\r\n        width += 3.73;\r\n      } else if (/\\s/.test(item)) {\r\n        width += 2.5;\r\n      } else if (/%/.test(item)) {\r\n        width += 8;\r\n      } else {\r\n        width += 10;\r\n      }\r\n    }\r\n    return width * fontSize / 10;\r\n  }\r\n}\r\n\r\nfunction dataCombine(series) {\r\n  return series.reduce(function(a, b) {\r\n    return (a.data ? a.data : a).concat(b.data);\r\n  }, []);\r\n}\r\n\r\nfunction dataCombineStack(series, len) {\r\n  var sum = new Array(len);\r\n  for (var j = 0; j < sum.length; j++) {\r\n    sum[j] = 0;\r\n  }\r\n  for (var i = 0; i < series.length; i++) {\r\n    for (var j = 0; j < sum.length; j++) {\r\n      sum[j] += series[i].data[j];\r\n    }\r\n  }\r\n  return series.reduce(function(a, b) {\r\n    return (a.data ? a.data : a).concat(b.data).concat(sum);\r\n  }, []);\r\n}\r\n\r\nfunction getTouches(touches, opts, e) {\r\n  let x, y;\r\n  if (touches.clientX) {\r\n    if (opts.rotate) {\r\n      y = opts.height - touches.clientX * opts.pix;\r\n      x = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pix / 2) * (opts.pix - 1)) * opts.pix;\r\n    } else {\r\n      x = touches.clientX * opts.pix;\r\n      y = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pix / 2) * (opts.pix - 1)) * opts.pix;\r\n    }\r\n  } else {\r\n    if (opts.rotate) {\r\n      y = opts.height - touches.x * opts.pix;\r\n      x = touches.y * opts.pix;\r\n    } else {\r\n      x = touches.x * opts.pix;\r\n      y = touches.y * opts.pix;\r\n    }\r\n  }\r\n  return {\r\n    x: x,\r\n    y: y\r\n  }\r\n}\r\n\r\nfunction getSeriesDataItem(series, index, group) {\r\n  var data = [];\r\n  var newSeries = [];\r\n  var indexIsArr = index.constructor.toString().indexOf('Array') > -1;\r\n  if(indexIsArr){\r\n    let tempSeries = filterSeries(series);\r\n    for (var i = 0; i < group.length; i++) {\r\n      newSeries.push(tempSeries[group[i]]);\r\n    }\r\n  }else{\r\n    newSeries = series;\r\n  };\r\n  for (let i = 0; i < newSeries.length; i++) {\r\n    let item = newSeries[i];\r\n    let tmpindex = -1;\r\n    if(indexIsArr){\r\n      tmpindex = index[i];\r\n    }else{\r\n      tmpindex = index;\r\n    }\r\n    if (item.data[tmpindex] !== null && typeof item.data[tmpindex] !== 'undefined' && item.show) {\r\n      let seriesItem = {};\r\n      seriesItem.color = item.color;\r\n      seriesItem.type = item.type;\r\n      seriesItem.style = item.style;\r\n      seriesItem.pointShape = item.pointShape;\r\n      seriesItem.disableLegend = item.disableLegend;\r\n      seriesItem.name = item.name;\r\n      seriesItem.show = item.show;\r\n      seriesItem.data = item.formatter ? item.formatter(item.data[tmpindex]) : item.data[tmpindex];\r\n      data.push(seriesItem);\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction getMaxTextListLength(list, fontSize, context) {\r\n  var lengthList = list.map(function(item) {\r\n    return measureText(item, fontSize, context);\r\n  });\r\n  return Math.max.apply(null, lengthList);\r\n}\r\n\r\nfunction getRadarCoordinateSeries(length) {\r\n  var eachAngle = 2 * Math.PI / length;\r\n  var CoordinateSeries = [];\r\n  for (var i = 0; i < length; i++) {\r\n    CoordinateSeries.push(eachAngle * i);\r\n  }\r\n  return CoordinateSeries.map(function(item) {\r\n    return -1 * item + Math.PI / 2;\r\n  });\r\n}\r\n\r\nfunction getToolTipData(seriesData, opts, index, group, categories) {\r\n  var option = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\r\n  var calPoints = opts.chartData.calPoints?opts.chartData.calPoints:[];\r\n  let points = {};\r\n  if(group.length > 0){\r\n    let filterPoints = [];\r\n    for (let i = 0; i < group.length; i++) {\r\n      filterPoints.push(calPoints[group[i]])\r\n    }\r\n    points = filterPoints[0][index[0]];\r\n  }else{\r\n    points = calPoints[0][index];\r\n  };\r\n  var textList = seriesData.map(function(item) {\r\n    let titleText = null;\r\n    if (opts.categories && opts.categories.length>0) {\r\n      titleText = categories[index];\r\n    };\r\n    return {\r\n      text: option.formatter ? option.formatter(item, titleText, index, opts) : item.name + ': ' + item.data,\r\n      color: item.color\r\n    };\r\n  });\r\n  var offset = {\r\n    x: Math.round(points.x),\r\n    y: Math.round(points.y)\r\n  };\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction getMixToolTipData(seriesData, opts, index, categories) {\r\n  var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n  var points = opts.chartData.xAxisPoints[index] + opts.chartData.eachSpacing / 2;\r\n  var textList = seriesData.map(function(item) {\r\n    return {\r\n      text: option.formatter ? option.formatter(item, categories[index], index, opts) : item.name + ': ' + item.data,\r\n      color: item.color,\r\n      disableLegend: item.disableLegend ? true : false\r\n    };\r\n  });\r\n  textList = textList.filter(function(item) {\r\n    if (item.disableLegend !== true) {\r\n      return item;\r\n    }\r\n  });\r\n  var offset = {\r\n    x: Math.round(points),\r\n    y: 0\r\n  };\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction getCandleToolTipData(series, seriesData, opts, index, categories, extra) {\r\n  var option = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\r\n  var calPoints = opts.chartData.calPoints;\r\n  let upColor = extra.color.upFill;\r\n  let downColor = extra.color.downFill;\r\n  //颜色顺序为开盘，收盘，最低，最高\r\n  let color = [upColor, upColor, downColor, upColor];\r\n  var textList = [];\r\n  seriesData.map(function(item) {\r\n    if (index == 0) {\r\n      if (item.data[1] - item.data[0] < 0) {\r\n        color[1] = downColor;\r\n      } else {\r\n        color[1] = upColor;\r\n      }\r\n    } else {\r\n      if (item.data[0] < series[index - 1][1]) {\r\n        color[0] = downColor;\r\n      }\r\n      if (item.data[1] < item.data[0]) {\r\n        color[1] = downColor;\r\n      }\r\n      if (item.data[2] > series[index - 1][1]) {\r\n        color[2] = upColor;\r\n      }\r\n      if (item.data[3] < series[index - 1][1]) {\r\n        color[3] = downColor;\r\n      }\r\n    }\r\n    let text1 = {\r\n      text: '开盘：' + item.data[0],\r\n      color: color[0]\r\n    };\r\n    let text2 = {\r\n      text: '收盘：' + item.data[1],\r\n      color: color[1]\r\n    };\r\n    let text3 = {\r\n      text: '最低：' + item.data[2],\r\n      color: color[2]\r\n    };\r\n    let text4 = {\r\n      text: '最高：' + item.data[3],\r\n      color: color[3]\r\n    };\r\n    textList.push(text1, text2, text3, text4);\r\n  });\r\n  var validCalPoints = [];\r\n  var offset = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n  for (let i = 0; i < calPoints.length; i++) {\r\n    let points = calPoints[i];\r\n    if (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n      validCalPoints.push(points[index]);\r\n    }\r\n  }\r\n  offset.x = Math.round(validCalPoints[0][0].x);\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction filterSeries(series) {\r\n  let tempSeries = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    if (series[i].show == true) {\r\n      tempSeries.push(series[i])\r\n    }\r\n  }\r\n  return tempSeries;\r\n}\r\n\r\nfunction findCurrentIndex(currentPoints, calPoints, opts, config) {\r\n  var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n  var current={ index:-1, group:[] };\r\n  var spacing = opts.chartData.eachSpacing / 2;\r\n  let xAxisPoints = [];\r\n  if (calPoints && calPoints.length > 0) {\r\n    if (!opts.categories) {\r\n      spacing = 0;\r\n    }else{\r\n      for (let i = 1; i < opts.chartData.xAxisPoints.length; i++) {\r\n        xAxisPoints.push(opts.chartData.xAxisPoints[i] - spacing);\r\n      }\r\n      if ((opts.type == 'line' || opts.type == 'area') && opts.xAxis.boundaryGap == 'justify') {\r\n        xAxisPoints = opts.chartData.xAxisPoints;\r\n      }\r\n    }\r\n    if (isInExactChartArea(currentPoints, opts, config)) {\r\n      if (!opts.categories) {\r\n        let timePoints = Array(calPoints.length);\r\n        for (let i = 0; i < calPoints.length; i++) {\r\n          timePoints[i] = Array(calPoints[i].length)\r\n          for (let j = 0; j < calPoints[i].length; j++) {\r\n            timePoints[i][j] = (Math.abs(calPoints[i][j].x - currentPoints.x));\r\n          }\r\n        };\r\n        let pointValue =  Array(timePoints.length);\r\n        let pointIndex =  Array(timePoints.length);\r\n        for (let i = 0; i < timePoints.length; i++) {\r\n          pointValue[i] = Math.min.apply(null, timePoints[i]);\r\n          pointIndex[i] = timePoints[i].indexOf(pointValue[i]);\r\n        }\r\n        let minValue = Math.min.apply(null, pointValue);\r\n        current.index = [];\r\n        for (let i = 0; i < pointValue.length; i++) {\r\n          if(pointValue[i] == minValue){\r\n            current.group.push(i);\r\n            current.index.push(pointIndex[i]);\r\n          }\r\n        };\r\n      }else{\r\n        xAxisPoints.forEach(function(item, index) {\r\n          if (currentPoints.x + offset + spacing > item) {\r\n            current.index = index;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return current;\r\n}\r\n\r\nfunction findBarChartCurrentIndex(currentPoints, calPoints, opts, config) {\r\n  var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n  var current={ index:-1, group:[] };\r\n  var spacing = opts.chartData.eachSpacing / 2;\r\n  let yAxisPoints = opts.chartData.yAxisPoints;\r\n  if (calPoints && calPoints.length > 0) {\r\n    if (isInExactChartArea(currentPoints, opts, config)) {\r\n      yAxisPoints.forEach(function(item, index) {\r\n        if (currentPoints.y + offset + spacing > item) {\r\n          current.index = index;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  return current;\r\n}\r\n\r\nfunction findLegendIndex(currentPoints, legendData, opts) {\r\n  let currentIndex = -1;\r\n  let gap = 0;\r\n  if (isInExactLegendArea(currentPoints, legendData.area)) {\r\n    let points = legendData.points;\r\n    let index = -1;\r\n    for (let i = 0, len = points.length; i < len; i++) {\r\n      let item = points[i];\r\n      for (let j = 0; j < item.length; j++) {\r\n        index += 1;\r\n        let area = item[j]['area'];\r\n        if (area && currentPoints.x > area[0] - gap && currentPoints.x < area[2] + gap && currentPoints.y > area[1] - gap && currentPoints.y < area[3] + gap) {\r\n          currentIndex = index;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return currentIndex;\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction isInExactLegendArea(currentPoints, area) {\r\n  return currentPoints.x > area.start.x && currentPoints.x < area.end.x && currentPoints.y > area.start.y && currentPoints.y < area.end.y;\r\n}\r\n\r\nfunction isInExactChartArea(currentPoints, opts, config) {\r\n  return currentPoints.x <= opts.width - opts.area[1] + 10 && currentPoints.x >= opts.area[3] - 10 && currentPoints.y >= opts.area[0] && currentPoints.y <= opts.height - opts.area[2];\r\n}\r\n\r\nfunction findRadarChartCurrentIndex(currentPoints, radarData, count) {\r\n  var eachAngleArea = 2 * Math.PI / count;\r\n  var currentIndex = -1;\r\n  if (isInExactPieChartArea(currentPoints, radarData.center, radarData.radius)) {\r\n    var fixAngle = function fixAngle(angle) {\r\n      if (angle < 0) {\r\n        angle += 2 * Math.PI;\r\n      }\r\n      if (angle > 2 * Math.PI) {\r\n        angle -= 2 * Math.PI;\r\n      }\r\n      return angle;\r\n    };\r\n    var angle = Math.atan2(radarData.center.y - currentPoints.y, currentPoints.x - radarData.center.x);\r\n    angle = -1 * angle;\r\n    if (angle < 0) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n    var angleList = radarData.angleList.map(function(item) {\r\n      item = fixAngle(-1 * item);\r\n      return item;\r\n    });\r\n    angleList.forEach(function(item, index) {\r\n      var rangeStart = fixAngle(item - eachAngleArea / 2);\r\n      var rangeEnd = fixAngle(item + eachAngleArea / 2);\r\n      if (rangeEnd < rangeStart) {\r\n        rangeEnd += 2 * Math.PI;\r\n      }\r\n      if (angle >= rangeStart && angle <= rangeEnd || angle + 2 * Math.PI >= rangeStart && angle + 2 * Math.PI <= rangeEnd) {\r\n        currentIndex = index;\r\n      }\r\n    });\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findFunnelChartCurrentIndex(currentPoints, funnelData) {\r\n  var currentIndex = -1;\r\n  for (var i = 0, len = funnelData.series.length; i < len; i++) {\r\n    var item = funnelData.series[i];\r\n    if (currentPoints.x > item.funnelArea[0] && currentPoints.x < item.funnelArea[2] && currentPoints.y > item.funnelArea[1] && currentPoints.y < item.funnelArea[3]) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findWordChartCurrentIndex(currentPoints, wordData) {\r\n  var currentIndex = -1;\r\n  for (var i = 0, len = wordData.length; i < len; i++) {\r\n    var item = wordData[i];\r\n    if (currentPoints.x > item.area[0] && currentPoints.x < item.area[2] && currentPoints.y > item.area[1] && currentPoints.y < item.area[3]) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findMapChartCurrentIndex(currentPoints, opts) {\r\n  var currentIndex = -1;\r\n  var cData = opts.chartData.mapData;\r\n  var data = opts.series;\r\n  var tmp = pointToCoordinate(currentPoints.y, currentPoints.x, cData.bounds, cData.scale, cData.xoffset, cData.yoffset);\r\n  var poi = [tmp.x, tmp.y];\r\n  for (var i = 0, len = data.length; i < len; i++) {\r\n    var item = data[i].geometry.coordinates;\r\n    if (isPoiWithinPoly(poi, item, opts.chartData.mapData.mercator)) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findRoseChartCurrentIndex(currentPoints, pieData, opts) {\r\n  var currentIndex = -1;\r\n  var series = getRoseDataPoints(opts._series_, opts.extra.rose.type, pieData.radius, pieData.radius);\r\n  if (pieData && pieData.center && isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n    var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n    angle = -angle;\r\n    if(opts.extra.rose && opts.extra.rose.offsetAngle){\r\n      angle = angle - opts.extra.rose.offsetAngle * Math.PI / 180;\r\n    }\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (isInAngleRange(angle, series[i]._start_, series[i]._start_ + series[i]._rose_proportion_ * 2 * Math.PI)) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findPieChartCurrentIndex(currentPoints, pieData, opts) {\r\n  var currentIndex = -1;\r\n  var series = getPieDataPoints(pieData.series);\r\n  if (pieData && pieData.center && isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n    var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n    angle = -angle;\r\n    if(opts.extra.pie && opts.extra.pie.offsetAngle){\r\n      angle = angle - opts.extra.pie.offsetAngle * Math.PI / 180;\r\n    }\r\n    if(opts.extra.ring && opts.extra.ring.offsetAngle){\r\n      angle = angle - opts.extra.ring.offsetAngle * Math.PI / 180;\r\n    }\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (isInAngleRange(angle, series[i]._start_, series[i]._start_ + series[i]._proportion_ * 2 * Math.PI)) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction isInExactPieChartArea(currentPoints, center, radius) {\r\n  return Math.pow(currentPoints.x - center.x, 2) + Math.pow(currentPoints.y - center.y, 2) <= Math.pow(radius, 2);\r\n}\r\n\r\nfunction splitPoints(points,eachSeries) {\r\n  var newPoints = [];\r\n  var items = [];\r\n  points.forEach(function(item, index) {\r\n    if(eachSeries.connectNulls){\r\n      if (item !== null) {\r\n        items.push(item);\r\n      }\r\n    }else{\r\n      if (item !== null) {\r\n        items.push(item);\r\n      } else {\r\n        if (items.length) {\r\n          newPoints.push(items);\r\n        }\r\n        items = [];\r\n      }\r\n    }\r\n    \r\n  });\r\n  if (items.length) {\r\n    newPoints.push(items);\r\n  }\r\n  return newPoints;\r\n}\r\n\r\nfunction calLegendData(series, opts, config, chartData, context) {\r\n  let legendData = {\r\n    area: {\r\n      start: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      end: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      width: 0,\r\n      height: 0,\r\n      wholeWidth: 0,\r\n      wholeHeight: 0\r\n    },\r\n    points: [],\r\n    widthArr: [],\r\n    heightArr: []\r\n  };\r\n  if (opts.legend.show === false) {\r\n    chartData.legendData = legendData;\r\n    return legendData;\r\n  }\r\n  let padding = opts.legend.padding * opts.pix;\r\n  let margin = opts.legend.margin * opts.pix;\r\n  let fontSize = opts.legend.fontSize ? opts.legend.fontSize * opts.pix : config.fontSize;\r\n  let shapeWidth = 15 * opts.pix;\r\n  let shapeRight = 5 * opts.pix;\r\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pix, fontSize);\r\n  if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n    let legendList = [];\r\n    let widthCount = 0;\r\n    let widthCountArr = [];\r\n    let currentRow = [];\r\n    for (let i = 0; i < series.length; i++) {\r\n      let item = series[i];\r\n      let itemWidth = shapeWidth + shapeRight + measureText(item.name || 'undefined', fontSize, context) + opts.legend.itemGap * opts.pix;\r\n      if (widthCount + itemWidth > opts.width - opts.area[1] - opts.area[3]) {\r\n        legendList.push(currentRow);\r\n        widthCountArr.push(widthCount - opts.legend.itemGap * opts.pix);\r\n        widthCount = itemWidth;\r\n        currentRow = [item];\r\n      } else {\r\n        widthCount += itemWidth;\r\n        currentRow.push(item);\r\n      }\r\n    }\r\n    if (currentRow.length) {\r\n      legendList.push(currentRow);\r\n      widthCountArr.push(widthCount - opts.legend.itemGap * opts.pix);\r\n      legendData.widthArr = widthCountArr;\r\n      let legendWidth = Math.max.apply(null, widthCountArr);\r\n      switch (opts.legend.float) {\r\n        case 'left':\r\n          legendData.area.start.x = opts.area[3];\r\n          legendData.area.end.x = opts.area[3] + legendWidth + 2 * padding;\r\n          break;\r\n        case 'right':\r\n          legendData.area.start.x = opts.width - opts.area[1] - legendWidth - 2 * padding;\r\n          legendData.area.end.x = opts.width - opts.area[1];\r\n          break;\r\n        default:\r\n          legendData.area.start.x = (opts.width - legendWidth) / 2 - padding;\r\n          legendData.area.end.x = (opts.width + legendWidth) / 2 + padding;\r\n      }\r\n      legendData.area.width = legendWidth + 2 * padding;\r\n      legendData.area.wholeWidth = legendWidth + 2 * padding;\r\n      legendData.area.height = legendList.length * lineHeight + 2 * padding;\r\n      legendData.area.wholeHeight = legendList.length * lineHeight + 2 * padding + 2 * margin;\r\n      legendData.points = legendList;\r\n    }\r\n  } else {\r\n    let len = series.length;\r\n    let maxHeight = opts.height - opts.area[0] - opts.area[2] - 2 * margin - 2 * padding;\r\n    let maxLength = Math.min(Math.floor(maxHeight / lineHeight), len);\r\n    legendData.area.height = maxLength * lineHeight + padding * 2;\r\n    legendData.area.wholeHeight = maxLength * lineHeight + padding * 2;\r\n    switch (opts.legend.float) {\r\n      case 'top':\r\n        legendData.area.start.y = opts.area[0] + margin;\r\n        legendData.area.end.y = opts.area[0] + margin + legendData.area.height;\r\n        break;\r\n      case 'bottom':\r\n        legendData.area.start.y = opts.height - opts.area[2] - margin - legendData.area.height;\r\n        legendData.area.end.y = opts.height - opts.area[2] - margin;\r\n        break;\r\n      default:\r\n        legendData.area.start.y = (opts.height - legendData.area.height) / 2;\r\n        legendData.area.end.y = (opts.height + legendData.area.height) / 2;\r\n    }\r\n    let lineNum = len % maxLength === 0 ? len / maxLength : Math.floor((len / maxLength) + 1);\r\n    let currentRow = [];\r\n    for (let i = 0; i < lineNum; i++) {\r\n      let temp = series.slice(i * maxLength, i * maxLength + maxLength);\r\n      currentRow.push(temp);\r\n    }\r\n    legendData.points = currentRow;\r\n    if (currentRow.length) {\r\n      for (let i = 0; i < currentRow.length; i++) {\r\n        let item = currentRow[i];\r\n        let maxWidth = 0;\r\n        for (let j = 0; j < item.length; j++) {\r\n          let itemWidth = shapeWidth + shapeRight + measureText(item[j].name || 'undefined', fontSize, context) + opts.legend.itemGap * opts.pix;\r\n          if (itemWidth > maxWidth) {\r\n            maxWidth = itemWidth;\r\n          }\r\n        }\r\n        legendData.widthArr.push(maxWidth);\r\n        legendData.heightArr.push(item.length * lineHeight + padding * 2);\r\n      }\r\n      let legendWidth = 0\r\n      for (let i = 0; i < legendData.widthArr.length; i++) {\r\n        legendWidth += legendData.widthArr[i];\r\n      }\r\n      legendData.area.width = legendWidth - opts.legend.itemGap * opts.pix + 2 * padding;\r\n      legendData.area.wholeWidth = legendData.area.width + padding;\r\n    }\r\n  }\r\n  switch (opts.legend.position) {\r\n    case 'top':\r\n      legendData.area.start.y = opts.area[0] + margin;\r\n      legendData.area.end.y = opts.area[0] + margin + legendData.area.height;\r\n      break;\r\n    case 'bottom':\r\n      legendData.area.start.y = opts.height - opts.area[2] - legendData.area.height - margin;\r\n      legendData.area.end.y = opts.height - opts.area[2] - margin;\r\n      break;\r\n    case 'left':\r\n      legendData.area.start.x = opts.area[3];\r\n      legendData.area.end.x = opts.area[3] + legendData.area.width;\r\n      break;\r\n    case 'right':\r\n      legendData.area.start.x = opts.width - opts.area[1] - legendData.area.width;\r\n      legendData.area.end.x = opts.width - opts.area[1];\r\n      break;\r\n  }\r\n  chartData.legendData = legendData;\r\n  return legendData;\r\n}\r\n\r\nfunction calCategoriesData(categories, opts, config, eachSpacing, context) {\r\n  var result = {\r\n    angle: 0,\r\n    xAxisHeight: config.xAxisHeight\r\n  };\r\n  var categoriesTextLenth = categories.map(function(item) {\r\n    return measureText(item, opts.xAxis.fontSize * opts.pix || config.fontSize, context);\r\n  });\r\n  var maxTextLength = Math.max.apply(this, categoriesTextLenth);\r\n\r\n  if (opts.xAxis.rotateLabel == true && maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\r\n    result.angle = 45 * Math.PI / 180;\r\n    result.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction getXAxisTextList(series, opts, config, stack) {\r\n  var index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\r\n  var data;\r\n  if (stack == 'stack') {\r\n    data = dataCombineStack(series, opts.categories.length);\r\n  } else {\r\n    data = dataCombine(series);\r\n  }\r\n  var sorted = [];\r\n  // remove null from data\r\n  data = data.filter(function(item) {\r\n    //return item !== null;\r\n    if (typeof item === 'object' && item !== null) {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        return item !== null;\r\n      } else {\r\n        return item.value !== null;\r\n      }\r\n    } else {\r\n      return item !== null;\r\n    }\r\n  });\r\n  data.map(function(item) {\r\n    if (typeof item === 'object') {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        if (opts.type == 'candle') {\r\n          item.map(function(subitem) {\r\n            sorted.push(subitem);\r\n          })\r\n        } else {\r\n          sorted.push(item[0]);\r\n        }\r\n      } else {\r\n        sorted.push(item.value);\r\n      }\r\n    } else {\r\n      sorted.push(item);\r\n    }\r\n  })\r\n\r\n  var minData = 0;\r\n  var maxData = 0;\r\n  if (sorted.length > 0) {\r\n    minData = Math.min.apply(this, sorted);\r\n    maxData = Math.max.apply(this, sorted);\r\n  }\r\n  //为了兼容v1.9.0之前的项目\r\n  if (index > -1) {\r\n    if (typeof opts.xAxis.data[index].min === 'number') {\r\n      minData = Math.min(opts.xAxis.data[index].min, minData);\r\n    }\r\n    if (typeof opts.xAxis.data[index].max === 'number') {\r\n      maxData = Math.max(opts.xAxis.data[index].max, maxData);\r\n    }\r\n  } else {\r\n    if (typeof opts.xAxis.min === 'number') {\r\n      minData = Math.min(opts.xAxis.min, minData);\r\n    }\r\n    if (typeof opts.xAxis.max === 'number') {\r\n      maxData = Math.max(opts.xAxis.max, maxData);\r\n    }\r\n  }\r\n  if (minData === maxData) {\r\n    var rangeSpan = maxData || 10;\r\n    maxData += rangeSpan;\r\n  }\r\n  //var dataRange = getDataRange(minData, maxData);\r\n  var minRange = minData;\r\n  var maxRange = maxData;\r\n  var range = [];\r\n  var eachRange = (maxRange - minRange) / opts.xAxis.splitNumber;\r\n  for (var i = 0; i <= opts.xAxis.splitNumber; i++) {\r\n    range.push(minRange + eachRange * i);\r\n  }\r\n  return range;\r\n}\r\n\r\nfunction calXAxisData(series, opts, config, context) {\r\n  //堆叠图重算Y轴\r\n  var columnstyle = assign({}, {\r\n    type: \"\"\r\n  }, opts.extra.bar);\r\n  var result = {\r\n    angle: 0,\r\n    xAxisHeight: config.xAxisHeight\r\n  };\r\n  result.ranges = getXAxisTextList(series, opts, config, columnstyle.type);\r\n  result.rangesFormat = result.ranges.map(function(item) {\r\n    //item = opts.xAxis.formatter ? opts.xAxis.formatter(item) : util.toFixed(item, 2);\r\n    item = util.toFixed(item, 2);\r\n    return item;\r\n  });\r\n  var xAxisScaleValues = result.ranges.map(function(item) {\r\n    // 如果刻度值是浮点数,则保留两位小数\r\n    item = util.toFixed(item, 2);\r\n    // 若有自定义格式则调用自定义的格式化函数\r\n    //item = opts.xAxis.formatter ? opts.xAxis.formatter(Number(item)) : item;\r\n    return item;\r\n  });\r\n  result = Object.assign(result, getXAxisPoints(xAxisScaleValues, opts, config));\r\n  // 计算X轴刻度的属性譬如每个刻度的间隔,刻度的起始点\\结束点以及总长\r\n  var eachSpacing = result.eachSpacing;\r\n  var textLength = xAxisScaleValues.map(function(item) {\r\n    return measureText(item, opts.xAxis.fontSize * opts.pix || config.fontSize, context);\r\n  });\r\n  // get max length of categories text\r\n  var maxTextLength = Math.max.apply(this, textLength);\r\n  // 如果刻度值文本内容过长,则将其逆时针旋转45°\r\n  if (maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\r\n    result.angle = 45 * Math.PI / 180;\r\n    result.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\r\n  }\r\n  if (opts.xAxis.disabled === true) {\r\n    result.xAxisHeight = 0;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction getRadarDataPoints(angleList, center, radius, series, opts) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var radarOption = opts.extra.radar || {};\r\n  radarOption.max = radarOption.max || 0;\r\n  var maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\r\n  var data = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    let each = series[i];\r\n    let listItem = {};\r\n    listItem.color = each.color;\r\n    listItem.legendShape = each.legendShape;\r\n    listItem.pointShape = each.pointShape;\r\n    listItem.data = [];\r\n    each.data.forEach(function(item, index) {\r\n      let tmp = {};\r\n      tmp.angle = angleList[index];\r\n      tmp.proportion = item / maxData;\r\n      tmp.value = item;\r\n      tmp.position = convertCoordinateOrigin(radius * tmp.proportion * process * Math.cos(tmp.angle), radius * tmp.proportion * process * Math.sin(tmp.angle), center);\r\n      listItem.data.push(tmp);\r\n    });\r\n    data.push(listItem);\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction getPieDataPoints(series, radius) {\r\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  var count = 0;\r\n  var _start_ = 0;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    count += item.data;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (count === 0) {\r\n      item._proportion_ = 1 / series.length * process;\r\n    } else {\r\n      item._proportion_ = item.data / count * process;\r\n    }\r\n    item._radius_ = radius;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item._start_ = _start_;\r\n    _start_ += 2 * item._proportion_ * Math.PI;\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getFunnelDataPoints(series, radius, type, eachSpacing) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  series = series.sort(function(a, b) {\r\n    return parseInt(b.data) - parseInt(a.data);\r\n  });\r\n  for (let i = 0; i < series.length; i++) {\r\n    if(type == 'funnel'){\r\n      series[i].radius = series[i].data / series[0].data * radius * process;\r\n    }else{\r\n      series[i].radius =  (eachSpacing * (series.length - i)) / (eachSpacing * series.length) * radius * process;\r\n    }\r\n    series[i]._proportion_ = series[i].data / series[0].data;\r\n  }\r\n  if(type !== 'pyramid'){\r\n    series.reverse();\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getRoseDataPoints(series, type, minRadius, radius) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var count = 0;\r\n  var _start_ = 0;\r\n  var dataArr = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    count += item.data;\r\n    dataArr.push(item.data);\r\n  }\r\n  var minData = Math.min.apply(null, dataArr);\r\n  var maxData = Math.max.apply(null, dataArr);\r\n  var radiusLength = radius - minRadius;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (count === 0) {\r\n      item._proportion_ = 1 / series.length * process;\r\n      item._rose_proportion_ = 1 / series.length * process;\r\n    } else {\r\n      item._proportion_ = item.data / count * process;\r\n      if(type == 'area'){\r\n        item._rose_proportion_ = 1 / series.length * process;\r\n      }else{\r\n        item._rose_proportion_ = item.data / count * process;\r\n      }\r\n    }\r\n    item._radius_ = minRadius + radiusLength * ((item.data - minData) / (maxData - minData)) || radius;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item._start_ = _start_;\r\n    _start_ += 2 * item._rose_proportion_ * Math.PI;\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getArcbarDataPoints(series, arcbarOption) {\r\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  if (process == 1) {\r\n    process = 0.999999;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    let totalAngle;\r\n    if (arcbarOption.type == 'circle') {\r\n      totalAngle = 2;\r\n    } else {\r\n      if (arcbarOption.endAngle < arcbarOption.startAngle) {\r\n        totalAngle = 2 + arcbarOption.endAngle - arcbarOption.startAngle;\r\n      } else {\r\n        totalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\r\n      }\r\n    }\r\n    item._proportion_ = totalAngle * item.data * process + arcbarOption.startAngle;\r\n    if (item._proportion_ >= 2) {\r\n      item._proportion_ = item._proportion_ % 2;\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getGaugeAxisPoints(categories, startAngle, endAngle) {\r\n  let totalAngle = startAngle - endAngle + 1;\r\n  let tempStartAngle = startAngle;\r\n  for (let i = 0; i < categories.length; i++) {\r\n    categories[i].value = categories[i].value === null ? 0 : categories[i].value;\r\n    categories[i]._startAngle_ = tempStartAngle;\r\n    categories[i]._endAngle_ = totalAngle * categories[i].value + startAngle;\r\n    if (categories[i]._endAngle_ >= 2) {\r\n      categories[i]._endAngle_ = categories[i]._endAngle_ % 2;\r\n    }\r\n    tempStartAngle = categories[i]._endAngle_;\r\n  }\r\n  return categories;\r\n}\r\n\r\nfunction getGaugeDataPoints(series, categories, gaugeOption) {\r\n  let process = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (gaugeOption.pointer.color == 'auto') {\r\n      for (let i = 0; i < categories.length; i++) {\r\n        if (item.data <= categories[i].value) {\r\n          item.color = categories[i].color;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      item.color = gaugeOption.pointer.color;\r\n    }\r\n    let totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n    item._endAngle_ = totalAngle * item.data + gaugeOption.startAngle;\r\n    item._oldAngle_ = gaugeOption.oldAngle;\r\n    if (gaugeOption.oldAngle < gaugeOption.endAngle) {\r\n      item._oldAngle_ += 2;\r\n    }\r\n    if (item.data >= gaugeOption.oldData) {\r\n      item._proportion_ = (item._endAngle_ - item._oldAngle_) * process + gaugeOption.oldAngle;\r\n    } else {\r\n      item._proportion_ = item._oldAngle_ - (item._oldAngle_ - item._endAngle_) * process;\r\n    }\r\n    if (item._proportion_ >= 2) {\r\n      item._proportion_ = item._proportion_ % 2;\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getPieTextMaxLength(series, config, context, opts) {\r\n  series = getPieDataPoints(series);\r\n  let maxLength = 0;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    let text = item.formatter ? item.formatter(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) + '%';\r\n    maxLength = Math.max(maxLength, measureText(text, item.textSize * opts.pix || config.fontSize, context));\r\n  }\r\n  return maxLength;\r\n}\r\n\r\nfunction fixColumeData(points, eachSpacing, columnLen, index, config, opts) {\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    var seriesGap = 0;\r\n    var categoryGap = 0;\r\n    if (opts.type == 'mix') {\r\n      seriesGap = opts.extra.mix.column.seriesGap * opts.pix || 0;\r\n      categoryGap = opts.extra.mix.column.categoryGap * opts.pix || 0;\r\n    } else {\r\n      seriesGap = opts.extra.column.seriesGap * opts.pix || 0;\r\n      categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n    }\r\n    seriesGap =  Math.min(seriesGap, eachSpacing / columnLen)\r\n    categoryGap =  Math.min(categoryGap, eachSpacing / columnLen)\r\n    item.width = Math.ceil((eachSpacing - 2 * categoryGap - seriesGap * (columnLen - 1)) / columnLen);\r\n    if (opts.extra.mix && opts.extra.mix.column.width && +opts.extra.mix.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.mix.column.width * opts.pix);\r\n    }\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    item.x += (index + 0.5 - columnLen / 2) * (item.width + seriesGap);\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixBarData(points, eachSpacing, columnLen, index, config, opts) {\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    var seriesGap = 0;\r\n    var categoryGap = 0;\r\n    seriesGap = opts.extra.bar.seriesGap * opts.pix || 0;\r\n    categoryGap = opts.extra.bar.categoryGap * opts.pix || 0;\r\n    seriesGap =  Math.min(seriesGap, eachSpacing / columnLen)\r\n    categoryGap =  Math.min(categoryGap, eachSpacing / columnLen)\r\n    item.width = Math.ceil((eachSpacing - 2 * categoryGap - seriesGap * (columnLen - 1)) / columnLen);\r\n    if (opts.extra.bar && opts.extra.bar.width && +opts.extra.bar.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.bar.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    item.y += (index + 0.5 - columnLen / 2) * (item.width + seriesGap);\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixColumeMeterData(points, eachSpacing, columnLen, index, config, opts, border) {\r\n  var categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = Math.ceil(eachSpacing - 2 * categoryGap);\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (index > 0) {\r\n      item.width -= 2 * border;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixColumeStackData(points, eachSpacing, columnLen, index, config, opts, series) {\r\n  var categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n  return points.map(function(item, indexn) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = Math.ceil(eachSpacing - 2 * categoryGap);\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixBarStackData(points, eachSpacing, columnLen, index, config, opts, series) {\r\n  var categoryGap = opts.extra.bar.categoryGap * opts.pix || 0;\r\n  return points.map(function(item, indexn) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = Math.ceil(eachSpacing - 2 * categoryGap);\r\n    if (opts.extra.bar && opts.extra.bar.width && +opts.extra.bar.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.bar.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction getXAxisPoints(categories, opts, config) {\r\n  var spacingValid = opts.width - opts.area[1] - opts.area[3];\r\n  var dataCount = opts.enableScroll ? Math.min(opts.xAxis.itemCount, categories.length) : categories.length;\r\n  if ((opts.type == 'line' || opts.type == 'area' || opts.type == 'scatter' || opts.type == 'bubble' || opts.type == 'bar') && dataCount > 1 && opts.xAxis.boundaryGap == 'justify') {\r\n    dataCount -= 1;\r\n  }\r\n  var eachSpacing = spacingValid / dataCount;\r\n  var xAxisPoints = [];\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  categories.forEach(function(item, index) {\r\n    xAxisPoints.push(startX + index * eachSpacing);\r\n  });\r\n  if (opts.xAxis.boundaryGap !== 'justify') {\r\n    if (opts.enableScroll === true) {\r\n      xAxisPoints.push(startX + categories.length * eachSpacing);\r\n    } else {\r\n      xAxisPoints.push(endX);\r\n    }\r\n  }\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    startX: startX,\r\n    endX: endX,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var cPoints = [];\r\n      item.forEach(function(items, indexs) {\r\n        var point = {};\r\n        point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n        var value = items.value || items;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        height *= process;\r\n        point.y = opts.height - Math.round(height) - opts.area[2];\r\n        cPoints.push(point);\r\n      });\r\n      points.push(cPoints);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var boundaryGap = 'center';\r\n  if (opts.type == 'line' || opts.type == 'area' || opts.type == 'scatter' || opts.type == 'bubble' ) {\r\n    boundaryGap = opts.xAxis.boundaryGap;\r\n  }\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index];\r\n      var value = item;\r\n      if (typeof item === 'object' && item !== null) {\r\n        if (item.constructor.toString().indexOf('Array') > -1) {\r\n          let xranges, xminRange, xmaxRange;\r\n          xranges = [].concat(opts.chartData.xAxisData.ranges);\r\n          xminRange = xranges.shift();\r\n          xmaxRange = xranges.pop();\r\n          value = item[1];\r\n          point.x = opts.area[3] + validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\r\n          if(opts.type == 'bubble'){\r\n            point.r = item[2];\r\n            point.t = item[3];\r\n          }\r\n        } else {\r\n          value = item.value;\r\n        }\r\n      }\r\n      if (boundaryGap == 'center') {\r\n        point.x += eachSpacing / 2;\r\n      }\r\n      var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n      height *= process;\r\n      point.y = opts.height - height - opts.area[2];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.y = yAxisPoints[index];\r\n      var value = item;\r\n      if (typeof item === 'object' && item !== null) {\r\n        value = item.value;\r\n      }\r\n      var height = validWidth * (value - minRange) / (maxRange - minRange);\r\n      height *= process;\r\n      point.height = height;\r\n      point.value = value;\r\n      point.x = height + opts.area[3];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, stackSeries) {\r\n  var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\r\n      if (seriesIndex > 0) {\r\n        var value = 0;\r\n        for (let i = 0; i <= seriesIndex; i++) {\r\n          value += stackSeries[i].data[index];\r\n        }\r\n        var value0 = value - item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n      } else {\r\n        var value = item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = 0;\r\n      }\r\n      var heightc = height0;\r\n      height *= process;\r\n      heightc *= process;\r\n      point.y = opts.height - Math.round(height) - opts.area[2];\r\n      point.y0 = opts.height - Math.round(heightc) - opts.area[2];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, stackSeries) {\r\n  var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n  var points = [];\r\n  var validHeight = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.y = yAxisPoints[index];\r\n      if (seriesIndex > 0) {\r\n        var value = 0;\r\n        for (let i = 0; i <= seriesIndex; i++) {\r\n          value += stackSeries[i].data[index];\r\n        }\r\n        var value0 = value - item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n      } else {\r\n        var value = item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = 0;\r\n      }\r\n      var heightc = height0;\r\n      height *= process;\r\n      heightc *= process;\r\n      point.height = height - heightc;\r\n      point.x = opts.area[3] + height;\r\n      point.x0 = opts.area[3] + heightc;\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getYAxisTextList(series, opts, config, stack, yData) {\r\n  var index = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -1;\r\n  var data;\r\n  if (stack == 'stack') {\r\n    data = dataCombineStack(series, opts.categories.length);\r\n  } else {\r\n    data = dataCombine(series);\r\n  }\r\n  var sorted = [];\r\n  // remove null from data\r\n  data = data.filter(function(item) {\r\n    //return item !== null;\r\n    if (typeof item === 'object' && item !== null) {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        return item !== null;\r\n      } else {\r\n        return item.value !== null;\r\n      }\r\n    } else {\r\n      return item !== null;\r\n    }\r\n  });\r\n  data.map(function(item) {\r\n    if (typeof item === 'object') {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        if (opts.type == 'candle') {\r\n          item.map(function(subitem) {\r\n            sorted.push(subitem);\r\n          })\r\n        } else {\r\n          sorted.push(item[1]);\r\n        }\r\n      } else {\r\n        sorted.push(item.value);\r\n      }\r\n    } else {\r\n      sorted.push(item);\r\n    }\r\n  })\r\n  var minData = yData.min || 0;\r\n  var maxData = yData.max || 0;\r\n  if (sorted.length > 0) {\r\n    minData = Math.min.apply(this, sorted);\r\n    maxData = Math.max.apply(this, sorted);\r\n  }\r\n  //为了兼容v1.9.0之前的项目\r\n  // if (index > -1) {\r\n  //   if (typeof opts.yAxis.data[index].min === 'number') {\r\n  //     minData = Math.min(opts.yAxis.data[index].min, minData);\r\n  //   }\r\n  //   if (typeof opts.yAxis.data[index].max === 'number') {\r\n  //     maxData = Math.max(opts.yAxis.data[index].max, maxData);\r\n  //   }\r\n  // } else {\r\n  //   if (typeof opts.yAxis.min === 'number') {\r\n  //     minData = Math.min(opts.yAxis.min, minData);\r\n  //   }\r\n  //   if (typeof opts.yAxis.max === 'number') {\r\n  //     maxData = Math.max(opts.yAxis.max, maxData);\r\n  //   }\r\n  // }\r\n  if (minData === maxData) {\r\n    var rangeSpan = maxData || 10;\r\n    maxData += rangeSpan;\r\n  }\r\n  var dataRange = getDataRange(minData, maxData);\r\n  var minRange = yData.min === undefined || yData.min === null ? dataRange.minRange : yData.min;\r\n  var maxRange = yData.max === undefined || yData.min === null ? dataRange.maxRange : yData.max;\r\n  var range = [];\r\n  var eachRange = (maxRange - minRange) / opts.yAxis.splitNumber;\r\n  for (var i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n    range.push(minRange + eachRange * i);\r\n  }\r\n  return range.reverse();\r\n}\r\n\r\nfunction calYAxisData(series, opts, config, context) {\r\n  //堆叠图重算Y轴\r\n  var columnstyle = assign({}, {\r\n    type: \"\"\r\n  }, opts.extra.column);\r\n  //如果是多Y轴，重新计算\r\n  var YLength = opts.yAxis.data.length;\r\n  var newSeries = new Array(YLength);\r\n  if (YLength > 0) {\r\n    for (let i = 0; i < YLength; i++) {\r\n      newSeries[i] = [];\r\n      for (let j = 0; j < series.length; j++) {\r\n        if (series[j].index == i) {\r\n          newSeries[i].push(series[j]);\r\n        }\r\n      }\r\n    }\r\n    var rangesArr = new Array(YLength);\r\n    var rangesFormatArr = new Array(YLength);\r\n    var yAxisWidthArr = new Array(YLength);\r\n\r\n    for (let i = 0; i < YLength; i++) {\r\n      let yData = opts.yAxis.data[i];\r\n      //如果总开关不显示，强制每个Y轴为不显示\r\n      if (opts.yAxis.disabled == true) {\r\n        yData.disabled = true;\r\n      }\r\n      if(yData.type === 'categories'){\r\n        if(!yData.formatter){\r\n          yData.formatter = (val) => {return val + (yData.unit || '')};\r\n        }\r\n        yData.categories = yData.categories || opts.categories;\r\n        rangesArr[i] = yData.categories;\r\n      }else{\r\n        if(!yData.formatter){\r\n          yData.formatter = (val) => {return val.toFixed(yData.tofix) + (yData.unit || '')};\r\n        }\r\n        rangesArr[i] = getYAxisTextList(newSeries[i], opts, config, columnstyle.type, yData, i);\r\n      }\r\n      let yAxisFontSizes = yData.fontSize * opts.pix || config.fontSize;\r\n      yAxisWidthArr[i] = {\r\n        position: yData.position ? yData.position : 'left',\r\n        width: 0\r\n      };\r\n      rangesFormatArr[i] = rangesArr[i].map(function(items) {\r\n        items = yData.formatter(items);\r\n        yAxisWidthArr[i].width = Math.max(yAxisWidthArr[i].width, measureText(items, yAxisFontSizes, context) + 5);\r\n        return items;\r\n      });\r\n      let calibration = yData.calibration ? 4 * opts.pix : 0;\r\n      yAxisWidthArr[i].width += calibration + 3 * opts.pix;\r\n      if (yData.disabled === true) {\r\n        yAxisWidthArr[i].width = 0;\r\n      }\r\n    }\r\n  } else {\r\n    var rangesArr = new Array(1);\r\n    var rangesFormatArr = new Array(1);\r\n    var yAxisWidthArr = new Array(1);\r\n    if(opts.type === 'bar'){\r\n      rangesArr[0] = opts.categories;\r\n      if(!opts.yAxis.formatter){\r\n        opts.yAxis.formatter = (val) => {return val + (opts.yAxis.unit || '')}\r\n      }\r\n    }else{\r\n      if(!opts.yAxis.formatter){\r\n        opts.yAxis.formatter = (val) => {return val.toFixed(opts.yAxis.tofix ) + (opts.yAxis.unit || '')}\r\n      }\r\n      rangesArr[0] = getYAxisTextList(series, opts, config, columnstyle.type, {});\r\n    }\r\n    yAxisWidthArr[0] = {\r\n      position: 'left',\r\n      width: 0\r\n    };\r\n    var yAxisFontSize = opts.yAxis.fontSize * opts.pix || config.fontSize;\r\n    rangesFormatArr[0] = rangesArr[0].map(function(item) {\r\n      item = opts.yAxis.formatter(item);\r\n      yAxisWidthArr[0].width = Math.max(yAxisWidthArr[0].width, measureText(item, yAxisFontSize, context) + 5);\r\n      return item;\r\n    });\r\n    yAxisWidthArr[0].width += 3 * opts.pix;\r\n    if (opts.yAxis.disabled === true) {\r\n      yAxisWidthArr[0] = {\r\n        position: 'left',\r\n        width: 0\r\n      };\r\n      opts.yAxis.data[0] = {\r\n        disabled: true\r\n      };\r\n    } else {\r\n      opts.yAxis.data[0] = {\r\n        disabled: false,\r\n        position: 'left',\r\n        max: opts.yAxis.max,\r\n        min: opts.yAxis.min,\r\n        formatter: opts.yAxis.formatter\r\n      };\r\n      if(opts.type === 'bar'){\r\n        opts.yAxis.data[0].categories = opts.categories;\r\n        opts.yAxis.data[0].type = 'categories';\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    rangesFormat: rangesFormatArr,\r\n    ranges: rangesArr,\r\n    yAxisWidth: yAxisWidthArr\r\n  };\r\n}\r\n\r\nfunction calTooltipYAxisData(point, series, opts, config, eachSpacing) {\r\n  let ranges = [].concat(opts.chartData.yAxisData.ranges);\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  let minAxis = opts.area[0];\r\n  let items = [];\r\n  for (let i = 0; i < ranges.length; i++) {\r\n    let maxVal = ranges[i].shift();\r\n    let minVal = ranges[i].pop();\r\n    let item = maxVal - (maxVal - minVal) * (point - minAxis) / spacingValid;\r\n    item = opts.yAxis.data[i].formatter ? opts.yAxis.data[i].formatter(item) : item.toFixed(0);\r\n    items.push(String(item))\r\n  }\r\n  return items;\r\n}\r\n\r\nfunction calMarkLineData(points, opts) {\r\n  let minRange, maxRange;\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  for (let i = 0; i < points.length; i++) {\r\n    points[i].yAxisIndex = points[i].yAxisIndex ? points[i].yAxisIndex : 0;\r\n    let range = [].concat(opts.chartData.yAxisData.ranges[points[i].yAxisIndex]);\r\n    minRange = range.pop();\r\n    maxRange = range.shift();\r\n    let height = spacingValid * (points[i].value - minRange) / (maxRange - minRange);\r\n    points[i].y = opts.height - Math.round(height) - opts.area[2];\r\n  }\r\n  return points;\r\n}\r\n\r\nfunction contextRotate(context, opts) {\r\n  if (opts.rotateLock !== true) {\r\n    context.translate(opts.height, 0);\r\n    context.rotate(90 * Math.PI / 180);\r\n  } else if (opts._rotate_ !== true) {\r\n    context.translate(opts.height, 0);\r\n    context.rotate(90 * Math.PI / 180);\r\n    opts._rotate_ = true;\r\n  }\r\n}\r\n\r\nfunction drawPointShape(points, color, shape, context, opts) {\r\n  context.beginPath();\r\n  if (opts.dataPointShapeType == 'hollow') {\r\n    context.setStrokeStyle(color);\r\n    context.setFillStyle(opts.background);\r\n    context.setLineWidth(2 * opts.pix);\r\n  } else {\r\n    context.setStrokeStyle(\"#ffffff\");\r\n    context.setFillStyle(color);\r\n    context.setLineWidth(1 * opts.pix);\r\n  }\r\n  if (shape === 'diamond') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y);\r\n        context.lineTo(item.x, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'circle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x + 2.5 * opts.pix, item.y);\r\n        context.arc(item.x, item.y, 3 * opts.pix, 0, 2 * Math.PI, false);\r\n      }\r\n    });\r\n  } else if (shape === 'square') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x - 3.5, item.y - 3.5);\r\n        context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n      }\r\n    });\r\n  } else if (shape === 'triangle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y + 4.5);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'triangle') {\r\n    return;\r\n  }\r\n  context.closePath();\r\n  context.fill();\r\n  context.stroke();\r\n}\r\n\r\nfunction drawRingTitle(opts, config, context, center) {\r\n  var titlefontSize = opts.title.fontSize || config.titleFontSize;\r\n  var subtitlefontSize = opts.subtitle.fontSize || config.subtitleFontSize;\r\n  var title = opts.title.name || '';\r\n  var subtitle = opts.subtitle.name || '';\r\n  var titleFontColor = opts.title.color || opts.fontColor;\r\n  var subtitleFontColor = opts.subtitle.color || opts.fontColor;\r\n  var titleHeight = title ? titlefontSize : 0;\r\n  var subtitleHeight = subtitle ? subtitlefontSize : 0;\r\n  var margin = 5;\r\n  if (subtitle) {\r\n    var textWidth = measureText(subtitle, subtitlefontSize * opts.pix, context);\r\n    var startX = center.x - textWidth / 2 + (opts.subtitle.offsetX|| 0) * opts.pix ;\r\n    var startY = center.y + subtitlefontSize * opts.pix / 2 + (opts.subtitle.offsetY || 0) * opts.pix;\r\n    if (title) {\r\n      startY += (titleHeight * opts.pix + margin) / 2;\r\n    }\r\n    context.beginPath();\r\n    context.setFontSize(subtitlefontSize * opts.pix);\r\n    context.setFillStyle(subtitleFontColor);\r\n    context.fillText(subtitle, startX, startY);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n  if (title) {\r\n    var _textWidth = measureText(title, titlefontSize * opts.pix, context);\r\n    var _startX = center.x - _textWidth / 2 + (opts.title.offsetX || 0);\r\n    var _startY = center.y + titlefontSize * opts.pix / 2 + (opts.title.offsetY || 0) * opts.pix;\r\n    if (subtitle) {\r\n      _startY -= (subtitleHeight * opts.pix + margin) / 2;\r\n    }\r\n    context.beginPath();\r\n    context.setFontSize(titlefontSize * opts.pix);\r\n    context.setFillStyle(titleFontColor);\r\n    context.fillText(title, _startX, _startY);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawPointText(points, series, config, context, opts) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series.textSize ? series.textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series.textColor || opts.fontColor);\r\n      var value = data[index]\r\n      if (typeof data[index] === 'object' && data[index] !== null) {\r\n        if (data[index].constructor.toString().indexOf('Array')>-1) {\r\n          value = data[index][1];\r\n        } else {\r\n          value = data[index].value\r\n        }\r\n      }\r\n      var formatVal = series.formatter ? series.formatter(value,index) : value;\r\n      context.setTextAlign('center');\r\n      context.fillText(String(formatVal), item.x, item.y - 4 + textOffset * opts.pix);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawBarPointText(points, series, config, context, opts) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series.textSize ? series.textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series.textColor || opts.fontColor);\r\n      var value = data[index]\r\n      if (typeof data[index] === 'object' && data[index] !== null) {\r\n        value = data[index].value ;\r\n      }\r\n      var formatVal = series.formatter ? series.formatter(value,index) : value;\r\n      context.setTextAlign('left');\r\n      context.fillText(String(formatVal), item.x + 4 * opts.pix , item.y + fontSize / 2 - 3 );\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context) {\r\n  radius -= gaugeOption.width / 2 + gaugeOption.labelOffset * opts.pix;\r\n  let totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n  let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n  let totalNumber = gaugeOption.endNumber - gaugeOption.startNumber;\r\n  let splitNumber = totalNumber / gaugeOption.splitLine.splitNumber;\r\n  let nowAngle = gaugeOption.startAngle;\r\n  let nowNumber = gaugeOption.startNumber;\r\n  for (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n    var pos = {\r\n      x: radius * Math.cos(nowAngle * Math.PI),\r\n      y: radius * Math.sin(nowAngle * Math.PI)\r\n    };\r\n    var labelText = gaugeOption.formatter ? gaugeOption.formatter(nowNumber) : nowNumber;\r\n    pos.x += centerPosition.x - measureText(labelText, config.fontSize, context) / 2;\r\n    pos.y += centerPosition.y;\r\n    var startX = pos.x;\r\n    var startY = pos.y;\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(gaugeOption.labelColor || opts.fontColor);\r\n    context.fillText(labelText, startX, startY + config.fontSize / 2);\r\n    context.closePath();\r\n    context.stroke();\r\n    nowAngle += splitAngle;\r\n    if (nowAngle >= 2) {\r\n      nowAngle = nowAngle % 2;\r\n    }\r\n    nowNumber += splitNumber;\r\n  }\r\n\r\n}\r\n\r\nfunction drawRadarLabel(angleList, radius, centerPosition, opts, config, context) {\r\n  var radarOption = opts.extra.radar || {};\r\n  radius += config.radarLabelTextMargin * opts.pix;\r\n  angleList.forEach(function(angle, index) {\r\n    var pos = {\r\n      x: radius * Math.cos(angle),\r\n      y: radius * Math.sin(angle)\r\n    };\r\n    var posRelativeCanvas = convertCoordinateOrigin(pos.x, pos.y, centerPosition);\r\n    var startX = posRelativeCanvas.x;\r\n    var startY = posRelativeCanvas.y;\r\n    if (util.approximatelyEqual(pos.x, 0)) {\r\n      startX -= measureText(opts.categories[index] || '', config.fontSize, context) / 2;\r\n    } else if (pos.x < 0) {\r\n      startX -= measureText(opts.categories[index] || '', config.fontSize, context);\r\n    }\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(radarOption.labelColor || opts.fontColor);\r\n    context.fillText(opts.categories[index] || '', startX, startY + config.fontSize / 2);\r\n    context.closePath();\r\n    context.stroke();\r\n  });\r\n\r\n}\r\n\r\nfunction drawPieText(series, opts, config, context, radius, center) {\r\n  var lineRadius = config.pieChartLinePadding;\r\n  var textObjectCollection = [];\r\n  var lastTextObject = null;\r\n  var seriesConvert = series.map(function(item,index,series) {\r\n    var text = item.formatter ? item.formatter(item,index,series) : util.toFixed(item._proportion_.toFixed(4) * 100) + '%';\r\n    var arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._proportion_ / 2);\r\n    if (item._rose_proportion_) {\r\n      arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._rose_proportion_ / 2);\r\n    }\r\n    var color = item.color;\r\n    var radius = item._radius_;\r\n    return {\r\n      arc: arc,\r\n      text: text,\r\n      color: color,\r\n      radius: radius,\r\n      textColor: item.textColor,\r\n      textSize: item.textSize,\r\n    };\r\n  });\r\n  for (let i = 0; i < seriesConvert.length; i++) {\r\n    let item = seriesConvert[i];\r\n    // line end\r\n    let orginX1 = Math.cos(item.arc) * (item.radius + lineRadius);\r\n    let orginY1 = Math.sin(item.arc) * (item.radius + lineRadius);\r\n    // line start\r\n    let orginX2 = Math.cos(item.arc) * item.radius;\r\n    let orginY2 = Math.sin(item.arc) * item.radius;\r\n    // text start\r\n    let orginX3 = orginX1 >= 0 ? orginX1 + config.pieChartTextPadding : orginX1 - config.pieChartTextPadding;\r\n    let orginY3 = orginY1;\r\n    let textWidth = measureText(item.text, item.textSize * opts.pix || config.fontSize, context);\r\n    let startY = orginY3;\r\n    if (lastTextObject && util.isSameXCoordinateArea(lastTextObject.start, {\r\n        x: orginX3\r\n      })) {\r\n      if (orginX3 > 0) {\r\n        startY = Math.min(orginY3, lastTextObject.start.y);\r\n      } else if (orginX1 < 0) {\r\n        startY = Math.max(orginY3, lastTextObject.start.y);\r\n      } else {\r\n        if (orginY3 > 0) {\r\n          startY = Math.max(orginY3, lastTextObject.start.y);\r\n        } else {\r\n          startY = Math.min(orginY3, lastTextObject.start.y);\r\n        }\r\n      }\r\n    }\r\n    if (orginX3 < 0) {\r\n      orginX3 -= textWidth;\r\n    }\r\n    let textObject = {\r\n      lineStart: {\r\n        x: orginX2,\r\n        y: orginY2\r\n      },\r\n      lineEnd: {\r\n        x: orginX1,\r\n        y: orginY1\r\n      },\r\n      start: {\r\n        x: orginX3,\r\n        y: startY\r\n      },\r\n      width: textWidth,\r\n      height: config.fontSize,\r\n      text: item.text,\r\n      color: item.color,\r\n      textColor: item.textColor,\r\n      textSize: item.textSize\r\n    };\r\n    lastTextObject = avoidCollision(textObject, lastTextObject);\r\n    textObjectCollection.push(lastTextObject);\r\n  }\r\n  for (let i = 0; i < textObjectCollection.length; i++) {\r\n    let item = textObjectCollection[i];\r\n    let lineStartPoistion = convertCoordinateOrigin(item.lineStart.x, item.lineStart.y, center);\r\n    let lineEndPoistion = convertCoordinateOrigin(item.lineEnd.x, item.lineEnd.y, center);\r\n    let textPosition = convertCoordinateOrigin(item.start.x, item.start.y, center);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.setFontSize(item.textSize * opts.pix || config.fontSize);\r\n    context.beginPath();\r\n    context.setStrokeStyle(item.color);\r\n    context.setFillStyle(item.color);\r\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n    let curveStartX = item.start.x < 0 ? textPosition.x + item.width : textPosition.x;\r\n    let textStartX = item.start.x < 0 ? textPosition.x - 5 : textPosition.x + 5;\r\n    context.quadraticCurveTo(lineEndPoistion.x, lineEndPoistion.y, curveStartX, textPosition.y);\r\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.beginPath();\r\n    context.moveTo(textPosition.x + item.width, textPosition.y);\r\n    context.arc(curveStartX, textPosition.y, 2, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    context.beginPath();\r\n    context.setFontSize(item.textSize * opts.pix || config.fontSize);\r\n    context.setFillStyle(item.textColor || opts.fontColor);\r\n    context.fillText(item.text, textStartX, textPosition.y + 3);\r\n    context.closePath();\r\n    context.stroke();\r\n    context.closePath();\r\n  }\r\n}\r\n\r\nfunction drawToolTipSplitLine(offsetX, opts, config, context) {\r\n  var toolTipOption = opts.extra.tooltip || {};\r\n  toolTipOption.gridType = toolTipOption.gridType == undefined ? 'solid' : toolTipOption.gridType;\r\n  toolTipOption.dashLength = toolTipOption.dashLength == undefined ? 4 : toolTipOption.dashLength;\r\n  var startY = opts.area[0];\r\n  var endY = opts.height - opts.area[2];\r\n  if (toolTipOption.gridType == 'dash') {\r\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n  }\r\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.beginPath();\r\n  context.moveTo(offsetX, startY);\r\n  context.lineTo(offsetX, endY);\r\n  context.stroke();\r\n  context.setLineDash([]);\r\n  if (toolTipOption.xAxisLabel) {\r\n    let labelText = opts.categories[opts.tooltip.index];\r\n    context.setFontSize(config.fontSize);\r\n    let textWidth = measureText(labelText, config.fontSize, context);\r\n    let textX = offsetX - 0.5 * textWidth;\r\n    let textY = endY;\r\n    context.beginPath();\r\n    context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n    context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.rect(textX - config.toolTipPadding, textY, textWidth + 2 * config.toolTipPadding, config.fontSize + 2 * config.toolTipPadding);\r\n    context.closePath();\r\n    context.stroke();\r\n    context.fill();\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(toolTipOption.labelFontColor || opts.fontColor);\r\n    context.fillText(String(labelText), textX, textY + config.toolTipPadding + config.fontSize);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawMarkLine(opts, config, context) {\r\n  let markLineOption = assign({}, {\r\n    type: 'solid',\r\n    dashLength: 4,\r\n    data: []\r\n  }, opts.extra.markLine);\r\n  let startX = opts.area[3];\r\n  let endX = opts.width - opts.area[1];\r\n  let points = calMarkLineData(markLineOption.data, opts);\r\n  for (let i = 0; i < points.length; i++) {\r\n    let item = assign({}, {\r\n      lineColor: '#DE4A42',\r\n      showLabel: false,\r\n      labelFontColor: '#666666',\r\n      labelBgColor: '#DFE8FF',\r\n      labelBgOpacity: 0.8,\r\n      yAxisIndex: 0\r\n    }, points[i]);\r\n    if (markLineOption.type == 'dash') {\r\n      context.setLineDash([markLineOption.dashLength, markLineOption.dashLength]);\r\n    }\r\n    context.setStrokeStyle(item.lineColor);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.beginPath();\r\n    context.moveTo(startX, item.y);\r\n    context.lineTo(endX, item.y);\r\n    context.stroke();\r\n    context.setLineDash([]);\r\n    if (item.showLabel) {\r\n      let labelText = opts.yAxis.formatter ? opts.yAxis.formatter(item.value) : item.value;\r\n      context.setFontSize(config.fontSize);\r\n      let textWidth = measureText(labelText, config.fontSize, context);\r\n      let yAxisWidth = opts.chartData.yAxisData.yAxisWidth[0].width;\r\n      let bgStartX = opts.area[3] - textWidth - config.toolTipPadding * 2;\r\n      let bgEndX = opts.area[3];\r\n      let bgWidth = bgEndX - bgStartX;\r\n      let textX = bgEndX - config.toolTipPadding;\r\n      let textY = item.y;\r\n      context.setFillStyle(hexToRgb(item.labelBgColor, item.labelBgOpacity));\r\n      context.setStrokeStyle(item.labelBgColor);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.beginPath();\r\n      context.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 * config.toolTipPadding);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.fill();\r\n      context.setFontSize(config.fontSize);\r\n      context.setTextAlign('right');\r\n      context.setFillStyle(item.labelFontColor);\r\n      context.fillText(String(labelText), textX, textY + 0.5 * config.fontSize);\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = assign({}, {\r\n    gridType: 'solid',\r\n    dashLength: 4\r\n  }, opts.extra.tooltip);\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  if (toolTipOption.gridType == 'dash') {\r\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n  }\r\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.beginPath();\r\n  context.moveTo(startX, opts.tooltip.offset.y);\r\n  context.lineTo(endX, opts.tooltip.offset.y);\r\n  context.stroke();\r\n  context.setLineDash([]);\r\n  if (toolTipOption.yAxisLabel) {\r\n    let labelText = calTooltipYAxisData(opts.tooltip.offset.y, opts.series, opts, config, eachSpacing);\r\n    let widthArr = opts.chartData.yAxisData.yAxisWidth;\r\n    let tStartLeft = opts.area[3];\r\n    let tStartRight = opts.width - opts.area[1];\r\n    for (let i = 0; i < labelText.length; i++) {\r\n      context.setFontSize(config.fontSize);\r\n      let textWidth = measureText(labelText[i], config.fontSize, context);\r\n      let bgStartX, bgEndX, bgWidth;\r\n      if (widthArr[i].position == 'left') {\r\n        bgStartX = tStartLeft - widthArr[i].width;\r\n        bgEndX = Math.max(bgStartX, bgStartX + textWidth + config.toolTipPadding * 2);\r\n      } else {\r\n        bgStartX = tStartRight;\r\n        bgEndX = Math.max(bgStartX + widthArr[i].width, bgStartX + textWidth + config.toolTipPadding * 2);\r\n      }\r\n      bgWidth = bgEndX - bgStartX;\r\n      let textX = bgStartX + (bgWidth - textWidth) / 2;\r\n      let textY = opts.tooltip.offset.y;\r\n      context.beginPath();\r\n      context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n      context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 *\r\n        config.toolTipPadding);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(config.fontSize);\r\n      context.setFillStyle(toolTipOption.labelFontColor || opts.fontColor);\r\n      context.fillText(labelText[i], textX, textY + 0.5 * config.fontSize);\r\n      context.closePath();\r\n      context.stroke();\r\n      if (widthArr[i].position == 'left') {\r\n        tStartLeft -= (widthArr[i].width + opts.yAxis.padding * opts.pix);\r\n      } else {\r\n        tStartRight += widthArr[i].width + opts.yAxis.padding * opts.pix;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n  var toolTipOption = assign({}, {\r\n    activeBgColor: '#000000',\r\n    activeBgOpacity: 0.08\r\n  }, opts.extra.column);\r\n  var startY = opts.area[0];\r\n  var endY = opts.height - opts.area[2];\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n  context.rect(offsetX - eachSpacing / 2, startY, eachSpacing, endY - startY);\r\n  context.closePath();\r\n  context.fill();\r\n  context.setFillStyle(\"#FFFFFF\");\r\n}\r\n\r\nfunction drawBarToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n  var toolTipOption = assign({}, {\r\n    activeBgColor: '#000000',\r\n    activeBgOpacity: 0.08\r\n  }, opts.extra.bar);\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n  context.rect( startX ,offsetX - eachSpacing / 2 ,  endX - startX,eachSpacing);\r\n  context.closePath();\r\n  context.fill();\r\n  context.setFillStyle(\"#FFFFFF\");\r\n}\r\n\r\nfunction drawToolTip(textList, offset, opts, config, context, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = assign({}, {\r\n    showBox: true,\r\n    showArrow: true,\r\n    showCategory: false,\r\n    bgColor: '#000000',\r\n    bgOpacity: 0.7,\r\n    borderColor: '#000000',\r\n    borderWidth: 0,\r\n    borderRadius: 0,\r\n    borderOpacity: 0.7,\r\n    fontColor: '#FFFFFF',\r\n    splitLine: true,\r\n  }, opts.extra.tooltip);\r\n  if(toolTipOption.showCategory==true && opts.categories){\r\n    textList.unshift({text:opts.categories[opts.tooltip.index],color:null})\r\n  }\r\n  var legendWidth = 4 * opts.pix;\r\n  var legendMarginRight = 5 * opts.pix;\r\n  var arrowWidth = toolTipOption.showArrow ? 8 * opts.pix : 0;\r\n  var isOverRightBorder = false;\r\n  if (opts.type == 'line' || opts.type == 'area' || opts.type == 'candle' || opts.type == 'mix') {\r\n    if (toolTipOption.splitLine == true) {\r\n      drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n    }\r\n  }\r\n  offset = assign({\r\n    x: 0,\r\n    y: 0\r\n  }, offset);\r\n  offset.y -= 8 * opts.pix;\r\n  var textWidth = textList.map(function(item) {\r\n    return measureText(item.text, config.fontSize, context);\r\n  });\r\n  var toolTipWidth = legendWidth + legendMarginRight + 4 * config.toolTipPadding + Math.max.apply(null, textWidth);\r\n  var toolTipHeight = 2 * config.toolTipPadding + textList.length * config.toolTipLineHeight;\r\n  if (toolTipOption.showBox == false) {\r\n    return\r\n  }\r\n  // if beyond the right border\r\n  if (offset.x - Math.abs(opts._scrollDistance_ || 0) + arrowWidth + toolTipWidth > opts.width) {\r\n    isOverRightBorder = true;\r\n  }\r\n  if (toolTipHeight + offset.y > opts.height) {\r\n    offset.y = opts.height - toolTipHeight;\r\n  }\r\n  // draw background rect\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.bgColor || config.toolTipBackground, toolTipOption.bgOpacity || config.toolTipOpacity));\r\n  context.setLineWidth(toolTipOption.borderWidth * opts.pix);\r\n  context.setStrokeStyle(hexToRgb(toolTipOption.borderColor, toolTipOption.borderOpacity));\r\n  var radius = toolTipOption.borderRadius;\r\n  if (isOverRightBorder) {\r\n    if (toolTipOption.showArrow) {\r\n      context.moveTo(offset.x, offset.y + 10 * opts.pix);\r\n      context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pix + 5 * opts.pix);\r\n    }\r\n    context.arc(offset.x - arrowWidth - radius, offset.y + toolTipHeight - radius, radius, 0, Math.PI / 2, false);\r\n    context.arc(offset.x - arrowWidth - Math.round(toolTipWidth) + radius, offset.y + toolTipHeight - radius, radius,\r\n      Math.PI / 2, Math.PI, false);\r\n    context.arc(offset.x - arrowWidth - Math.round(toolTipWidth) + radius, offset.y + radius, radius, -Math.PI, -Math.PI / 2, false);\r\n    context.arc(offset.x - arrowWidth - radius, offset.y + radius, radius, -Math.PI / 2, 0, false);\r\n    if (toolTipOption.showArrow) {\r\n      context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pix - 5 * opts.pix);\r\n      context.lineTo(offset.x, offset.y + 10 * opts.pix);\r\n    }\r\n  } else {\r\n    if (toolTipOption.showArrow) {\r\n      context.moveTo(offset.x, offset.y + 10 * opts.pix);\r\n      context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pix - 5 * opts.pix);\r\n    }\r\n    context.arc(offset.x + arrowWidth + radius, offset.y + radius, radius, -Math.PI, -Math.PI / 2, false);\r\n    context.arc(offset.x + arrowWidth + Math.round(toolTipWidth) - radius, offset.y + radius, radius, -Math.PI / 2, 0,\r\n      false);\r\n    context.arc(offset.x + arrowWidth + Math.round(toolTipWidth) - radius, offset.y + toolTipHeight - radius, radius, 0,\r\n      Math.PI / 2, false);\r\n    context.arc(offset.x + arrowWidth + radius, offset.y + toolTipHeight - radius, radius, Math.PI / 2, Math.PI, false);\r\n    if (toolTipOption.showArrow) {\r\n      context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pix + 5 * opts.pix);\r\n      context.lineTo(offset.x, offset.y + 10 * opts.pix);\r\n    }\r\n  }\r\n  context.closePath();\r\n  context.fill();\r\n  if (toolTipOption.borderWidth > 0) {\r\n    context.stroke();\r\n  }\r\n  // draw legend\r\n  textList.forEach(function(item, index) {\r\n    if (item.color !== null) {\r\n      context.beginPath();\r\n      context.setFillStyle(item.color);\r\n      var startX = offset.x + arrowWidth + 2 * config.toolTipPadding;\r\n      var startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index + config.toolTipPadding + 1;\r\n      if (isOverRightBorder) {\r\n        startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding;\r\n      }\r\n      context.fillRect(startX, startY, legendWidth, config.fontSize);\r\n      context.closePath();\r\n    }\r\n  });\r\n  // draw text list\r\n  textList.forEach(function(item, index) {\r\n    var startX = offset.x + arrowWidth + 2 * config.toolTipPadding + legendWidth + legendMarginRight;\r\n    if (isOverRightBorder) {\r\n      startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding + +legendWidth + legendMarginRight;\r\n    }\r\n    var startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index + config.toolTipPadding;\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(toolTipOption.fontColor);\r\n    context.fillText(item.text, startX, startY + config.fontSize);\r\n    context.closePath();\r\n    context.stroke();\r\n  });\r\n}\r\n\r\nfunction drawColumnDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let columnOption = assign({}, {\r\n    type: 'group',\r\n    width: eachSpacing / 2,\r\n    meterBorder: 4,\r\n    meterFillColor: '#FFFFFF',\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.column);\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n  }\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawToolTipSplitArea(opts.tooltip.offset.x, opts, config, context, eachSpacing);\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    switch (columnOption.type) {\r\n      case 'group':\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        var tooltipPoints = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(tooltipPoints);\r\n        points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          //fix issues/I27B1N yyoinge & Joeshu\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - item.width / 2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color\r\n            var strokeColor = item.color || eachSeries.color\r\n            if (columnOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, opts.height - opts.area[2]);\r\n              //透明渐变\r\n              if (columnOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n                grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex],columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            // 圆角边框\r\n            if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle === true) {\r\n              const left = startX;\r\n              const top = item.y;\r\n              const width = item.width;\r\n              const height = opts.height - opts.area[2] - item.y;\r\n              if (columnOption.barBorderCircle) {\r\n                columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n              }\r\n              let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n              let minRadius = Math.min(width/2,height/2);\r\n              r0 = r0 > minRadius ? minRadius : r0;\r\n              r1 = r1 > minRadius ? minRadius : r1;\r\n              r2 = r2 > minRadius ? minRadius : r2;\r\n              r3 = r3 > minRadius ? minRadius : r3;\r\n              r0 = r0 < 0 ? 0 : r0;\r\n              r1 = r1 < 0 ? 0 : r1;\r\n              r2 = r2 < 0 ? 0 : r2;\r\n              r3 = r3 < 0 ? 0 : r3;\r\n              context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n              context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n              context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n              context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n            } else {\r\n              context.moveTo(startX, item.y);\r\n              context.lineTo(startX + item.width - 2, item.y);\r\n              context.lineTo(startX + item.width - 2, opts.height - opts.area[2]);\r\n              context.lineTo(startX, opts.height - opts.area[2]);\r\n              context.lineTo(startX, item.y);\r\n              context.setLineWidth(1)\r\n              context.setStrokeStyle(strokeColor);\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.closePath();\r\n            //context.stroke();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'stack':\r\n        // 绘制堆叠数据图\r\n        var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(points);\r\n        points = fixColumeStackData(points, eachSpacing, series.length, seriesIndex, config, opts, series);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color;\r\n            var startX = item.x - item.width / 2 + 1;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            var height0 = opts.height - item.y0 - opts.area[2];\r\n            if (seriesIndex > 0) {\r\n              height -= height0;\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.moveTo(startX, item.y);\r\n            context.fillRect(startX, item.y, item.width - 2, height);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'meter':\r\n        // 绘制温度计数据图\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n        points = fixColumeMeterData(points, eachSpacing, series.length, seriesIndex, config, opts, columnOption.meterBorder);\r\n        if (seriesIndex == 0) {\r\n          for (let i = 0; i < points.length; i++) {\r\n            let item = points[i];\r\n            if (item !== null && i > leftNum && i < rightNum) {\r\n              //画背景颜色\r\n              context.beginPath();\r\n              context.setFillStyle(columnOption.meterFillColor);\r\n              var startX = item.x - item.width / 2;\r\n              var height = opts.height - item.y - opts.area[2];\r\n              if (columnOption.barBorderCircle) {\r\n                var barBorderRadius = (item.width - columnOption.meterBorder*2) / 2;\r\n                if(barBorderRadius>height){\r\n                  barBorderRadius = height;\r\n                }\r\n                context.moveTo(startX + columnOption.meterBorder, opts.height - opts.area[2]);\r\n                context.lineTo(startX + columnOption.meterBorder, item.y + barBorderRadius);\r\n                context.arc(startX + item.width/2, item.y + barBorderRadius, barBorderRadius, -Math.PI, 0);\r\n                context.lineTo(startX + item.width - columnOption.meterBorder , opts.height - opts.area[2]);\r\n                context.lineTo(startX, opts.height - opts.area[2]);\r\n                context.fill();\r\n              }else{\r\n                context.moveTo(startX, item.y);\r\n                context.fillRect(startX, item.y, item.width, height);\r\n                context.closePath();\r\n                context.fill();\r\n              }\r\n              //画边框线\r\n              if (columnOption.meterBorder > 0) {\r\n                context.beginPath();\r\n                context.setStrokeStyle(eachSeries.color);\r\n                context.setLineWidth(columnOption.meterBorder * opts.pix);\r\n                if (columnOption.barBorderCircle) {\r\n                  var barBorderRadius = (item.width - columnOption.meterBorder)/ 2;\r\n                  if(barBorderRadius>height){\r\n                    barBorderRadius = height;\r\n                  }\r\n                  context.moveTo(startX  + columnOption.meterBorder * 0.5, opts.height - opts.area[2]);\r\n                  context.lineTo(startX + columnOption.meterBorder * 0.5, item.y + barBorderRadius);\r\n                  context.arc(startX + item.width/2, item.y + barBorderRadius - columnOption.meterBorder * 0.5, barBorderRadius, -Math.PI, 0);\r\n                  context.lineTo(startX + item.width - columnOption.meterBorder * 0.5, opts.height - opts.area[2]);\r\n                }else{\r\n                  context.moveTo(startX + columnOption.meterBorder * 0.5, item.y + height);\r\n                  context.lineTo(startX + columnOption.meterBorder * 0.5, item.y + columnOption.meterBorder * 0.5);\r\n                  context.lineTo(startX + item.width - columnOption.meterBorder * 0.5, item.y + columnOption.meterBorder * 0.5);\r\n                  context.lineTo(startX + item.width - columnOption.meterBorder * 0.5, item.y + height);\r\n                }\r\n                context.stroke();\r\n              }\r\n            }\r\n          };\r\n        } else {\r\n          for (let i = 0; i < points.length; i++) {\r\n            let item = points[i];\r\n            if (item !== null && i > leftNum && i < rightNum) {\r\n              context.beginPath();\r\n              context.setFillStyle(item.color || eachSeries.color);\r\n              var startX = item.x - item.width / 2;\r\n              var height = opts.height - item.y - opts.area[2];\r\n              if (columnOption.barBorderCircle) {\r\n                var barBorderRadius = item.width / 2;\r\n                if(barBorderRadius>height){\r\n                  barBorderRadius = height;\r\n                }\r\n                context.moveTo(startX, opts.height - opts.area[2]);\r\n                context.arc(startX + barBorderRadius, item.y + barBorderRadius, barBorderRadius, -Math.PI, -Math.PI / 2);\r\n                context.arc(startX + item.width - barBorderRadius, item.y + barBorderRadius, barBorderRadius, -Math.PI / 2, 0);\r\n                context.lineTo(startX + item.width, opts.height - opts.area[2]);\r\n                context.lineTo(startX, opts.height - opts.area[2]);\r\n                context.fill();\r\n              }else{\r\n                context.moveTo(startX, item.y);\r\n                context.fillRect(startX, item.y, item.width, height);\r\n                context.closePath();\r\n                context.fill();\r\n              }\r\n            }\r\n          };\r\n        }\r\n        break;\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      switch (columnOption.type) {\r\n        case 'group':\r\n          var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n          points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n          drawPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'stack':\r\n          var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n          drawPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'meter':\r\n          var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n          drawPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawBarDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let yAxisPoints = [];\r\n  let eachSpacing = (opts.height - opts.area[0] - opts.area[2])/opts.categories.length;\r\n  for (let i = 0; i < opts.categories.length; i++) {\r\n    yAxisPoints.push(opts.area[0] + eachSpacing / 2 + eachSpacing * i);\r\n  }\r\n  let columnOption = assign({}, {\r\n    type: 'group',\r\n    width: eachSpacing / 2,\r\n    meterBorder: 4,\r\n    meterFillColor: '#FFFFFF',\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.bar);\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = yAxisPoints.length + 2;\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawBarToolTipSplitArea(opts.tooltip.offset.y, opts, config, context, eachSpacing);\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.xAxisData.ranges);\r\n    maxRange = ranges.pop();\r\n    minRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    switch (columnOption.type) {\r\n      case 'group':\r\n        var points = getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, process);\r\n        var tooltipPoints = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(tooltipPoints);\r\n        points = fixBarData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          //fix issues/I27B1N yyoinge & Joeshu\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            //var startX = item.x - item.width / 2;\r\n            var startX = opts.area[3];\r\n            var startY = item.y - item.width / 2;\r\n            var height = item.height;\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color\r\n            var strokeColor = item.color || eachSeries.color\r\n            if (columnOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, item.x, item.y);\r\n              //透明渐变\r\n              if (columnOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n                grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex],columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            // 圆角边框\r\n            if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle === true) {\r\n              const left = startX;\r\n              const width = item.width;\r\n              const top = item.y - item.width / 2;\r\n              const height = item.heigh;\r\n              if (columnOption.barBorderCircle) {\r\n                columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n              }\r\n              let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n              let minRadius = Math.min(width/2,height/2);\r\n              r0 = r0 > minRadius ? minRadius : r0;\r\n              r1 = r1 > minRadius ? minRadius : r1;\r\n              r2 = r2 > minRadius ? minRadius : r2;\r\n              r3 = r3 > minRadius ? minRadius : r3;\r\n              r0 = r0 < 0 ? 0 : r0;\r\n              r1 = r1 < 0 ? 0 : r1;\r\n              r2 = r2 < 0 ? 0 : r2;\r\n              r3 = r3 < 0 ? 0 : r3;\r\n              \r\n              context.arc(left + r3, top + r3, r3, -Math.PI, -Math.PI / 2);\r\n              context.arc(item.x - r0, top + r0, r0, -Math.PI / 2, 0);\r\n              context.arc(item.x - r1, top + width - r1, r1, 0, Math.PI / 2);\r\n              context.arc(left + r2, top + width - r2, r2, Math.PI / 2, Math.PI);\r\n            } else {\r\n              context.moveTo(startX, startY);\r\n              context.lineTo(item.x, startY);\r\n              context.lineTo(item.x, startY + item.width - 2);\r\n              context.lineTo(startX, startY + item.width - 2);\r\n              context.lineTo(startX, startY);\r\n              context.setLineWidth(1)\r\n              context.setStrokeStyle(strokeColor);\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.closePath();\r\n            //context.stroke();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'stack':\r\n        // 绘制堆叠数据图\r\n        var points = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(points);\r\n        points = fixBarStackData(points, eachSpacing, series.length, seriesIndex, config, opts, series);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color;\r\n            var startX = item.x0;\r\n            context.setFillStyle(fillColor);\r\n            context.moveTo(startX, item.y - item.width/2);\r\n            context.fillRect(startX, item.y - item.width/2, item.height , item.width - 2);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.xAxisData.ranges);\r\n      maxRange = ranges.pop();\r\n      minRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      switch (columnOption.type) {\r\n        case 'group':\r\n          var points = getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, process);\r\n          points = fixBarData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n          drawBarPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'stack':\r\n          var points = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n          drawBarPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n  return {\r\n    yAxisPoints: yAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawCandleDataPoints(series, seriesMA, opts, config, context) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var candleOption = assign({}, {\r\n    color: {},\r\n    average: {}\r\n  }, opts.extra.candle);\r\n  candleOption.color = assign({}, {\r\n    upLine: '#f04864',\r\n    upFill: '#f04864',\r\n    downLine: '#2fc25b',\r\n    downFill: '#2fc25b'\r\n  }, candleOption.color);\r\n  candleOption.average = assign({}, {\r\n    show: false,\r\n    name: [],\r\n    day: [],\r\n    color: config.color\r\n  }, candleOption.average);\r\n  opts.extra.candle = candleOption;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  //画均线\r\n  if (candleOption.average.show || seriesMA) { //Merge pull request !12 from 邱贵翔\r\n    seriesMA.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      var splitPointList = splitPoints(points,eachSeries);\r\n      for (let i = 0; i < splitPointList.length; i++) {\r\n        let points = splitPointList[i];\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(1);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x,\r\n                item.y);\r\n            }\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    });\r\n  }\r\n  //画K线\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    var splitPointList = splitPoints(points,eachSeries);\r\n    for (let i = 0; i < splitPointList[0].length; i++) {\r\n      if (i > leftNum && i < rightNum) {\r\n        let item = splitPointList[0][i];\r\n        context.beginPath();\r\n        //如果上涨\r\n        if (data[i][1] - data[i][0] > 0) {\r\n          context.setStrokeStyle(candleOption.color.upLine);\r\n          context.setFillStyle(candleOption.color.upFill);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n          context.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[2].x, item[2].y); //底点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n          context.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n        } else {\r\n          context.setStrokeStyle(candleOption.color.downLine);\r\n          context.setFillStyle(candleOption.color.downFill);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n          context.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[2].x, item[2].y); //底点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n          context.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n        }\r\n        context.closePath();\r\n        context.fill();\r\n        context.stroke();\r\n      }\r\n    }\r\n  });\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawAreaDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var areaOption = assign({}, {\r\n    type: 'straight',\r\n    opacity: 0.2,\r\n    addLine: false,\r\n    width: 2,\r\n    gradient: false\r\n  }, opts.extra.area);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let endY = opts.height - opts.area[2];\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    let data = eachSeries.data;\r\n    let points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    let splitPointList = splitPoints(points,eachSeries);\r\n    for (let i = 0; i < splitPointList.length; i++) {\r\n      let points = splitPointList[i];\r\n      // 绘制区域数\r\n      context.beginPath();\r\n      context.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n      if (areaOption.gradient) {\r\n        let gradient = context.createLinearGradient(0, opts.area[0], 0, opts.height - opts.area[2]);\r\n        gradient.addColorStop('0', hexToRgb(eachSeries.color, areaOption.opacity));\r\n        gradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n        context.setFillStyle(gradient);\r\n      } else {\r\n        context.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n      }\r\n      context.setLineWidth(areaOption.width * opts.pix);\r\n      if (points.length > 1) {\r\n        let firstPoint = points[0];\r\n        let lastPoint = points[points.length - 1];\r\n        context.moveTo(firstPoint.x, firstPoint.y);\r\n        let startPoint = 0;\r\n        if (areaOption.type === 'curve') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              let ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n            }\r\n          };\r\n        } \r\n        if (areaOption.type === 'straight') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (areaOption.type === 'step') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, points[j - 1].y);\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        context.lineTo(lastPoint.x, endY);\r\n        context.lineTo(firstPoint.x, endY);\r\n        context.lineTo(firstPoint.x, firstPoint.y);\r\n      } else {\r\n        let item = points[0];\r\n        context.moveTo(item.x - eachSpacing / 2, item.y);\r\n        context.lineTo(item.x + eachSpacing / 2, item.y);\r\n        context.lineTo(item.x + eachSpacing / 2, endY);\r\n        context.lineTo(item.x - eachSpacing / 2, endY);\r\n        context.moveTo(item.x - eachSpacing / 2, item.y);\r\n      }\r\n      context.closePath();\r\n      context.fill();\r\n      //画连线\r\n      if (areaOption.addLine) {\r\n        if (eachSeries.lineType == 'dash') {\r\n          let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n          dashLength *= opts.pix;\r\n          context.setLineDash([dashLength, dashLength]);\r\n        }\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(areaOption.width * opts.pix);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          if (areaOption.type === 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                let ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          if (areaOption.type === 'straight') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          if (areaOption.type === 'step') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, points[j - 1].y);\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.stroke();\r\n        context.setLineDash([]);\r\n      }\r\n    }\r\n    //画点\r\n    if (opts.dataPointShape !== false) {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawScatterDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var scatterOption = assign({}, {\r\n    type: 'circle'\r\n  }, opts.extra.scatter);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setFillStyle(eachSeries.color);\r\n    context.setLineWidth(1 * opts.pix);\r\n    var shape = eachSeries.pointShape;\r\n    if (shape === 'diamond') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x, item.y - 4.5);\r\n          context.lineTo(item.x - 4.5, item.y);\r\n          context.lineTo(item.x, item.y + 4.5);\r\n          context.lineTo(item.x + 4.5, item.y);\r\n          context.lineTo(item.x, item.y - 4.5);\r\n        }\r\n      });\r\n    } else if (shape === 'circle') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x + 2.5 * opts.pix, item.y);\r\n          context.arc(item.x, item.y, 3 * opts.pix, 0, 2 * Math.PI, false);\r\n        }\r\n      });\r\n    } else if (shape === 'square') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x - 3.5, item.y - 3.5);\r\n          context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n        }\r\n      });\r\n    } else if (shape === 'triangle') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x, item.y - 4.5);\r\n          context.lineTo(item.x - 4.5, item.y + 4.5);\r\n          context.lineTo(item.x + 4.5, item.y + 4.5);\r\n          context.lineTo(item.x, item.y - 4.5);\r\n        }\r\n      });\r\n    } else if (shape === 'triangle') {\r\n      return;\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawBubbleDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var bubbleOption = assign({}, {\r\n    opacity: 1,\r\n    border:2\r\n  }, opts.extra.bubble);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setLineWidth(bubbleOption.border * opts.pix);\r\n    context.setFillStyle(hexToRgb(eachSeries.color, bubbleOption.opacity));\r\n    points.forEach(function(item, index) {\r\n      context.moveTo(item.x + item.r, item.y);\r\n      context.arc(item.x, item.y, item.r * opts.pix, 0, 2 * Math.PI, false);\r\n    });\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n    \r\n    if (opts.dataLabel !== false && process === 1) {\r\n      points.forEach(function(item, index) {\r\n        context.beginPath();\r\n        var fontSize = series.textSize * opts.pix || config.fontSize;\r\n        context.setFontSize(fontSize);\r\n        context.setFillStyle(series.textColor || \"#FFFFFF\");\r\n        context.setTextAlign('center');\r\n        context.fillText(String(item.t), item.x, item.y + fontSize/2);\r\n        context.closePath();\r\n        context.stroke();\r\n        context.setTextAlign('left');\r\n      });\r\n    }\r\n  });\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\n\r\nfunction drawLineDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var lineOption = assign({}, {\r\n    type: 'straight',\r\n    width: 2\r\n  }, opts.extra.line);\r\n  lineOption.width *= opts.pix;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    var splitPointList = splitPoints(points,eachSeries);\r\n    if (eachSeries.lineType == 'dash') {\r\n      let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n      dashLength *= opts.pix;\r\n      context.setLineDash([dashLength, dashLength]);\r\n    }\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setLineWidth(lineOption.width);\r\n    splitPointList.forEach(function(points, index) {\r\n      if (points.length === 1) {\r\n        context.moveTo(points[0].x, points[0].y);\r\n        context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n      } else {\r\n        context.moveTo(points[0].x, points[0].y);\r\n        let startPoint = 0;\r\n        if (lineOption.type === 'curve') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (lineOption.type === 'straight') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (lineOption.type === 'step') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, points[j - 1].y);\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        context.moveTo(points[0].x, points[0].y);\r\n      }\r\n    });\r\n    context.stroke();\r\n    context.setLineDash([]);\r\n    if (opts.dataPointShape !== false) {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawMixDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let columnOption = assign({}, {\r\n    width: eachSpacing / 2,\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.mix.column);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let endY = opts.height - opts.area[2];\r\n  let calPoints = [];\r\n  var columnIndex = 0;\r\n  var columnLength = 0;\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (eachSeries.type == 'column') {\r\n      columnLength += 1;\r\n    }\r\n  });\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    // 绘制柱状数据图\r\n    if (eachSeries.type == 'column') {\r\n      points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n      for (let i = 0; i < points.length; i++) {\r\n        let item = points[i];\r\n        if (item !== null && i > leftNum && i < rightNum) {\r\n          var startX = item.x - item.width / 2;\r\n          var height = opts.height - item.y - opts.area[2];\r\n          context.beginPath();\r\n          var fillColor = item.color || eachSeries.color\r\n          var strokeColor = item.color || eachSeries.color\r\n          if (columnOption.linearType !== 'none') {\r\n            var grd = context.createLinearGradient(startX, item.y, startX, opts.height - opts.area[2]);\r\n            //透明渐变\r\n            if (columnOption.linearType == 'opacity') {\r\n              grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n              grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n            } else {\r\n              grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n              grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n              grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n            }\r\n            fillColor = grd\r\n          }\r\n          // 圆角边框\r\n          if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle) {\r\n            const left = startX;\r\n            const top = item.y;\r\n            const width = item.width;\r\n            const height = opts.height - opts.area[2] - item.y;\r\n            if (columnOption.barBorderCircle) {\r\n              columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n            }\r\n            let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n            let minRadius = Math.min(width/2,height/2);\r\n            r0 = r0 > minRadius ? minRadius : r0;\r\n            r1 = r1 > minRadius ? minRadius : r1;\r\n            r2 = r2 > minRadius ? minRadius : r2;\r\n            r3 = r3 > minRadius ? minRadius : r3;\r\n            r0 = r0 < 0 ? 0 : r0;\r\n            r1 = r1 < 0 ? 0 : r1;\r\n            r2 = r2 < 0 ? 0 : r2;\r\n            r3 = r3 < 0 ? 0 : r3;\r\n            context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n            context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n            context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n            context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n          } else {\r\n            context.moveTo(startX, item.y);\r\n            context.lineTo(startX + item.width - 2, item.y);\r\n            context.lineTo(startX + item.width - 2, opts.height - opts.area[2]);\r\n            context.lineTo(startX, opts.height - opts.area[2]);\r\n            context.lineTo(startX, item.y);\r\n            context.setLineWidth(1)\r\n            context.setStrokeStyle(strokeColor);\r\n          }\r\n          context.setFillStyle(fillColor);\r\n          context.closePath();\r\n          context.fill();\r\n        }\r\n      }\r\n      columnIndex += 1;\r\n    }\r\n    //绘制区域图数据\r\n    if (eachSeries.type == 'area') {\r\n      let splitPointList = splitPoints(points,eachSeries);\r\n      for (let i = 0; i < splitPointList.length; i++) {\r\n        let points = splitPointList[i];\r\n        // 绘制区域数据\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setFillStyle(hexToRgb(eachSeries.color, 0.2));\r\n        context.setLineWidth(2 * opts.pix);\r\n        if (points.length > 1) {\r\n          var firstPoint = points[0];\r\n          let lastPoint = points[points.length - 1];\r\n          context.moveTo(firstPoint.x, firstPoint.y);\r\n          let startPoint = 0;\r\n          if (eachSeries.style === 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n              }\r\n            };\r\n          } else {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          context.lineTo(lastPoint.x, endY);\r\n          context.lineTo(firstPoint.x, endY);\r\n          context.lineTo(firstPoint.x, firstPoint.y);\r\n        } else {\r\n          let item = points[0];\r\n          context.moveTo(item.x - eachSpacing / 2, item.y);\r\n          context.lineTo(item.x + eachSpacing / 2, item.y);\r\n          context.lineTo(item.x + eachSpacing / 2, endY);\r\n          context.lineTo(item.x - eachSpacing / 2, endY);\r\n          context.moveTo(item.x - eachSpacing / 2, item.y);\r\n        }\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    // 绘制折线数据图\r\n    if (eachSeries.type == 'line') {\r\n      var splitPointList = splitPoints(points,eachSeries);\r\n      splitPointList.forEach(function(points, index) {\r\n        if (eachSeries.lineType == 'dash') {\r\n          let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n          dashLength *= opts.pix;\r\n          context.setLineDash([dashLength, dashLength]);\r\n        }\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(2 * opts.pix);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          if (eachSeries.style == 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,\r\n                  item.x, item.y);\r\n              }\r\n            }\r\n          } else {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            }\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.stroke();\r\n        context.setLineDash([]);\r\n      });\r\n    }\r\n    // 绘制点数据图\r\n    if (eachSeries.type == 'point') {\r\n      eachSeries.addPoint = true;\r\n    }\r\n    if (eachSeries.addPoint == true && eachSeries.type !== 'column') {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    var columnIndex = 0;\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      if (eachSeries.type !== 'column') {\r\n        drawPointText(points, eachSeries, config, context, opts);\r\n      } else {\r\n        points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n        drawPointText(points, eachSeries, config, context, opts);\r\n        columnIndex += 1;\r\n      }\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing,\r\n  }\r\n}\r\n\r\nfunction drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = opts.extra.tooltip || {};\r\n  if (toolTipOption.horizentalLine && opts.tooltip && process === 1 && (opts.type == 'line' || opts.type == 'area' || opts.type == 'column' || opts.type == 'candle' || opts.type == 'mix')) {\r\n    drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints)\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawToolTip(opts.tooltip.textList, opts.tooltip.offset, opts, config, context, eachSpacing, xAxisPoints);\r\n  }\r\n  context.restore();\r\n\r\n}\r\n\r\nfunction drawXAxis(categories, opts, config, context) {\r\n\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    startX = xAxisData.startX,\r\n    endX = xAxisData.endX,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var boundaryGap = 'center';\r\n  if (opts.type == 'bar' || opts.type == 'line' || opts.type == 'area'|| opts.type == 'scatter' || opts.type == 'bubble') {\r\n    boundaryGap = opts.xAxis.boundaryGap;\r\n  }\r\n  var startY = opts.height - opts.area[2];\r\n  var endY = opts.area[0];\r\n\r\n  //绘制滚动条\r\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\r\n    var scrollY = opts.height - opts.area[2] + config.xAxisHeight;\r\n    var scrollScreenWidth = endX - startX;\r\n    var scrollTotalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n    var scrollWidth = scrollScreenWidth * scrollScreenWidth / scrollTotalWidth;\r\n    var scrollLeft = 0;\r\n    if (opts._scrollDistance_) {\r\n      scrollLeft = -opts._scrollDistance_ * (scrollScreenWidth) / scrollTotalWidth;\r\n    }\r\n    context.beginPath();\r\n    context.setLineCap('round');\r\n    context.setLineWidth(6 * opts.pix);\r\n    context.setStrokeStyle(opts.xAxis.scrollBackgroundColor || \"#EFEBEF\");\r\n    context.moveTo(startX, scrollY);\r\n    context.lineTo(endX, scrollY);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.beginPath();\r\n    context.setLineCap('round');\r\n    context.setLineWidth(6 * opts.pix);\r\n    context.setStrokeStyle(opts.xAxis.scrollColor || \"#A6A6A6\");\r\n    context.moveTo(startX + scrollLeft, scrollY);\r\n    context.lineTo(startX + scrollLeft + scrollWidth, scrollY);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.setLineCap('butt');\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  //绘制X轴刻度线\r\n  if (opts.xAxis.calibration === true) {\r\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n    context.setLineCap('butt');\r\n    context.setLineWidth(1 * opts.pix);\r\n    xAxisPoints.forEach(function(item, index) {\r\n      if (index > 0) {\r\n        context.beginPath();\r\n        context.moveTo(item - eachSpacing / 2, startY);\r\n        context.lineTo(item - eachSpacing / 2, startY + 3 * opts.pix);\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    });\r\n  }\r\n  //绘制X轴网格\r\n  if (opts.xAxis.disableGrid !== true) {\r\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n    context.setLineCap('butt');\r\n    context.setLineWidth(1 * opts.pix);\r\n    if (opts.xAxis.gridType == 'dash') {\r\n      context.setLineDash([opts.xAxis.dashLength * opts.pix, opts.xAxis.dashLength * opts.pix]);\r\n    }\r\n    opts.xAxis.gridEval = opts.xAxis.gridEval || 1;\r\n    xAxisPoints.forEach(function(item, index) {\r\n      if (index % opts.xAxis.gridEval == 0) {\r\n        context.beginPath();\r\n        context.moveTo(item, startY);\r\n        context.lineTo(item, endY);\r\n        context.stroke();\r\n      }\r\n    });\r\n    context.setLineDash([]);\r\n  }\r\n  //绘制X轴文案\r\n  if (opts.xAxis.disabled !== true) {\r\n    // 对X轴列表做抽稀处理\r\n    //默认全部显示X轴标签\r\n    let maxXAxisListLength = categories.length;\r\n    //如果设置了X轴单屏数量\r\n    if (opts.xAxis.labelCount) {\r\n      //如果设置X轴密度\r\n      if (opts.xAxis.itemCount) {\r\n        maxXAxisListLength = Math.ceil(categories.length / opts.xAxis.itemCount * opts.xAxis.labelCount);\r\n      } else {\r\n        maxXAxisListLength = opts.xAxis.labelCount;\r\n      }\r\n      maxXAxisListLength -= 1;\r\n    }\r\n\r\n    let ratio = Math.ceil(categories.length / maxXAxisListLength);\r\n\r\n    let newCategories = [];\r\n    let cgLength = categories.length;\r\n    for (let i = 0; i < cgLength; i++) {\r\n      if (i % ratio !== 0) {\r\n        newCategories.push(\"\");\r\n      } else {\r\n        newCategories.push(categories[i]);\r\n      }\r\n    }\r\n    newCategories[cgLength - 1] = categories[cgLength - 1];\r\n    var xAxisFontSize = opts.xAxis.fontSize * opts.pix || config.fontSize;\r\n    if (config._xAxisTextAngle_ === 0) {\r\n      newCategories.forEach(function(item, index) {\r\n        var xitem = opts.xAxis.formatter ? opts.xAxis.formatter(item) : item;\r\n        var offset = -measureText(String(xitem), xAxisFontSize, context) / 2;\r\n        if (boundaryGap == 'center') {\r\n          offset += eachSpacing / 2;\r\n        }\r\n        var scrollHeight = 0;\r\n        if (opts.xAxis.scrollShow) {\r\n          scrollHeight = 6 * opts.pix;\r\n        }\r\n        context.beginPath();\r\n        context.setFontSize(xAxisFontSize);\r\n        context.setFillStyle(opts.xAxis.fontColor || opts.fontColor);\r\n        context.fillText(String(xitem), xAxisPoints[index] + offset, startY + xAxisFontSize + (config.xAxisHeight - scrollHeight - xAxisFontSize) / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n      });\r\n    } else {\r\n      newCategories.forEach(function(item, index) {\r\n        var xitem = opts.xAxis.formatter ? opts.xAxis.formatter(item) : item;\r\n        context.save();\r\n        context.beginPath();\r\n        context.setFontSize(xAxisFontSize);\r\n        context.setFillStyle(opts.xAxis.fontColor || opts.fontColor);\r\n        var textWidth = measureText(String(xitem), xAxisFontSize, context);\r\n        var offset = -textWidth;\r\n        if (boundaryGap == 'center') {\r\n          offset += eachSpacing / 2;\r\n        }\r\n        var _calRotateTranslate = calRotateTranslate(xAxisPoints[index] + eachSpacing / 2, startY + xAxisFontSize / 2 + 5, opts.height),\r\n          transX = _calRotateTranslate.transX,\r\n          transY = _calRotateTranslate.transY;\r\n\r\n        context.rotate(-1 * config._xAxisTextAngle_);\r\n        context.translate(transX, transY);\r\n        context.fillText(String(xitem), xAxisPoints[index] + offset, startY + xAxisFontSize + 5);\r\n        context.closePath();\r\n        context.stroke();\r\n        context.restore();\r\n      });\r\n    }\r\n  }\r\n  context.restore();\r\n  //绘制X轴轴线\r\n  if (opts.xAxis.axisLine) {\r\n    context.beginPath();\r\n    context.setStrokeStyle(opts.xAxis.axisLineColor);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.moveTo(startX, opts.height - opts.area[2]);\r\n    context.lineTo(endX, opts.height - opts.area[2]);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawYAxisGrid(categories, opts, config, context) {\r\n  if (opts.yAxis.disableGrid === true) {\r\n    return;\r\n  }\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  let eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n  let startX = opts.area[3];\r\n  let xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n    xAxiseachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n  let TotalWidth = xAxiseachSpacing * (xAxisPoints.length - 1);\r\n  let endX = startX + TotalWidth;\r\n  let points = [];\r\n  let startY = 1\r\n  if (opts.xAxis.axisLine === false) {\r\n    startY = 0\r\n  }\r\n  for (let i = startY; i < opts.yAxis.splitNumber + 1; i++) {\r\n    points.push(opts.height - opts.area[2] - eachSpacing * i);\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  if (opts.yAxis.gridType == 'dash') {\r\n    context.setLineDash([opts.yAxis.dashLength * opts.pix, opts.yAxis.dashLength * opts.pix]);\r\n  }\r\n  context.setStrokeStyle(opts.yAxis.gridColor);\r\n  context.setLineWidth(1 * opts.pix);\r\n  points.forEach(function(item, index) {\r\n    context.beginPath();\r\n    context.moveTo(startX, item);\r\n    context.lineTo(endX, item);\r\n    context.stroke();\r\n  });\r\n  context.setLineDash([]);\r\n  context.restore();\r\n}\r\n\r\nfunction drawYAxis(series, opts, config, context) {\r\n  if (opts.yAxis.disabled === true) {\r\n    return;\r\n  }\r\n  var spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  var eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  var endY = opts.height - opts.area[2];\r\n  var fillEndY = endY + config.xAxisHeight;\r\n  if (opts.xAxis.scrollShow) {\r\n    fillEndY -= 3 * opts.pix;\r\n  }\r\n  if (opts.xAxis.rotateLabel) {\r\n    fillEndY = opts.height - opts.area[2] + opts.fontSize * opts.pix / 2;\r\n  }\r\n  // set YAxis background\r\n  context.beginPath();\r\n  context.setFillStyle(opts.background);\r\n  if (opts.enableScroll == true && opts.xAxis.scrollPosition && opts.xAxis.scrollPosition !== 'left') {\r\n    context.fillRect(0, 0, startX, fillEndY);\r\n  }\r\n  if (opts.enableScroll == true && opts.xAxis.scrollPosition && opts.xAxis.scrollPosition !== 'right') {\r\n    context.fillRect(endX, 0, opts.width, fillEndY);\r\n  }\r\n  context.closePath();\r\n  context.stroke();\r\n  \r\n  let tStartLeft = opts.area[3];\r\n  let tStartRight = opts.width - opts.area[1];\r\n  let tStartCenter = opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2;\r\n  if (opts.yAxis.data) {\r\n    for (let i = 0; i < opts.yAxis.data.length; i++) {\r\n      let yData = opts.yAxis.data[i];\r\n      var points = [];\r\n      if(yData.type === 'categories'){\r\n        for (let i = 0; i <= yData.categories.length; i++) {\r\n          points.push(opts.area[0] + spacingValid / yData.categories.length / 2 + spacingValid / yData.categories.length * i);\r\n        }\r\n      }else{\r\n        for (let i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n          points.push(opts.area[0] + eachSpacing * i);\r\n        }\r\n      }\r\n      if (yData.disabled !== true) {\r\n        let rangesFormat = opts.chartData.yAxisData.rangesFormat[i];\r\n        let yAxisFontSize = yData.fontSize ? yData.fontSize * opts.pix : config.fontSize;\r\n        let yAxisWidth = opts.chartData.yAxisData.yAxisWidth[i];\r\n        let textAlign = yData.textAlign || \"right\";\r\n        //画Y轴刻度及文案\r\n        rangesFormat.forEach(function(item, index) {\r\n          var pos = points[index] ? points[index] : endY;\r\n          context.beginPath();\r\n          context.setFontSize(yAxisFontSize);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n          context.setFillStyle(yData.fontColor || opts.fontColor);\r\n          let tmpstrat = 0;\r\n          let gapwidth = 4 * opts.pix;\r\n          if (yAxisWidth.position == 'left') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartLeft, pos);\r\n              context.lineTo(tStartLeft - 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            //画文字\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartLeft - yAxisWidth.width\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartLeft - gapwidth\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartLeft - yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n\r\n          } else if (yAxisWidth.position == 'right') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartRight, pos);\r\n              context.lineTo(tStartRight + 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartRight + gapwidth\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartRight + yAxisWidth.width\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartRight + yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartCenter, pos);\r\n              context.lineTo(tStartCenter - 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            //画文字\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartCenter - yAxisWidth.width\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartCenter - gapwidth\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartCenter - yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n          }\r\n          context.closePath();\r\n          context.stroke();\r\n          context.setTextAlign('left');\r\n        });\r\n        //画Y轴轴线\r\n        if (yData.axisLine !== false) {\r\n          context.beginPath();\r\n          context.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n          context.setLineWidth(1 * opts.pix);\r\n          if (yAxisWidth.position == 'left') {\r\n            context.moveTo(tStartLeft, opts.height - opts.area[2]);\r\n            context.lineTo(tStartLeft, opts.area[0]);\r\n          } else if (yAxisWidth.position == 'right') {\r\n            context.moveTo(tStartRight, opts.height - opts.area[2]);\r\n            context.lineTo(tStartRight, opts.area[0]);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            context.moveTo(tStartCenter, opts.height - opts.area[2]);\r\n            context.lineTo(tStartCenter, opts.area[0]);\r\n          }\r\n          context.stroke();\r\n        }\r\n        //画Y轴标题\r\n        if (opts.yAxis.showTitle) {\r\n          let titleFontSize = yData.titleFontSize * opts.pix || config.fontSize;\r\n          let title = yData.title;\r\n          context.beginPath();\r\n          context.setFontSize(titleFontSize);\r\n          context.setFillStyle(yData.titleFontColor || opts.fontColor);\r\n          if (yAxisWidth.position == 'left') {\r\n            context.fillText(title, tStartLeft - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          } else if (yAxisWidth.position == 'right') {\r\n            context.fillText(title, tStartRight - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            context.fillText(title, tStartCenter - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          }\r\n          context.closePath();\r\n          context.stroke();\r\n        }\r\n        if (yAxisWidth.position == 'left') {\r\n          tStartLeft -= (yAxisWidth.width + opts.yAxis.padding * opts.pix);\r\n        } else {\r\n          tStartRight += yAxisWidth.width + opts.yAxis.padding * opts.pix;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction drawLegend(series, opts, config, context, chartData) {\r\n  if (opts.legend.show === false) {\r\n    return;\r\n  }\r\n  let legendData = chartData.legendData;\r\n  let legendList = legendData.points;\r\n  let legendArea = legendData.area;\r\n  let padding = opts.legend.padding * opts.pix;\r\n  let fontSize = opts.legend.fontSize * opts.pix;\r\n  let shapeWidth = 15 * opts.pix;\r\n  let shapeRight = 5 * opts.pix;\r\n  let itemGap = opts.legend.itemGap * opts.pix;\r\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pix, fontSize);\r\n  //画背景及边框\r\n  context.beginPath();\r\n  context.setLineWidth(opts.legend.borderWidth * opts.pix);\r\n  context.setStrokeStyle(opts.legend.borderColor);\r\n  context.setFillStyle(opts.legend.backgroundColor);\r\n  context.moveTo(legendArea.start.x, legendArea.start.y);\r\n  context.rect(legendArea.start.x, legendArea.start.y, legendArea.width, legendArea.height);\r\n  context.closePath();\r\n  context.fill();\r\n  context.stroke();\r\n  legendList.forEach(function(itemList, listIndex) {\r\n    let width = 0;\r\n    let height = 0;\r\n    width = legendData.widthArr[listIndex];\r\n    height = legendData.heightArr[listIndex];\r\n    let startX = 0;\r\n    let startY = 0;\r\n    if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n      switch (opts.legend.float) {\r\n        case 'left':\r\n          startX = legendArea.start.x + padding;\r\n        break;\r\n        case 'right':\r\n          startX = legendArea.start.x + legendArea.width - width;\r\n        break;\r\n        default:\r\n        startX = legendArea.start.x + (legendArea.width - width) / 2;\r\n      }\r\n      startY = legendArea.start.y + padding + listIndex * lineHeight;\r\n    } else {\r\n      if (listIndex == 0) {\r\n        width = 0;\r\n      } else {\r\n        width = legendData.widthArr[listIndex - 1];\r\n      }\r\n      startX = legendArea.start.x + padding + width;\r\n      startY = legendArea.start.y + padding + (legendArea.height - height) / 2;\r\n    }\r\n    context.setFontSize(config.fontSize);\r\n    for (let i = 0; i < itemList.length; i++) {\r\n      let item = itemList[i];\r\n      item.area = [0, 0, 0, 0];\r\n      item.area[0] = startX;\r\n      item.area[1] = startY;\r\n      item.area[3] = startY + lineHeight;\r\n      context.beginPath();\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n      context.setFillStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n      switch (item.legendShape) {\r\n        case 'line':\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 2 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 2 * opts.pix, 15 * opts.pix, 4 * opts.pix);\r\n          break;\r\n        case 'triangle':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          break;\r\n        case 'diamond':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          break;\r\n        case 'circle':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.arc(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight, 5 * opts.pix, 0, 2 * Math.PI);\r\n          break;\r\n        case 'rect':\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n          break;\r\n        case 'square':\r\n          context.moveTo(startX + 5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX + 5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix, 10 * opts.pix, 10 * opts.pix);\r\n          break;\r\n        case 'none':\r\n          break;\r\n        default:\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n      }\r\n      context.closePath();\r\n      context.fill();\r\n      context.stroke();\r\n      startX += shapeWidth + shapeRight;\r\n      let fontTrans = 0.5 * lineHeight + 0.5 * fontSize - 2;\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.show ? opts.legend.fontColor : opts.legend.hiddenColor);\r\n      context.fillText(item.name, startX, startY + fontTrans);\r\n      context.closePath();\r\n      context.stroke();\r\n      if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n        startX += measureText(item.name, fontSize, context) + itemGap;\r\n        item.area[2] = startX;\r\n      } else {\r\n        item.area[2] = startX + measureText(item.name, fontSize, context) + itemGap;;\r\n        startX -= shapeWidth + shapeRight;\r\n        startY += lineHeight;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawPieDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var pieOption = assign({}, {\r\n    activeOpacity: 0.5,\r\n    activeRadius: 10,\r\n    offsetAngle: 0,\r\n    labelWidth: 15,\r\n    ringWidth: 30,\r\n    customRadius: 0,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    centerColor: '#FFFFFF',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.type == \"pie\" ? opts.extra.pie : opts.extra.ring);\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  if (config.pieChartLinePadding == 0) {\r\n    config.pieChartLinePadding = pieOption.activeRadius * opts.pix;\r\n  }\r\n\r\n  var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\r\n  if (pieOption.customRadius > 0) {\r\n    radius = pieOption.customRadius * opts.pix;\r\n  }\r\n  series = getPieDataPoints(series, radius, process);\r\n  var activeRadius = pieOption.activeRadius * opts.pix;\r\n  pieOption.customColor = fillCustomColor(pieOption.linearType, pieOption.customColor, series, config);\r\n  series = series.map(function(eachSeries) {\r\n    eachSeries._start_ += (pieOption.offsetAngle) * Math.PI / 180;\r\n    return eachSeries;\r\n  });\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (opts.tooltip) {\r\n      if (opts.tooltip.index == seriesIndex) {\r\n        context.beginPath();\r\n        context.setFillStyle(hexToRgb(eachSeries.color, pieOption.activeOpacity || 0.5));\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_ + activeRadius, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    context.beginPath();\r\n    context.setLineWidth(pieOption.borderWidth * opts.pix);\r\n    context.lineJoin = \"round\";\r\n    context.setStrokeStyle(pieOption.borderColor);\r\n    var fillcolor = eachSeries.color;\r\n    if (pieOption.linearType == 'custom') {\r\n      var grd;\r\n      if(context.createCircularGradient){\r\n        grd = context.createCircularGradient(centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }else{\r\n        grd = context.createRadialGradient(centerPosition.x, centerPosition.y, 0,centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }\r\n      grd.addColorStop(0, hexToRgb(pieOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(1, hexToRgb(eachSeries.color, 1))\r\n      fillcolor = grd\r\n    }\r\n    context.setFillStyle(fillcolor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    if (pieOption.border == true) {\r\n      context.stroke();\r\n    }\r\n  });\r\n  if (opts.type === 'ring') {\r\n    var innerPieWidth = radius * 0.6;\r\n    if (typeof pieOption.ringWidth === 'number' && pieOption.ringWidth > 0) {\r\n      innerPieWidth = Math.max(0, radius - pieOption.ringWidth * opts.pix);\r\n    }\r\n    context.beginPath();\r\n    context.setFillStyle(pieOption.centerColor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, innerPieWidth, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n  }\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    var valid = false;\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (series[i].data > 0) {\r\n        valid = true;\r\n        break;\r\n      }\r\n    }\r\n    if (valid) {\r\n      drawPieText(series, opts, config, context, radius, centerPosition);\r\n    }\r\n  }\r\n  if (process === 1 && opts.type === 'ring') {\r\n    drawRingTitle(opts, config, context, centerPosition);\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawRoseDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var roseOption = assign({}, {\r\n    type: 'area',\r\n    activeOpacity: 0.5,\r\n    activeRadius: 10,\r\n    offsetAngle: 0,\r\n    labelWidth: 15,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.rose);\r\n  if (config.pieChartLinePadding == 0) {\r\n    config.pieChartLinePadding = roseOption.activeRadius * opts.pix;\r\n  }\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\r\n  var minRadius = roseOption.minRadius || radius * 0.5;\r\n  series = getRoseDataPoints(series, roseOption.type, minRadius, radius, process);\r\n  var activeRadius = roseOption.activeRadius * opts.pix;\r\n  roseOption.customColor = fillCustomColor(roseOption.linearType, roseOption.customColor, series, config);\r\n  series = series.map(function(eachSeries) {\r\n    eachSeries._start_ += (roseOption.offsetAngle || 0) * Math.PI / 180;\r\n    return eachSeries;\r\n  });\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (opts.tooltip) {\r\n      if (opts.tooltip.index == seriesIndex) {\r\n        context.beginPath();\r\n        context.setFillStyle(hexToRgb(eachSeries.color, roseOption.activeOpacity || 0.5));\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, activeRadius + eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    context.beginPath();\r\n    context.setLineWidth(roseOption.borderWidth * opts.pix);\r\n    context.lineJoin = \"round\";\r\n    context.setStrokeStyle(roseOption.borderColor);\r\n    var fillcolor = eachSeries.color;\r\n    if (roseOption.linearType == 'custom') {\r\n      var grd;\r\n      if(context.createCircularGradient){\r\n        grd = context.createCircularGradient(centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }else{\r\n        grd = context.createRadialGradient(centerPosition.x, centerPosition.y, 0,centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }\r\n      grd.addColorStop(0, hexToRgb(roseOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(1, hexToRgb(eachSeries.color, 1))\r\n      fillcolor = grd\r\n    }\r\n    context.setFillStyle(fillcolor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    if (roseOption.border == true) {\r\n      context.stroke();\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    var valid = false;\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (series[i].data > 0) {\r\n        valid = true;\r\n        break;\r\n      }\r\n    }\r\n    if (valid) {\r\n      drawPieText(series, opts, config, context, radius, centerPosition);\r\n    }\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawArcbarDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var arcbarOption = assign({}, {\r\n    startAngle: 0.75,\r\n    endAngle: 0.25,\r\n    type: 'default',\r\n    width: 12 ,\r\n    gap: 2 ,\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.arcbar);\r\n  series = getArcbarDataPoints(series, arcbarOption, process);\r\n  var centerPosition;\r\n  if (arcbarOption.centerX || arcbarOption.centerY) {\r\n    centerPosition = {\r\n      x: arcbarOption.centerX ? arcbarOption.centerX : opts.width / 2,\r\n      y: arcbarOption.centerY ? arcbarOption.centerY : opts.height / 2\r\n    };\r\n  } else {\r\n    centerPosition = {\r\n      x: opts.width / 2,\r\n      y: opts.height / 2\r\n    };\r\n  }\r\n  var radius;\r\n  if (arcbarOption.radius) {\r\n    radius = arcbarOption.radius;\r\n  } else {\r\n    radius = Math.min(centerPosition.x, centerPosition.y);\r\n    radius -= 5 * opts.pix;\r\n    radius -= arcbarOption.width / 2;\r\n  }\r\n  arcbarOption.customColor = fillCustomColor(arcbarOption.linearType, arcbarOption.customColor, series, config);\r\n  \r\n  for (let i = 0; i < series.length; i++) {\r\n    let eachSeries = series[i];\r\n    //背景颜色\r\n    context.setLineWidth(arcbarOption.width * opts.pix);\r\n    context.setStrokeStyle(arcbarOption.backgroundColor || '#E9E9E9');\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    if (arcbarOption.type == 'default') {\r\n      context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, arcbarOption.startAngle * Math.PI, arcbarOption.endAngle * Math.PI, false);\r\n    } else {\r\n      context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, 0, 2 * Math.PI, false);\r\n    }\r\n    context.stroke();\r\n    //进度条\r\n    var fillColor = eachSeries.color\r\n    if(arcbarOption.linearType == 'custom'){\r\n      var grd = context.createLinearGradient(centerPosition.x - radius, centerPosition.y, centerPosition.x + radius, centerPosition.y);\r\n      grd.addColorStop(1, hexToRgb(arcbarOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(0, hexToRgb(eachSeries.color, 1))\r\n      fillColor = grd;\r\n    }\r\n    context.setLineWidth(arcbarOption.width * opts.pix);\r\n    context.setStrokeStyle(fillColor);\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, arcbarOption.startAngle * Math.PI, eachSeries._proportion_ * Math.PI, false);\r\n    context.stroke();\r\n  }\r\n  drawRingTitle(opts, config, context, centerPosition);\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawGaugeDataPoints(categories, series, opts, config, context) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var gaugeOption = assign({}, {\r\n    type: 'default',\r\n    startAngle: 0.75,\r\n    endAngle: 0.25,\r\n    width: 15,\r\n    labelOffset:13,\r\n    splitLine: {\r\n      fixRadius: 0,\r\n      splitNumber: 10,\r\n      width: 15,\r\n      color: '#FFFFFF',\r\n      childNumber: 5,\r\n      childWidth: 5\r\n    },\r\n    pointer: {\r\n      width: 15,\r\n      color: 'auto'\r\n    }\r\n  }, opts.extra.gauge);\r\n  if (gaugeOption.oldAngle == undefined) {\r\n    gaugeOption.oldAngle = gaugeOption.startAngle;\r\n  }\r\n  if (gaugeOption.oldData == undefined) {\r\n    gaugeOption.oldData = 0;\r\n  }\r\n  categories = getGaugeAxisPoints(categories, gaugeOption.startAngle, gaugeOption.endAngle);\r\n  var centerPosition = {\r\n    x: opts.width / 2,\r\n    y: opts.height / 2\r\n  };\r\n  var radius = Math.min(centerPosition.x, centerPosition.y);\r\n  radius -= 5 * opts.pix;\r\n  radius -= gaugeOption.width / 2;\r\n  var innerRadius = radius - gaugeOption.width;\r\n  var totalAngle = 0;\r\n  //判断仪表盘的样式：default百度样式，progress新样式\r\n  if (gaugeOption.type == 'progress') {\r\n    //## 第一步画中心圆形背景和进度条背景\r\n    //中心圆形背景\r\n    var pieRadius = radius - gaugeOption.width * 3;\r\n    context.beginPath();\r\n    let gradient = context.createLinearGradient(centerPosition.x, centerPosition.y - pieRadius, centerPosition.x, centerPosition.y + pieRadius);\r\n    //配置渐变填充（起点：中心点向上减半径；结束点中心点向下加半径）\r\n    gradient.addColorStop('0', hexToRgb(series[0].color, 0.3));\r\n    gradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n    context.setFillStyle(gradient);\r\n    context.arc(centerPosition.x, centerPosition.y, pieRadius, 0, 2 * Math.PI, false);\r\n    context.fill();\r\n    //画进度条背景\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, gaugeOption.endAngle * Math.PI, false);\r\n    context.stroke();\r\n    //## 第二步画刻度线\r\n    totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n    let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n    let childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n    let startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n    let endX = -radius - gaugeOption.width - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    let len = gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1;\r\n    let proc = series[0].data * process;\r\n    for (let i = 0; i < len; i++) {\r\n      context.beginPath();\r\n      //刻度线随进度变色\r\n      if (proc > (i / len)) {\r\n        context.setStrokeStyle(hexToRgb(series[0].color, 1));\r\n      } else {\r\n        context.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n      }\r\n      context.setLineWidth(3 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(endX, 0);\r\n      context.stroke();\r\n      context.rotate(childAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    //## 第三步画进度条\r\n    series = getArcbarDataPoints(series, gaugeOption, process);\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setStrokeStyle(series[0].color);\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, series[0]._proportion_ * Math.PI, false);\r\n    context.stroke();\r\n    //## 第四步画指针\r\n    let pointerRadius = radius - gaugeOption.width * 2.5;\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((series[0]._proportion_ - 1) * Math.PI);\r\n    context.beginPath();\r\n    context.setLineWidth(gaugeOption.width / 3);\r\n    let gradient3 = context.createLinearGradient(0, -pointerRadius * 0.6, 0, pointerRadius * 0.6);\r\n    gradient3.addColorStop('0', hexToRgb('#FFFFFF', 0));\r\n    gradient3.addColorStop('0.5', hexToRgb(series[0].color, 1));\r\n    gradient3.addColorStop('1.0', hexToRgb('#FFFFFF', 0));\r\n    context.setStrokeStyle(gradient3);\r\n    context.arc(0, 0, pointerRadius, 0.85 * Math.PI, 1.15 * Math.PI, false);\r\n    context.stroke();\r\n    context.beginPath();\r\n    context.setLineWidth(1);\r\n    context.setStrokeStyle(series[0].color);\r\n    context.setFillStyle(series[0].color);\r\n    context.moveTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2 - 4, 0);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, 4);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n    context.stroke();\r\n    context.fill();\r\n    context.restore();\r\n    //default百度样式\r\n  } else {\r\n    //画背景\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setLineCap('butt');\r\n    for (let i = 0; i < categories.length; i++) {\r\n      let eachCategories = categories[i];\r\n      context.beginPath();\r\n      context.setStrokeStyle(eachCategories.color);\r\n      context.arc(centerPosition.x, centerPosition.y, radius, eachCategories._startAngle_ * Math.PI, eachCategories._endAngle_ * Math.PI, false);\r\n      context.stroke();\r\n    }\r\n    context.save();\r\n    //画刻度线\r\n    totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n    let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n    let childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n    let startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n    let endX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n    let childendX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.childWidth;\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    for (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n      context.beginPath();\r\n      context.setStrokeStyle(gaugeOption.splitLine.color);\r\n      context.setLineWidth(2 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(endX, 0);\r\n      context.stroke();\r\n      context.rotate(splitAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    for (let i = 0; i < gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1; i++) {\r\n      context.beginPath();\r\n      context.setStrokeStyle(gaugeOption.splitLine.color);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(childendX, 0);\r\n      context.stroke();\r\n      context.rotate(childAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    //画指针\r\n    series = getGaugeDataPoints(series, categories, gaugeOption, process);\r\n    for (let i = 0; i < series.length; i++) {\r\n      let eachSeries = series[i];\r\n      context.save();\r\n      context.translate(centerPosition.x, centerPosition.y);\r\n      context.rotate((eachSeries._proportion_ - 1) * Math.PI);\r\n      context.beginPath();\r\n      context.setFillStyle(eachSeries.color);\r\n      context.moveTo(gaugeOption.pointer.width, 0);\r\n      context.lineTo(0, -gaugeOption.pointer.width / 2);\r\n      context.lineTo(-innerRadius, 0);\r\n      context.lineTo(0, gaugeOption.pointer.width / 2);\r\n      context.lineTo(gaugeOption.pointer.width, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFillStyle('#FFFFFF');\r\n      context.arc(0, 0, gaugeOption.pointer.width / 6, 0, 2 * Math.PI, false);\r\n      context.fill();\r\n      context.restore();\r\n    }\r\n    if (opts.dataLabel !== false) {\r\n      drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context);\r\n    }\r\n  }\r\n  //画仪表盘标题，副标题\r\n  drawRingTitle(opts, config, context, centerPosition);\r\n  if (process === 1 && opts.type === 'gauge') {\r\n    opts.extra.gauge.oldAngle = series[0]._proportion_;\r\n    opts.extra.gauge.oldData = series[0].data;\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    innerRadius: innerRadius,\r\n    categories: categories,\r\n    totalAngle: totalAngle\r\n  };\r\n}\r\n\r\nfunction drawRadarDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var radarOption = assign({}, {\r\n    gridColor: '#cccccc',\r\n    gridType: 'radar',\r\n    opacity: 0.2,\r\n    gridCount: 3,\r\n    border:false,\r\n    borderWidth:2\r\n  }, opts.extra.radar);\r\n  var coordinateAngle = getRadarCoordinateSeries(opts.categories.length);\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  var xr = (opts.width - opts.area[1] - opts.area[3]) / 2\r\n  var yr = (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  var radius = Math.min(xr - (getMaxTextListLength(opts.categories, config.fontSize, context) + config.radarLabelTextMargin), yr - config.radarLabelTextMargin);\r\n  radius -= config.radarLabelTextMargin * opts.pix;\r\n  // 画分割线\r\n  context.beginPath();\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.setStrokeStyle(radarOption.gridColor);\r\n  coordinateAngle.forEach(function(angle) {\r\n    var pos = convertCoordinateOrigin(radius * Math.cos(angle), radius * Math.sin(angle), centerPosition);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.lineTo(pos.x, pos.y);\r\n  });\r\n  context.stroke();\r\n  context.closePath();\r\n  \r\n  // 画背景网格\r\n  var _loop = function _loop(i) {\r\n    var startPos = {};\r\n    context.beginPath();\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.setStrokeStyle(radarOption.gridColor);\r\n    if (radarOption.gridType == 'radar') {\r\n      coordinateAngle.forEach(function(angle, index) {\r\n        var pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(angle), radius /\r\n          radarOption.gridCount * i * Math.sin(angle), centerPosition);\r\n        if (index === 0) {\r\n          startPos = pos;\r\n          context.moveTo(pos.x, pos.y);\r\n        } else {\r\n          context.lineTo(pos.x, pos.y);\r\n        }\r\n      });\r\n      context.lineTo(startPos.x, startPos.y);\r\n    } else {\r\n      var pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(1.5), radius / radarOption.gridCount * i * Math.sin(1.5), centerPosition);\r\n      context.arc(centerPosition.x, centerPosition.y, centerPosition.y - pos.y, 0, 2 * Math.PI, false);\r\n    }\r\n    context.stroke();\r\n    context.closePath();\r\n  };\r\n  for (var i = 1; i <= radarOption.gridCount; i++) {\r\n    _loop(i);\r\n  }\r\n  var radarDataPoints = getRadarDataPoints(coordinateAngle, centerPosition, radius, series, opts, process);\r\n  radarDataPoints.forEach(function(eachSeries, seriesIndex) {\r\n    // 绘制区域数据\r\n    context.beginPath();\r\n    context.setLineWidth(radarOption.borderWidth * opts.pix);\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setFillStyle(hexToRgb(eachSeries.color, radarOption.opacity));\r\n    eachSeries.data.forEach(function(item, index) {\r\n      if (index === 0) {\r\n        context.moveTo(item.position.x, item.position.y);\r\n      } else {\r\n        context.lineTo(item.position.x, item.position.y);\r\n      }\r\n    });\r\n    context.closePath();\r\n    context.fill();\r\n    if(radarOption.border === true){\r\n      context.stroke();\r\n    }\r\n    context.closePath();\r\n    if (opts.dataPointShape !== false) {\r\n      var points = eachSeries.data.map(function(item) {\r\n        return item.position;\r\n      });\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n  // draw label text\r\n  drawRadarLabel(coordinateAngle, radius, centerPosition, opts, config, context);\r\n  \r\n  // draw dataLabel\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    radarDataPoints.forEach(function(eachSeries, seriesIndex) {\r\n      context.beginPath();\r\n      var fontSize = eachSeries.textSize * opts.pix || config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(eachSeries.textColor || opts.fontColor);\r\n      eachSeries.data.forEach(function(item, index) {\r\n        //如果是中心点垂直的上下点位\r\n        if(Math.abs(item.position.x - centerPosition.x)<2){\r\n          //如果在上面\r\n          if(item.position.y < centerPosition.y){\r\n            context.setTextAlign('center');\r\n            context.fillText(item.value, item.position.x, item.position.y - 4);\r\n          }else{\r\n            context.setTextAlign('center');\r\n            context.fillText(item.value, item.position.x, item.position.y + fontSize + 2);\r\n          }\r\n        }else{\r\n          //如果在左侧\r\n          if(item.position.x < centerPosition.x){\r\n            context.setTextAlign('right');\r\n            context.fillText(item.value, item.position.x - 4, item.position.y + fontSize / 2 - 2);\r\n          }else{\r\n            context.setTextAlign('left');\r\n            context.fillText(item.value, item.position.x + 4, item.position.y + fontSize / 2 - 2);\r\n          }\r\n        }\r\n      });\r\n      context.closePath();\r\n      context.stroke();\r\n    });\r\n    context.setTextAlign('left');\r\n  }\r\n  \r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    angleList: coordinateAngle\r\n  };\r\n}\r\n\r\nfunction normalInt(min, max, iter) {\r\n  iter = iter == 0 ? 1 : iter;\r\n  var arr = [];\r\n  for (var i = 0; i < iter; i++) {\r\n    arr[i] = Math.random();\r\n  };\r\n  return Math.floor(arr.reduce(function(i, j) {\r\n    return i + j\r\n  }) / iter * (max - min)) + min;\r\n};\r\n\r\nfunction collisionNew(area, points, width, height) {\r\n  var isIn = false;\r\n  for (let i = 0; i < points.length; i++) {\r\n    if (points[i].area) {\r\n      if (area[3] < points[i].area[1] || area[0] > points[i].area[2] || area[1] > points[i].area[3] || area[2] < points[i].area[0]) {\r\n        if (area[0] < 0 || area[1] < 0 || area[2] > width || area[3] > height) {\r\n          isIn = true;\r\n          break;\r\n        } else {\r\n          isIn = false;\r\n        }\r\n      } else {\r\n        isIn = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return isIn;\r\n};\r\n\r\nfunction getBoundingBox(data) {\r\n  var bounds = {},coords;\r\n  bounds.xMin = 180;\r\n  bounds.xMax = 0;\r\n  bounds.yMin = 90;\r\n  bounds.yMax = 0\r\n  for (var i = 0; i < data.length; i++) {\r\n    var coorda = data[i].geometry.coordinates\r\n    for (var k = 0; k < coorda.length; k++) {\r\n      coords = coorda[k];\r\n      if (coords.length == 1) {\r\n        coords = coords[0]\r\n      }\r\n      for (var j = 0; j < coords.length; j++) {\r\n        var longitude = coords[j][0];\r\n        var latitude = coords[j][1];\r\n        var point = {\r\n          x: longitude,\r\n          y: latitude\r\n        }\r\n        bounds.xMin = bounds.xMin < point.x ? bounds.xMin : point.x;\r\n        bounds.xMax = bounds.xMax > point.x ? bounds.xMax : point.x;\r\n        bounds.yMin = bounds.yMin < point.y ? bounds.yMin : point.y;\r\n        bounds.yMax = bounds.yMax > point.y ? bounds.yMax : point.y;\r\n      }\r\n    }\r\n  }\r\n  return bounds;\r\n}\r\n\r\nfunction coordinateToPoint(latitude, longitude, bounds, scale, xoffset, yoffset) {\r\n  return {\r\n    x: (longitude - bounds.xMin) * scale + xoffset,\r\n    y: (bounds.yMax - latitude) * scale + yoffset\r\n  };\r\n}\r\n\r\nfunction pointToCoordinate(pointY, pointX, bounds, scale, xoffset, yoffset) {\r\n  return {\r\n    x: (pointX - xoffset) / scale + bounds.xMin,\r\n    y: bounds.yMax - (pointY - yoffset) / scale\r\n  };\r\n}\r\n\r\nfunction isRayIntersectsSegment(poi, s_poi, e_poi) {\r\n  if (s_poi[1] == e_poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] > poi[1] && e_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] < poi[1] && e_poi[1] < poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] == poi[1] && e_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (e_poi[1] == poi[1] && s_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[0] < poi[0] && e_poi[1] < poi[1]) {\r\n    return false;\r\n  }\r\n  let xseg = e_poi[0] - (e_poi[0] - s_poi[0]) * (e_poi[1] - poi[1]) / (e_poi[1] - s_poi[1]);\r\n  if (xseg < poi[0]) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction isPoiWithinPoly(poi, poly, mercator) {\r\n  let sinsc = 0;\r\n  for (let i = 0; i < poly.length; i++) {\r\n    let epoly = poly[i][0];\r\n    if (poly.length == 1) {\r\n      epoly = poly[i][0]\r\n    }\r\n    for (let j = 0; j < epoly.length - 1; j++) {\r\n      let s_poi = epoly[j];\r\n      let e_poi = epoly[j + 1];\r\n      if (mercator) {\r\n        s_poi = lonlat2mercator(epoly[j][0], epoly[j][1]);\r\n        e_poi = lonlat2mercator(epoly[j + 1][0], epoly[j + 1][1]);\r\n      }\r\n      if (isRayIntersectsSegment(poi, s_poi, e_poi)) {\r\n        sinsc += 1;\r\n      }\r\n    }\r\n  }\r\n  if (sinsc % 2 == 1) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nfunction drawMapDataPoints(series, opts, config, context) {\r\n  var mapOption = assign({}, {\r\n    border: true,\r\n    mercator: false,\r\n    borderWidth: 1,\r\n    borderColor: '#666666',\r\n    fillOpacity: 0.6,\r\n    activeBorderColor: '#f04864',\r\n    activeFillColor: '#facc14',\r\n    activeFillOpacity: 1\r\n  }, opts.extra.map);\r\n  var coords, point;\r\n  var data = series;\r\n  var bounds = getBoundingBox(data);\r\n  if (mapOption.mercator) {\r\n    var max = lonlat2mercator(bounds.xMax, bounds.yMax)\r\n    var min = lonlat2mercator(bounds.xMin, bounds.yMin)\r\n    bounds.xMax = max[0]\r\n    bounds.yMax = max[1]\r\n    bounds.xMin = min[0]\r\n    bounds.yMin = min[1]\r\n  }\r\n  var xScale = opts.width / Math.abs(bounds.xMax - bounds.xMin);\r\n  var yScale = opts.height / Math.abs(bounds.yMax - bounds.yMin);\r\n  var scale = xScale < yScale ? xScale : yScale;\r\n  var xoffset = opts.width / 2 - Math.abs(bounds.xMax - bounds.xMin) / 2 * scale;\r\n  var yoffset = opts.height / 2 - Math.abs(bounds.yMax - bounds.yMin) / 2 * scale;\r\n  for (var i = 0; i < data.length; i++) {\r\n    context.beginPath();\r\n    context.setLineWidth(mapOption.borderWidth * opts.pix);\r\n    context.setStrokeStyle(mapOption.borderColor);\r\n    context.setFillStyle(hexToRgb(series[i].color, mapOption.fillOpacity));\r\n    if (opts.tooltip) {\r\n      if (opts.tooltip.index == i) {\r\n        context.setStrokeStyle(mapOption.activeBorderColor);\r\n        context.setFillStyle(hexToRgb(mapOption.activeFillColor, mapOption.activeFillOpacity));\r\n      }\r\n    }\r\n    var coorda = data[i].geometry.coordinates\r\n    for (var k = 0; k < coorda.length; k++) {\r\n      coords = coorda[k];\r\n      if (coords.length == 1) {\r\n        coords = coords[0]\r\n      }\r\n      for (var j = 0; j < coords.length; j++) {\r\n        var gaosi = Array(2);\r\n        if (mapOption.mercator) {\r\n          gaosi = lonlat2mercator(coords[j][0], coords[j][1])\r\n        } else {\r\n          gaosi = coords[j]\r\n        }\r\n        point = coordinateToPoint(gaosi[1], gaosi[0], bounds, scale, xoffset, yoffset)\r\n        if (j === 0) {\r\n          context.beginPath();\r\n          context.moveTo(point.x, point.y);\r\n        } else {\r\n          context.lineTo(point.x, point.y);\r\n        }\r\n      }\r\n      context.fill();\r\n      if (mapOption.border == true) {\r\n        context.stroke();\r\n      }\r\n    }\r\n    if (opts.dataLabel == true) {\r\n      var centerPoint = data[i].properties.centroid;\r\n      if (centerPoint) {\r\n        if (mapOption.mercator) {\r\n          centerPoint = lonlat2mercator(data[i].properties.centroid[0], data[i].properties.centroid[1])\r\n        }\r\n        point = coordinateToPoint(centerPoint[1], centerPoint[0], bounds, scale, xoffset, yoffset);\r\n        let fontSize = data[i].textSize * opts.pix || config.fontSize;\r\n        let text = data[i].properties.name;\r\n        context.beginPath();\r\n        context.setFontSize(fontSize)\r\n        context.setFillStyle(data[i].textColor || opts.fontColor)\r\n        context.fillText(text, point.x - measureText(text, fontSize, context) / 2, point.y + fontSize / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    }\r\n  }\r\n  opts.chartData.mapData = {\r\n    bounds: bounds,\r\n    scale: scale,\r\n    xoffset: xoffset,\r\n    yoffset: yoffset,\r\n    mercator: mapOption.mercator\r\n  }\r\n  drawToolTipBridge(opts, config, context, 1);\r\n  context.draw();\r\n}\r\n\r\nfunction getWordCloudPoint(opts, type, context) {\r\n  let points = opts.series;\r\n  switch (type) {\r\n    case 'normal':\r\n      for (let i = 0; i < points.length; i++) {\r\n        let text = points[i].name;\r\n        let tHeight = points[i].textSize * opts.pix;\r\n        let tWidth = measureText(text, tHeight, context);\r\n        let x, y;\r\n        let area;\r\n        let breaknum = 0;\r\n        while (true) {\r\n          breaknum++;\r\n          x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n          y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n          area = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width / 2, y + 5 +\r\n            opts.height / 2\r\n          ];\r\n          let isCollision = collisionNew(area, points, opts.width, opts.height);\r\n          if (!isCollision) break;\r\n          if (breaknum == 1000) {\r\n            area = [-100, -100, -100, -100];\r\n            break;\r\n          }\r\n        };\r\n        points[i].area = area;\r\n      }\r\n      break;\r\n    case 'vertical':\r\n      function Spin() {\r\n        //获取均匀随机值，是否旋转，旋转的概率为（1-0.5）\r\n        if (Math.random() > 0.7) {\r\n          return true;\r\n        } else {\r\n          return false\r\n        };\r\n      };\r\n      for (let i = 0; i < points.length; i++) {\r\n        let text = points[i].name;\r\n        let tHeight = points[i].textSize * opts.pix;\r\n        let tWidth = measureText(text, tHeight, context);\r\n        let isSpin = Spin();\r\n        let x, y, area, areav;\r\n        let breaknum = 0;\r\n        while (true) {\r\n          breaknum++;\r\n          let isCollision;\r\n          if (isSpin) {\r\n            x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n            y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n            area = [y - 5 - tWidth + opts.width / 2, (-x - 5 + opts.height / 2), y + 5 + opts.width / 2, (-x + tHeight + 5 + opts.height / 2)];\r\n            areav = [opts.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height / 2) - 5, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) - 5, opts.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height / 2) + tHeight, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) + tWidth + 5];\r\n            isCollision = collisionNew(areav, points, opts.height, opts.width);\r\n          } else {\r\n            x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n            y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n            area = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width / 2, y + 5 + opts.height / 2];\r\n            isCollision = collisionNew(area, points, opts.width, opts.height);\r\n          }\r\n          if (!isCollision) break;\r\n          if (breaknum == 1000) {\r\n            area = [-1000, -1000, -1000, -1000];\r\n            break;\r\n          }\r\n        };\r\n        if (isSpin) {\r\n          points[i].area = areav;\r\n          points[i].areav = area;\r\n        } else {\r\n          points[i].area = area;\r\n        }\r\n        points[i].rotate = isSpin;\r\n      };\r\n      break;\r\n  }\r\n  return points;\r\n}\r\n\r\n\r\nfunction drawWordCloudDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let wordOption = assign({}, {\r\n    type: 'normal',\r\n    autoColors: true\r\n  }, opts.extra.word);\r\n  if (!opts.chartData.wordCloudData) {\r\n    opts.chartData.wordCloudData = getWordCloudPoint(opts, wordOption.type, context);\r\n  }\r\n  context.beginPath();\r\n  context.setFillStyle(opts.background);\r\n  context.rect(0, 0, opts.width, opts.height);\r\n  context.fill();\r\n  context.save();\r\n  let points = opts.chartData.wordCloudData;\r\n  context.translate(opts.width / 2, opts.height / 2);\r\n  for (let i = 0; i < points.length; i++) {\r\n    context.save();\r\n    if (points[i].rotate) {\r\n      context.rotate(90 * Math.PI / 180);\r\n    }\r\n    let text = points[i].name;\r\n    let tHeight = points[i].textSize * opts.pix;\r\n    let tWidth = measureText(text, tHeight, context);\r\n    context.beginPath();\r\n    context.setStrokeStyle(points[i].color);\r\n    context.setFillStyle(points[i].color);\r\n    context.setFontSize(tHeight);\r\n    if (points[i].rotate) {\r\n      if (points[i].areav[0] > 0) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.strokeText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n          } else {\r\n            context.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n          }\r\n        } else {\r\n          context.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n        }\r\n      }\r\n    } else {\r\n      if (points[i].area[0] > 0) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.strokeText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n          } else {\r\n            context.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n          }\r\n        } else {\r\n          context.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n        }\r\n      }\r\n    }\r\n    context.stroke();\r\n    context.restore();\r\n  }\r\n  context.restore();\r\n}\r\n\r\nfunction drawFunnelDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let funnelOption = assign({}, {\r\n    type:'funnel',\r\n    activeWidth: 10,\r\n    activeOpacity: 0.3,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    fillOpacity: 1,\r\n    labelAlign: 'right',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.funnel);\r\n  let eachSpacing = (opts.height - opts.area[0] - opts.area[2]) / series.length;\r\n  let centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.height - opts.area[2]\r\n  };\r\n  let activeWidth = funnelOption.activeWidth * opts.pix;\r\n  let radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - activeWidth, (opts.height - opts.area[0] - opts.area[2]) / 2 - activeWidth);\r\n  series = getFunnelDataPoints(series, radius, funnelOption.type, eachSpacing, process);\r\n  context.save();\r\n  context.translate(centerPosition.x, centerPosition.y);\r\n  funnelOption.customColor = fillCustomColor(funnelOption.linearType, funnelOption.customColor, series, config);\r\n  if(funnelOption.type == 'pyramid'){\r\n    for (let i = 0; i < series.length; i++) {\r\n      if (i == series.length -1) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(-activeWidth, -eachSpacing);\r\n            context.lineTo(-series[i].radius - activeWidth, 0);\r\n            context.lineTo(series[i].radius + activeWidth, 0);\r\n            context.lineTo(activeWidth, -eachSpacing);\r\n            context.lineTo(-activeWidth, -eachSpacing);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        series[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing * (i + 1), centerPosition.x + series[i].radius, centerPosition.y - eachSpacing * i];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(series[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(series[i].radius, -eachSpacing, -series[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[series[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, -eachSpacing);\r\n        context.lineTo(-series[i].radius, 0);\r\n        context.lineTo(series[i].radius, 0);\r\n        context.lineTo(0, -eachSpacing);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      } else {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(0, 0);\r\n            context.lineTo(-series[i].radius - activeWidth, 0);\r\n            context.lineTo(-series[i + 1].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(series[i + 1].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(series[i].radius + activeWidth, 0);\r\n            context.lineTo(0, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        series[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing * (i + 1), centerPosition.x + series[i].radius, centerPosition.y - eachSpacing * i];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(series[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(series[i].radius, -eachSpacing, -series[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[series[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-series[i].radius, 0);\r\n        context.lineTo(-series[i + 1].radius, -eachSpacing);\r\n        context.lineTo(series[i + 1].radius, -eachSpacing);\r\n        context.lineTo(series[i].radius, 0);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      }\r\n      context.translate(0, -eachSpacing)\r\n    }\r\n  }else{\r\n    for (let i = 0; i < series.length; i++) {\r\n      if (i == 0) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(-activeWidth, 0);\r\n            context.lineTo(-series[i].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(series[i].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(activeWidth, 0);\r\n            context.lineTo(-activeWidth, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        series[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing, centerPosition.x + series[i].radius, centerPosition.y];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(series[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(series[i].radius, -eachSpacing, -series[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[series[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-series[i].radius, -eachSpacing);\r\n        context.lineTo(series[i].radius, -eachSpacing);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      } else {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(0, 0);\r\n            context.lineTo(-series[i - 1].radius - activeWidth, 0);\r\n            context.lineTo(-series[i].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(series[i].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(series[i - 1].radius + activeWidth, 0);\r\n            context.lineTo(0, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        series[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing * (i + 1), centerPosition.x + series[i].radius, centerPosition.y - eachSpacing * i];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(series[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(series[i].radius, -eachSpacing, -series[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[series[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-series[i - 1].radius, 0);\r\n        context.lineTo(-series[i].radius, -eachSpacing);\r\n        context.lineTo(series[i].radius, -eachSpacing);\r\n        context.lineTo(series[i - 1].radius, 0);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      }\r\n      context.translate(0, -eachSpacing)\r\n    }\r\n  }\r\n  \r\n  context.restore();\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    drawFunnelText(series, opts, context, eachSpacing, funnelOption.labelAlign, activeWidth, centerPosition);\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawFunnelText(series, opts, context, eachSpacing, labelAlign, activeWidth, centerPosition) {\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    let startX, endX, startY, fontSize;\r\n    let text = item.formatter ? item.formatter(item,i,series) : util.toFixed(item._proportion_ * 100) + '%';\r\n    if (labelAlign == 'right') {\r\n      if(opts.extra.funnel.type === 'pyramid'){\r\n        if (i == series.length -1) {\r\n          startX = (item.funnelArea[2] + centerPosition.x) / 2;\r\n        } else {\r\n          startX = (item.funnelArea[2] + series[i + 1].funnelArea[2]) / 2;\r\n        }\r\n      }else{\r\n        if (i == 0) {\r\n          startX = (item.funnelArea[2] + centerPosition.x) / 2;\r\n        } else {\r\n          startX = (item.funnelArea[2] + series[i - 1].funnelArea[2]) / 2;\r\n        }\r\n      }\r\n      endX = startX + activeWidth * 2;\r\n      startY = item.funnelArea[1] + eachSpacing / 2;\r\n      fontSize = item.textSize * opts.pix || opts.fontSize * opts.pix;\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.color);\r\n      context.setFillStyle(item.color);\r\n      context.beginPath();\r\n      context.moveTo(startX, startY);\r\n      context.lineTo(endX, startY);\r\n      context.stroke();\r\n      context.closePath();\r\n      context.beginPath();\r\n      context.moveTo(endX, startY);\r\n      context.arc(endX, startY, 2, 0, 2 * Math.PI);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.textColor || opts.fontColor);\r\n      context.fillText(text, endX + 5, startY + fontSize / 2 - 2);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.closePath();\r\n    } else {\r\n      if(opts.extra.funnel.type === 'pyramid'){\r\n        if (i == series.length -1) {\r\n          startX = (item.funnelArea[0] + centerPosition.x) / 2;\r\n        } else {\r\n          startX = (item.funnelArea[0] + series[i + 1].funnelArea[0]) / 2;\r\n        }\r\n      }else{\r\n        if (i == 0) {\r\n          startX = (item.funnelArea[0] + centerPosition.x) / 2;\r\n        } else {\r\n          startX = (item.funnelArea[0] + series[i - 1].funnelArea[0]) / 2;\r\n        }\r\n      }\r\n      endX = startX - activeWidth * 2;\r\n      startY = item.funnelArea[1] + eachSpacing / 2;\r\n      fontSize = item.textSize * opts.pix || opts.fontSize * opts.pix;\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.color);\r\n      context.setFillStyle(item.color);\r\n      context.beginPath();\r\n      context.moveTo(startX, startY);\r\n      context.lineTo(endX, startY);\r\n      context.stroke();\r\n      context.closePath();\r\n      context.beginPath();\r\n      context.moveTo(endX, startY);\r\n      context.arc(endX, startY, 2, 0, 2 * Math.PI);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.textColor || opts.fontColor);\r\n      context.fillText(text, endX - 5 - measureText(text, fontSize, context), startY + fontSize / 2 - 2);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n\r\n  }\r\n}\r\n\r\nfunction drawCanvas(opts, context) {\r\n  context.draw();\r\n}\r\n\r\nvar Timing = {\r\n  easeIn: function easeIn(pos) {\r\n    return Math.pow(pos, 3);\r\n  },\r\n  easeOut: function easeOut(pos) {\r\n    return Math.pow(pos - 1, 3) + 1;\r\n  },\r\n  easeInOut: function easeInOut(pos) {\r\n    if ((pos /= 0.5) < 1) {\r\n      return 0.5 * Math.pow(pos, 3);\r\n    } else {\r\n      return 0.5 * (Math.pow(pos - 2, 3) + 2);\r\n    }\r\n  },\r\n  linear: function linear(pos) {\r\n    return pos;\r\n  }\r\n};\r\n\r\nfunction Animation(opts) {\r\n  this.isStop = false;\r\n  opts.duration = typeof opts.duration === 'undefined' ? 1000 : opts.duration;\r\n  opts.timing = opts.timing || 'easeInOut';\r\n  var delay = 17;\r\n  function createAnimationFrame() {\r\n    if (typeof setTimeout !== 'undefined') {\r\n      return function(step, delay) {\r\n        setTimeout(function() {\r\n          var timeStamp = +new Date();\r\n          step(timeStamp);\r\n        }, delay);\r\n      };\r\n    } else if (typeof requestAnimationFrame !== 'undefined') {\r\n      return requestAnimationFrame;\r\n    } else {\r\n      return function(step) {\r\n        step(null);\r\n      };\r\n    }\r\n  };\r\n  var animationFrame = createAnimationFrame();\r\n  var startTimeStamp = null;\r\n  var _step = function step(timestamp) {\r\n    if (timestamp === null || this.isStop === true) {\r\n      opts.onProcess && opts.onProcess(1);\r\n      opts.onAnimationFinish && opts.onAnimationFinish();\r\n      return;\r\n    }\r\n    if (startTimeStamp === null) {\r\n      startTimeStamp = timestamp;\r\n    }\r\n    if (timestamp - startTimeStamp < opts.duration) {\r\n      var process = (timestamp - startTimeStamp) / opts.duration;\r\n      var timingFunction = Timing[opts.timing];\r\n      process = timingFunction(process);\r\n      opts.onProcess && opts.onProcess(process);\r\n      animationFrame(_step, delay);\r\n    } else {\r\n      opts.onProcess && opts.onProcess(1);\r\n      opts.onAnimationFinish && opts.onAnimationFinish();\r\n    }\r\n  };\r\n  _step = _step.bind(this);\r\n  animationFrame(_step, delay);\r\n}\r\n\r\nAnimation.prototype.stop = function() {\r\n  this.isStop = true;\r\n};\r\n\r\nfunction drawCharts(type, opts, config, context) {\r\n  var _this = this;\r\n  var series = opts.series;\r\n  //兼容ECharts饼图类数据格式\r\n  if (type === 'pie' || type === 'ring' || type === 'rose' || type === 'funnel') {\r\n    series = fixPieSeries(series, opts, config);\r\n  }\r\n  var categories = opts.categories;\r\n  series = fillSeries(series, opts, config);\r\n  var duration = opts.animation ? opts.duration : 0;\r\n  _this.animationInstance && _this.animationInstance.stop();\r\n  var seriesMA = null;\r\n  if (type == 'candle') {\r\n    let average = assign({}, opts.extra.candle.average);\r\n    if (average.show) {\r\n      seriesMA = calCandleMA(average.day, average.name, average.color, series[0].data);\r\n      seriesMA = fillSeries(seriesMA, opts, config);\r\n      opts.seriesMA = seriesMA;\r\n    } else if (opts.seriesMA) {\r\n      seriesMA = opts.seriesMA = fillSeries(opts.seriesMA, opts, config);\r\n    } else {\r\n      seriesMA = series;\r\n    }\r\n  } else {\r\n    seriesMA = series;\r\n  }\r\n  /* 过滤掉show=false的series */\r\n  opts._series_ = series = filterSeries(series);\r\n  //重新计算图表区域\r\n  opts.area = new Array(4);\r\n  //复位绘图区域\r\n  for (let j = 0; j < 4; j++) {\r\n    opts.area[j] = opts.padding[j] * opts.pix;\r\n  }\r\n  //通过计算三大区域：图例、X轴、Y轴的大小，确定绘图区域\r\n  var _calLegendData = calLegendData(seriesMA, opts, config, opts.chartData, context),\r\n    legendHeight = _calLegendData.area.wholeHeight,\r\n    legendWidth = _calLegendData.area.wholeWidth;\r\n\r\n  switch (opts.legend.position) {\r\n    case 'top':\r\n      opts.area[0] += legendHeight;\r\n      break;\r\n    case 'bottom':\r\n      opts.area[2] += legendHeight;\r\n      break;\r\n    case 'left':\r\n      opts.area[3] += legendWidth;\r\n      break;\r\n    case 'right':\r\n      opts.area[1] += legendWidth;\r\n      break;\r\n  }\r\n\r\n  let _calYAxisData = {},\r\n    yAxisWidth = 0;\r\n  if (opts.type === 'line' || opts.type === 'column' || opts.type === 'area' || opts.type === 'mix' || opts.type === 'candle' || opts.type === 'scatter'  || opts.type === 'bubble' || opts.type === 'bar') {\r\n      _calYAxisData = calYAxisData(series, opts, config, context);\r\n      yAxisWidth = _calYAxisData.yAxisWidth;\r\n    //如果显示Y轴标题\r\n    if (opts.yAxis.showTitle) {\r\n      let maxTitleHeight = 0;\r\n      for (let i = 0; i < opts.yAxis.data.length; i++) {\r\n        maxTitleHeight = Math.max(maxTitleHeight, opts.yAxis.data[i].titleFontSize ? opts.yAxis.data[i].titleFontSize * opts.pix : config.fontSize)\r\n      }\r\n      opts.area[0] += maxTitleHeight;\r\n    }\r\n    let rightIndex = 0,\r\n      leftIndex = 0;\r\n    //计算主绘图区域左右位置\r\n    for (let i = 0; i < yAxisWidth.length; i++) {\r\n      if (yAxisWidth[i].position == 'left') {\r\n        if (leftIndex > 0) {\r\n          opts.area[3] += yAxisWidth[i].width + opts.yAxis.padding * opts.pix;\r\n        } else {\r\n          opts.area[3] += yAxisWidth[i].width;\r\n        }\r\n        leftIndex += 1;\r\n      } else if (yAxisWidth[i].position == 'right') {\r\n        if (rightIndex > 0) {\r\n          opts.area[1] += yAxisWidth[i].width + opts.yAxis.padding * opts.pix;\r\n        } else {\r\n          opts.area[1] += yAxisWidth[i].width;\r\n        }\r\n        rightIndex += 1;\r\n      }\r\n    }\r\n  } else {\r\n    config.yAxisWidth = yAxisWidth;\r\n  }\r\n  opts.chartData.yAxisData = _calYAxisData;\r\n\r\n  if (opts.categories && opts.categories.length && opts.type !== 'radar' && opts.type !== 'gauge' && opts.type !== 'bar') {\r\n    opts.chartData.xAxisData = getXAxisPoints(opts.categories, opts, config);\r\n    let _calCategoriesData = calCategoriesData(opts.categories, opts, config, opts.chartData.xAxisData.eachSpacing, context),\r\n      xAxisHeight = _calCategoriesData.xAxisHeight,\r\n      angle = _calCategoriesData.angle;\r\n    config.xAxisHeight = xAxisHeight;\r\n    config._xAxisTextAngle_ = angle;\r\n    opts.area[2] += xAxisHeight;\r\n    opts.chartData.categoriesData = _calCategoriesData;\r\n  } else {\r\n    if (opts.type === 'line' || opts.type === 'area' || opts.type === 'scatter' || opts.type === 'bubble' || opts.type === 'bar') {\r\n      opts.chartData.xAxisData = calXAxisData(series, opts, config, context);\r\n      categories = opts.chartData.xAxisData.rangesFormat;\r\n      let _calCategoriesData = calCategoriesData(categories, opts, config, opts.chartData.xAxisData.eachSpacing, context),\r\n        xAxisHeight = _calCategoriesData.xAxisHeight,\r\n        angle = _calCategoriesData.angle;\r\n      config.xAxisHeight = xAxisHeight;\r\n      config._xAxisTextAngle_ = angle;\r\n      opts.area[2] += xAxisHeight;\r\n      opts.chartData.categoriesData = _calCategoriesData;\r\n    } else {\r\n      opts.chartData.xAxisData = {\r\n        xAxisPoints: []\r\n      };\r\n    }\r\n  }\r\n  //计算右对齐偏移距离\r\n  if (opts.enableScroll && opts.xAxis.scrollAlign == 'right' && opts._scrollDistance_ === undefined) {\r\n    let offsetLeft = 0,\r\n      xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n      startX = opts.chartData.xAxisData.startX,\r\n      endX = opts.chartData.xAxisData.endX,\r\n      eachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n    let totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n    let screenWidth = endX - startX;\r\n    offsetLeft = screenWidth - totalWidth;\r\n    _this.scrollOption = {\r\n      currentOffset: offsetLeft,\r\n      startTouchX: offsetLeft,\r\n      distance: 0,\r\n      lastMoveTime: 0\r\n    };\r\n    opts._scrollDistance_ = offsetLeft;\r\n  }\r\n\r\n  if (type === 'pie' || type === 'ring' || type === 'rose') {\r\n    config._pieTextMaxLength_ = opts.dataLabel === false ? 0 : getPieTextMaxLength(seriesMA, config, context, opts);\r\n  }\r\n  switch (type) {\r\n    case 'word':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawWordCloudDataPoints(series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'map':\r\n      context.clearRect(0, 0, opts.width, opts.height);\r\n      drawMapDataPoints(series, opts, config, context);\r\n      break;\r\n    case 'funnel':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.funnelData = drawFunnelDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'line':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawLineDataPoints = drawLineDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawLineDataPoints.xAxisPoints,\r\n            calPoints = _drawLineDataPoints.calPoints,\r\n            eachSpacing = _drawLineDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'scatter':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawScatterDataPoints = drawScatterDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawScatterDataPoints.xAxisPoints,\r\n            calPoints = _drawScatterDataPoints.calPoints,\r\n            eachSpacing = _drawScatterDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'bubble':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawBubbleDataPoints = drawBubbleDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawBubbleDataPoints.xAxisPoints,\r\n            calPoints = _drawBubbleDataPoints.calPoints,\r\n            eachSpacing = _drawBubbleDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'mix':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawMixDataPoints = drawMixDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawMixDataPoints.xAxisPoints,\r\n            calPoints = _drawMixDataPoints.calPoints,\r\n            eachSpacing = _drawMixDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'column':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawColumnDataPoints = drawColumnDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawColumnDataPoints.xAxisPoints,\r\n            calPoints = _drawColumnDataPoints.calPoints,\r\n            eachSpacing = _drawColumnDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'bar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawBarDataPoints = drawBarDataPoints(series, opts, config, context, process),\r\n            yAxisPoints = _drawBarDataPoints.yAxisPoints,\r\n            calPoints = _drawBarDataPoints.calPoints,\r\n            eachSpacing = _drawBarDataPoints.eachSpacing;\r\n          opts.chartData.yAxisPoints = yAxisPoints;\r\n          opts.chartData.xAxisPoints = opts.chartData.xAxisData.xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, yAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'area':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawAreaDataPoints = drawAreaDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawAreaDataPoints.xAxisPoints,\r\n            calPoints = _drawAreaDataPoints.calPoints,\r\n            eachSpacing = _drawAreaDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'ring':\r\n    case 'pie':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'rose':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.pieData = drawRoseDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'radar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.radarData = drawRadarDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'arcbar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.arcbarData = drawArcbarDataPoints(series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'gauge':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.gaugeData = drawGaugeDataPoints(categories, series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'candle':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawCandleDataPoints = drawCandleDataPoints(series, seriesMA, opts, config, context, process),\r\n            xAxisPoints = _drawCandleDataPoints.xAxisPoints,\r\n            calPoints = _drawCandleDataPoints.calPoints,\r\n            eachSpacing = _drawCandleDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          if (seriesMA) {\r\n            drawLegend(seriesMA, opts, config, context, opts.chartData);\r\n          } else {\r\n            drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          }\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n  }\r\n}\r\n\r\nfunction uChartsEvent() {\r\n  this.events = {};\r\n}\r\n\r\nuChartsEvent.prototype.addEventListener = function(type, listener) {\r\n  this.events[type] = this.events[type] || [];\r\n  this.events[type].push(listener);\r\n};\r\n\r\nuChartsEvent.prototype.delEventListener = function(type) {\r\n  this.events[type] = [];\r\n};\r\n\r\nuChartsEvent.prototype.trigger = function() {\r\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n  var type = args[0];\r\n  var params = args.slice(1);\r\n  if (!!this.events[type]) {\r\n    this.events[type].forEach(function(listener) {\r\n      try {\r\n        listener.apply(null, params);\r\n      } catch (e) {\r\n          //console.log('[uCharts] '+e);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nvar uCharts = function uCharts(opts) {\r\n  opts.pix = opts.pixelRatio ? opts.pixelRatio : 1;\r\n  opts.fontSize = opts.fontSize ? opts.fontSize : 13;\r\n  opts.fontColor = opts.fontColor ? opts.fontColor : config.fontColor;\r\n  if (opts.background == \"\" || opts.background == \"none\") {\r\n    opts.background = \"#FFFFFF\"\r\n  }\r\n  opts.title = assign({}, opts.title);\r\n  opts.subtitle = assign({}, opts.subtitle);\r\n  opts.duration = opts.duration ? opts.duration : 1000;\r\n  opts.yAxis = assign({}, {\r\n    data: [],\r\n    showTitle: false,\r\n    disabled: false,\r\n    disableGrid: false,\r\n    splitNumber: 5,\r\n    gridType: 'solid',\r\n    dashLength: 4 * opts.pix,\r\n    gridColor: '#cccccc',\r\n    padding: 10,\r\n    fontColor: '#666666'\r\n  }, opts.yAxis);\r\n  opts.xAxis = assign({}, {\r\n    rotateLabel: false,\r\n    disabled: false,\r\n    disableGrid: false,\r\n    splitNumber: 5,\r\n    calibration:false,\r\n    gridType: 'solid',\r\n    dashLength: 4,\r\n    scrollAlign: 'left',\r\n    boundaryGap: 'center',\r\n    axisLine: true,\r\n    axisLineColor: '#cccccc'\r\n  }, opts.xAxis);\r\n  opts.xAxis.scrollPosition = opts.xAxis.scrollAlign;\r\n  opts.legend = assign({}, {\r\n    show: true,\r\n    position: 'bottom',\r\n    float: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0)',\r\n    borderColor: 'rgba(0,0,0,0)',\r\n    borderWidth: 0,\r\n    padding: 5,\r\n    margin: 5,\r\n    itemGap: 10,\r\n    fontSize: opts.fontSize,\r\n    lineHeight: opts.fontSize,\r\n    fontColor: opts.fontColor,\r\n    formatter: {},\r\n    hiddenColor: '#CECECE'\r\n  }, opts.legend);\r\n  opts.extra = assign({}, opts.extra);\r\n  opts.rotate = opts.rotate ? true : false;\r\n  opts.animation = opts.animation ? true : false;\r\n  opts.rotate = opts.rotate ? true : false;\r\n  opts.canvas2d = opts.canvas2d ? true : false;\r\n  \r\n  let config$$1 = JSON.parse(JSON.stringify(config));\r\n  config$$1.color = opts.color ? opts.color : config$$1.color;\r\n  config$$1.yAxisTitleWidth = opts.yAxis.disabled !== true && opts.yAxis.title ? config$$1.yAxisTitleWidth : 0;\r\n  if (opts.type == 'pie') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.pie.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  if (opts.type == 'ring') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.ring.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  if (opts.type == 'rose') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.rose.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  config$$1.pieChartTextPadding = opts.dataLabel === false ? 0 : config$$1.pieChartTextPadding * opts.pix;\r\n  config$$1.yAxisSplit = opts.yAxis.splitNumber ? opts.yAxis.splitNumber : config.yAxisSplit;\r\n\r\n  //屏幕旋转\r\n  config$$1.rotate = opts.rotate;\r\n  if (opts.rotate) {\r\n    let tempWidth = opts.width;\r\n    let tempHeight = opts.height;\r\n    opts.width = tempHeight;\r\n    opts.height = tempWidth;\r\n  }\r\n\r\n  //适配高分屏\r\n  opts.padding = opts.padding ? opts.padding : config$$1.padding;\r\n  config$$1.yAxisWidth = config.yAxisWidth * opts.pix;\r\n  config$$1.xAxisHeight = config.xAxisHeight * opts.pix;\r\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\r\n    config$$1.xAxisHeight += 6 * opts.pix;\r\n  }\r\n  config$$1.xAxisLineHeight = config.xAxisLineHeight * opts.pix;\r\n  config$$1.fontSize = opts.fontSize * opts.pix;\r\n  config$$1.titleFontSize = config.titleFontSize * opts.pix;\r\n  config$$1.subtitleFontSize = config.subtitleFontSize * opts.pix;\r\n  config$$1.toolTipPadding = config.toolTipPadding * opts.pix;\r\n  config$$1.toolTipLineHeight = config.toolTipLineHeight * opts.pix;\r\n  config$$1.columePadding = config.columePadding * opts.pix;\r\n  //this.context = opts.context ? opts.context : uni.createCanvasContext(opts.canvasId, opts.$this);\r\n  //v2.0版本后需要自行获取context并传入opts进行初始化，这么做是为了确保uCharts可以跨更多端使用，并保证了自定义组件this实例不被循环嵌套。如果您觉得不便请取消上面注释，采用v1.0版本的方式使用，对此给您带来的不便敬请谅解！\r\n  if(!opts.context){\r\n    throw new Error('[uCharts] 未获取到context！注意：v2.0版本后，需要自行获取canvas的绘图上下文并传入opts.context！');\r\n  }\r\n  this.context = opts.context;\r\n  if (!this.context.setTextAlign) {\r\n    this.context.setStrokeStyle = function(e) {\r\n      return this.strokeStyle = e;\r\n    }\r\n    this.context.setLineWidth = function(e) {\r\n      return this.lineWidth = e;\r\n    }\r\n    this.context.setLineCap = function(e) {\r\n      return this.lineCap = e;\r\n    }\r\n    this.context.setFontSize = function(e) {\r\n      return this.font = e + \"px sans-serif\";\r\n    }\r\n    this.context.setFillStyle = function(e) {\r\n      return this.fillStyle = e;\r\n    }\r\n    this.context.setTextAlign = function(e) {\r\n      return this.textAlign = e;\r\n    }\r\n    this.context.draw = function() {}\r\n  }\r\n  //兼容NVUEsetLineDash\r\n  if(!this.context.setLineDash){\r\n    this.context.setLineDash = function(e) {}\r\n  }\r\n  opts.chartData = {};\r\n  this.uevent = new uChartsEvent();\r\n  this.scrollOption = {\r\n    currentOffset: 0,\r\n    startTouchX: 0,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  this.opts = opts;\r\n  this.config = config$$1;\r\n  drawCharts.call(this, opts.type, opts, config$$1, this.context);\r\n};\r\n\r\nuCharts.prototype.updateData = function() {\r\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n  this.opts = assign({}, this.opts, data);\r\n  this.opts.updateData = true;\r\n  let scrollPosition = data.scrollPosition || 'current';\r\n  switch (scrollPosition) {\r\n    case 'current':\r\n      //this.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n      break;\r\n    case 'left':\r\n      this.opts._scrollDistance_ = 0;\r\n      this.scrollOption = {\r\n        currentOffset: 0,\r\n        startTouchX: 0,\r\n        distance: 0,\r\n        lastMoveTime: 0\r\n      };\r\n      break;\r\n    case 'right':\r\n      let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config, this.context), yAxisWidth = _calYAxisData.yAxisWidth;\r\n      this.config.yAxisWidth = yAxisWidth;\r\n      let offsetLeft = 0;\r\n      let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config), xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n        startX = _getXAxisPoints0.startX,\r\n        endX = _getXAxisPoints0.endX,\r\n        eachSpacing = _getXAxisPoints0.eachSpacing;\r\n      let totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n      let screenWidth = endX - startX;\r\n      offsetLeft = screenWidth - totalWidth;\r\n      this.scrollOption = {\r\n        currentOffset: offsetLeft,\r\n        startTouchX: offsetLeft,\r\n        distance: 0,\r\n        lastMoveTime: 0\r\n      };\r\n      this.opts._scrollDistance_ = offsetLeft;\r\n      break;\r\n  }\r\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.zoom = function() {\r\n  var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.opts.xAxis.itemCount;\r\n  if (this.opts.enableScroll !== true) {\r\n    console.log('[uCharts] 请启用滚动条后使用')\r\n    return;\r\n  }\r\n  //当前屏幕中间点\r\n  let centerPoint = Math.round(Math.abs(this.scrollOption.currentOffset) / this.opts.chartData.eachSpacing) + Math.round(this.opts.xAxis.itemCount / 2);\r\n  this.opts.animation = false;\r\n  this.opts.xAxis.itemCount = val.itemCount;\r\n  //重新计算x轴偏移距离\r\n  let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config, this.context),\r\n    yAxisWidth = _calYAxisData.yAxisWidth;\r\n  this.config.yAxisWidth = yAxisWidth;\r\n  let offsetLeft = 0;\r\n  let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\r\n    xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n    startX = _getXAxisPoints0.startX,\r\n    endX = _getXAxisPoints0.endX,\r\n    eachSpacing = _getXAxisPoints0.eachSpacing;\r\n  let centerLeft = eachSpacing * centerPoint;\r\n  let screenWidth = endX - startX;\r\n  let MaxLeft = screenWidth - eachSpacing * (xAxisPoints.length - 1);\r\n  offsetLeft = screenWidth / 2 - centerLeft;\r\n  if (offsetLeft > 0) {\r\n    offsetLeft = 0;\r\n  }\r\n  if (offsetLeft < MaxLeft) {\r\n    offsetLeft = MaxLeft;\r\n  }\r\n  this.scrollOption = {\r\n    currentOffset: offsetLeft,\r\n    startTouchX: offsetLeft,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  this.opts._scrollDistance_ = offsetLeft;\r\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.stopAnimation = function() {\r\n  this.animationInstance && this.animationInstance.stop();\r\n};\r\n\r\nuCharts.prototype.addEventListener = function(type, listener) {\r\n  this.uevent.addEventListener(type, listener);\r\n};\r\n\r\nuCharts.prototype.delEventListener = function(type) {\r\n  this.uevent.delEventListener(type);\r\n};\r\n\r\nuCharts.prototype.getCurrentDataIndex = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    let _touches$ = getTouches(touches, this.opts, e);\r\n    if (this.opts.type === 'pie' || this.opts.type === 'ring') {\r\n      return findPieChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.pieData, this.opts);\r\n    } else if (this.opts.type === 'rose') {\r\n      return findRoseChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.pieData, this.opts);\r\n    } else if (this.opts.type === 'radar') {\r\n      return findRadarChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.radarData, this.opts.categories.length);\r\n    } else if (this.opts.type === 'funnel') {\r\n      return findFunnelChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.funnelData);\r\n    } else if (this.opts.type === 'map') {\r\n      return findMapChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts);\r\n    } else if (this.opts.type === 'word') {\r\n      return findWordChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.wordCloudData);\r\n    } else if (this.opts.type === 'bar') {\r\n      return findBarChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\r\n    } else {\r\n      return findCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\r\n    }\r\n  }\r\n  return -1;\r\n};\r\n\r\nuCharts.prototype.getLegendDataIndex = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    let _touches$ = getTouches(touches, this.opts, e);\r\n    return findLegendIndex({\r\n      x: _touches$.x,\r\n      y: _touches$.y\r\n    }, this.opts.chartData.legendData);\r\n  }\r\n  return -1;\r\n};\r\n\r\nuCharts.prototype.touchLegend = function(e) {\r\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    var _touches$ = getTouches(touches, this.opts, e);\r\n    var index = this.getLegendDataIndex(e);\r\n    if (index >= 0) {\r\n      if (this.opts.type == 'candle') {\r\n        this.opts.seriesMA[index].show = !this.opts.seriesMA[index].show;\r\n      } else {\r\n        this.opts.series[index].show = !this.opts.series[index].show;\r\n      }\r\n      this.opts.animation = option.animation ? true : false;\r\n      this.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n      drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n    }\r\n  }\r\n\r\n};\r\n\r\nuCharts.prototype.showToolTip = function(e) {\r\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (!touches) {\r\n    console.log(\"[uCharts] 未获取到event坐标信息\");\r\n  }\r\n  var _touches$ = getTouches(touches, this.opts, e);\r\n  var currentOffset = this.scrollOption.currentOffset;\r\n  var opts = assign({}, this.opts, {\r\n    _scrollDistance_: currentOffset,\r\n    animation: false\r\n  });\r\n  if (this.opts.type === 'line' || this.opts.type === 'area' || this.opts.type === 'column' || this.opts.type === 'scatter' || this.opts.type === 'bubble') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1 || index.length>0) {\r\n      var seriesData = getSeriesDataItem(this.opts.series, index, current.group);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getToolTipData(seriesData, this.opts, index, current.group, this.opts.categories, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList !== undefined ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'bar') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1 || index.length>0) {\r\n      var seriesData = getSeriesDataItem(this.opts.series, index, current.group);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getToolTipData(seriesData, this.opts, index, current.group, this.opts.categories, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.x = _touches$.x;\r\n        opts.tooltip = {\r\n          textList: option.textList !== undefined ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'mix') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1) {\r\n      var currentOffset = this.scrollOption.currentOffset;\r\n      var opts = assign({}, this.opts, {\r\n        _scrollDistance_: currentOffset,\r\n        animation: false\r\n      });\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var _getMixToolTipData = getMixToolTipData(seriesData, this.opts, index, this.opts.categories, option),\r\n          textList = _getMixToolTipData.textList,\r\n          offset = _getMixToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'candle') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1) {\r\n      var currentOffset = this.scrollOption.currentOffset;\r\n      var opts = assign({}, this.opts, {\r\n        _scrollDistance_: currentOffset,\r\n        animation: false\r\n      });\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getCandleToolTipData(this.opts.series[0].data, seriesData, this.opts, index, this.opts.categories, this.opts.extra.candle, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose' || this.opts.type === 'funnel') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, opts._series_[index]);\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, opts) : seriesData.name + ': ' + seriesData.data,\r\n        color: seriesData.color\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'map') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, this.opts.series[index]);\r\n      seriesData.name = seriesData.properties.name\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, this.opts) : seriesData.name,\r\n        color: seriesData.color\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    opts.updateData = false;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'word') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, this.opts.series[index]);\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, this.opts) : seriesData.name,\r\n        color: seriesData.color\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    opts.updateData = false;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'radar') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var textList = seriesData.map((item) => {\r\n          return {\r\n            text: option.formatter ? option.formatter(item, this.opts.categories[index], index, this.opts) : item.name + ': ' + item.data,\r\n            color: item.color\r\n          };\r\n        });\r\n        var offset = {\r\n          x: _touches$.x,\r\n          y: _touches$.y\r\n        };\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n};\r\n\r\nuCharts.prototype.translate = function(distance) {\r\n  this.scrollOption = {\r\n    currentOffset: distance,\r\n    startTouchX: distance,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  let opts = assign({}, this.opts, {\r\n    _scrollDistance_: distance,\r\n    animation: false\r\n  });\r\n  drawCharts.call(this, this.opts.type, opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.scrollStart = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  var _touches$ = getTouches(touches, this.opts, e);\r\n  if (touches && this.opts.enableScroll === true) {\r\n    this.scrollOption.startTouchX = _touches$.x;\r\n  }\r\n};\r\n\r\nuCharts.prototype.scroll = function(e) {\r\n  if (this.scrollOption.lastMoveTime === 0) {\r\n    this.scrollOption.lastMoveTime = Date.now();\r\n  }\r\n  let Limit = this.opts.touchMoveLimit || 60;\r\n  let currMoveTime = Date.now();\r\n  let duration = currMoveTime - this.scrollOption.lastMoveTime;\r\n  if (duration < Math.floor(1000 / Limit)) return;\r\n  this.scrollOption.lastMoveTime = currMoveTime;\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches && this.opts.enableScroll === true) {\r\n    var _touches$ = getTouches(touches, this.opts, e);\r\n    var _distance;\r\n    _distance = _touches$.x - this.scrollOption.startTouchX;\r\n    var currentOffset = this.scrollOption.currentOffset;\r\n    var validDistance = calValidDistance(this, currentOffset + _distance, this.opts.chartData, this.config, this.opts);\r\n    this.scrollOption.distance = _distance = validDistance - currentOffset;\r\n    var opts = assign({}, this.opts, {\r\n      _scrollDistance_: currentOffset + _distance,\r\n      animation: false\r\n    });\r\n\t\tthis.opts = opts;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n    return currentOffset + _distance;\r\n  }\r\n};\r\n\r\nuCharts.prototype.scrollEnd = function(e) {\r\n  if (this.opts.enableScroll === true) {\r\n    var _scrollOption = this.scrollOption,\r\n      currentOffset = _scrollOption.currentOffset,\r\n      distance = _scrollOption.distance;\r\n    this.scrollOption.currentOffset = currentOffset + distance;\r\n    this.scrollOption.distance = 0;\r\n  }\r\n};\r\n\r\nexport default uCharts;"],"sourceRoot":""}