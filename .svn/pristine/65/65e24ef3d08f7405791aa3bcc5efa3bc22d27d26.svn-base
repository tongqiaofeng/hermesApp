require('./common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["hermes/details"],{253:function(e,t,n){"use strict";(function(e){n(5);i(n(3));var t=i(n(254));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},254:function(e,t,n){"use strict";n.r(t);var i=n(255),a=n(257);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n(259);var o,r=n(11),c=Object(r["default"])(a["default"],i["render"],i["staticRenderFns"],!1,null,"185fc067",null,!1,i["components"],o);c.options.__file="hermes/details.vue",t["default"]=c.exports},255:function(e,t,n){"use strict";n.r(t);var i=n(256);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},256:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return o})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return i}));try{i={uniSwiperDot:function(){return n.e("uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot").then(n.bind(null,446))},uniSegmentedControl:function(){return n.e("uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control").then(n.bind(null,474))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement,n=(e._self._c,"admin"==e.role?e.formatNumberRgx(e.bagDetails.priceIndi):null),i="admin"==e.role?e.formatNumberRgx(e.bagDetails.cnPriceIndi):null,a="admin"!=e.role?e.formatNumberRgx(e.bagDetails.priceIndi):null,s="admin"==e.role?e.ensignReSel(e.bagDetails.stockLoc):null,o=e.bagDetails.stockStat?e.bagDetails.stockStat.split("|"):null,r=1==e.tabSelType&&e.bagDetails.cost?e.formatNumberRgx(e.bagDetails.cost):null,c=1==e.tabSelType&&e.bagDetails.cost&&"admin"==e.role?e.formatNumberRgx(e.bagDetails.cnCost):null,l=1==e.tabSelType&&e.bagDetails.pricePeer&&0!=e.bagDetails.pricePeer?e.formatNumberRgx(e.bagDetails.pricePeer):null,u=1==e.tabSelType&&e.bagDetails.pricePeer&&0!=e.bagDetails.pricePeer&&"admin"==e.role?e.formatNumberRgx(e.bagDetails.cnPricePeer):null,d=2==e.tabSelType&&e.bagDetails.saleTotalHkPrice?e.formatNumberRgx(e.bagDetails.saleTotalHkPrice):null,m=2==e.tabSelType&&e.bagDetails.saleTotalHkPrice&&"admin"==e.role?e.formatNumberRgx(e.bagDetails.saleTotalCnPrice):null,g=2==e.tabSelType&&e.bagDetails.saleTotalHkPrice&&e.bagDetails.cost?e.formatNumberRgx(e.bagDetails.saleTotalHkPrice-e.bagDetails.cost):null,h=2==e.tabSelType&&e.bagDetails.saleTotalHkPrice&&e.bagDetails.cost&&"admin"==e.role?e.formatNumberRgx(e.bagDetails.saleTotalCnPrice-e.bagDetails.cnCost):null,f=3==e.tabSelType&&e.bagDetails.allPaymentList.length>0?e.__map(e.bagDetails.allPaymentList,(function(t,n){var i=e.__get_orig(t),a=e.getTradeType(t.tradeType),s=e.formatNumberRgx(t.totalHkPrice),o=e.getRateDesc(t);return{$orig:i,m12:a,m13:s,m14:o}})):null;e.$mp.data=Object.assign({},{$root:{m0:n,m1:i,m2:a,m3:s,l0:o,m4:r,m5:c,m6:l,m7:u,m8:d,m9:m,m10:g,m11:h,l1:f}})},s=!1,o=[];a._withStripped=!0},257:function(e,t,n){"use strict";n.r(t);var i=n(258),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},258:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(125));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,i,a,s,o){try{var r=e[s](o),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(i,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){s(o,i,a,r,c,"next",e)}function c(e){s(o,i,a,r,c,"throw",e)}r(void 0)}))}}var r={data:function(){return{role:"",token:"",currency:"",bagDetails:{},imgSrc:[],imgSrc2:[],dotsStyles:{width:6,height:6,backgroundColor:"#fff",border:"#fff",selectedBackgroundColor:"#b0edd5",selectedBorder:"#b0edd5"},current:0,current2:0,collect1:n(128),collect2:n(129),tabItems:["参数"],tabCurrent:0,tabSelType:0,isShow:"0",detailId:null,share:{title:"PAULIANA 宝莉安娜高级珠宝",path:"/hermes/details?id="+this.detailId,imageUrl:"",desc:"",content:""},commentText:"",comments:[{id:1,avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fn.sinaimg.cn%2Ffront%2F625%2Fw750h675%2F20181203%2FSpxg-hpfycet1340001.jpg&refer=http%3A%2F%2Fn.sinaimg.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1632368686&t=d5b13d9d26b2d4e3c68869b7ebf9a0a2",nickname:"name#zzz",content:"我是评论。",addTime:"2021-07-02 16:32:07",isLike:"0",likeNums:26,layer:1,superNickname:null,superCommentId:null,children:[{id:2,avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage.biaobaiju.com%2Fuploads%2F20181223%2F20%2F1545567880-shRzoBCgMS.jpeg&refer=http%3A%2F%2Fimage.biaobaiju.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1632368686&t=f13fdaeeea26a9418a8e1f9c4a9871cb",nickname:"程序猿2",content:"我是回复。",addTime:"2021-07-04 16:36:07",isLike:"0",likeNums:23,layer:2,superNickname:"name#zzz",superCommentId:1},{id:3,avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fcdn.duitang.com%2Fuploads%2Fitem%2F201412%2F29%2F20141229151653_HiM8B.thumb.700_0.jpeg&refer=http%3A%2F%2Fcdn.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1632368686&t=61f92b50ef164aafbeb129dbdb18b369",nickname:"马老师",content:"我是回复的回复。",addTime:"2021-07-05 17:32:07",isLike:"1",likeNums:22,layer:3,superNickname:"程序猿2",superCommentId:1}]},{id:4,avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20171221%2F2a14e6b09df846a1908379c06045ba96.jpeg&refer=http%3A%2F%2F5b0988e595225.cdn.sohucs.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1632637245&t=c19e2df2da655bef5167ce9cf53ff77e",nickname:"昵称超长常常常常常长常常常常常",content:"我是评论2222。",addTime:"2021-05-02 12:12:17",isLike:"0",likeNums:23,layer:1,superNickname:null,superCommentId:null,children:[]}]}},onLoad:function(t){var n=this;return o(i.default.mark((function a(){return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$onLaunched;case 2:n.role=e.getStorageSync("role"),n.token=e.getStorageSync("token"),n.currency=getApp().globalData.userInfo.currency,n.detailId=t.id,n.getDetails(t.id);case 7:case"end":return i.stop()}}),a)})))()},onReady:function(){this.hidePageNavInWechatBrowser()},onPullDownRefresh:function(){e.showLoading({title:"正在刷新"}),this.getDetails(this.detailId),e.stopPullDownRefresh()},onShareAppMessage:function(t){return this.share.path="/hermes/details?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(t){e.showToast({title:"分享成功",icon:"none"})},fail:function(t){e.showToast({title:"分享失败",icon:"none"})}}},onShareTimeline:function(t){return this.share.path="/hermes/details?id="+this.detailId,{title:this.share.title,path:this.share.path,imageUrl:this.share.imageUrl,desc:this.share.desc,content:this.share.content,success:function(t){e.showToast({title:"分享成功",icon:"none"})},fail:function(t){e.showToast({title:"分享失败",icon:"none"})}}},methods:{onClickTabItem:function(e){this.tabCurrent!=e.currentIndex&&(this.tabCurrent=e.currentIndex,"参数"==this.tabItems[this.tabCurrent]?this.tabSelType=0:"价格"==this.tabItems[this.tabCurrent]?this.tabSelType=1:"销售"==this.tabItems[this.tabCurrent]?this.tabSelType=2:"资金流"==this.tabItems[this.tabCurrent]?this.tabSelType=3:this.tabSelType=0)},commentLike:function(e){console.log("返回点击的评论信息",e)},commentSend:function(e,t){console.log("发送",e,t)},lower:function(){console.log("到底了")},reply:function(e,t,n,i,a){console.log(e,t,n,i,a)},isShowChange:function(e){console.log(e),"0"==this.isShow?this.isShow="1":"1"==this.isShow&&(this.isShow="0")},swiperChange:function(e){this.current=e.detail.current},swiperChange2:function(e){this.current2=e.detail.current},imagePreview:function(t){e.previewImage({current:t,urls:this.imgSrc})},imagePreview2:function(t){e.previewImage({current:t,urls:this.imgSrc2})},getDetails:function(t){var n=this;e.showLoading({title:"加载中......"}),e.request({url:this.$baseFileUrl+"/stockInfo?id="+t,header:{"content-type":"application/json",token:e.getStorageSync("token")},success:function(t){e.hideLoading(),console.log(t),n.bagDetails=t.data,e.setNavigationBarTitle({title:n.bagDetails.name});var i=t.data.pics.split("|");n.imgSrc=[];for(var a=0;a<i.length-1;a++)n.imgSrc.push(i[a].trim());if(n.imgSrc2=[],""!==t.data.privateImg&&null!==t.data.privateImg)for(var s=t.data.privateImg.split("|"),o=0;o<s.length-1;o++)n.imgSrc2.push(s[o].trim());n.setTabItem()},fail:function(t){e.hideLoading(),console.log(t)}})},setTabItem:function(){this.tabItems=["参数"],(this.bagDetails.createTime||this.bagDetails.cost||this.bagDetails.pricePeer||this.bagDetails.note)&&this.tabItems.push("价格"),(this.bagDetails.soldTime||this.bagDetails.saleTotalHkPrice||this.bagDetails.customer)&&this.tabItems.push("销售"),this.bagDetails.allPaymentList.length>0&&this.tabItems.push("资金流")},getTradeType:function(e){return 0==e?"買入":1==e?"賣出":2==e?"轉賬":3==e?"買入退款":4==e?"賣出退款":5==e?"其他收入":6==e?"其他支出":7==e?"-":void 0},getRateDesc:function(e){return e.money>0?"【"+e.currency+" "+this.formatNumberRgx(e.money)+" / "+e.totalToHkRate+"】":""},goIndex:function(){e.switchTab({url:"../comm/index"})},isCollect:function(){var t=this;if(0==e.getStorageSync("token").length)e.showToast({title:"请登录",icon:"none",success:function(){e.switchTab({url:"../comm/mine"})}});else{console.log("添加与取消收藏");var n=[];n.push({id:this.bagDetails.id,type:0}),e.request({method:"POST",url:this.$baseUrl+"/wechat/api/favoriteSave",data:{stockList:n},header:{token:e.getStorageSync("token")},complete:function(e){console.log("添加与取消收藏"),console.log(e),0!=t.checkBack(e,!0)&&t.getDetails(t.bagDetails.id)}})}},serviceClick:function(){e.navigateTo({url:"../comm/service?id="+this.bagDetails.id})},addCart:function(){0==e.getStorageSync("token").length?e.showToast({title:"请登录",icon:"none",success:function(){e.switchTab({url:"../comm/mine"})}}):e.request({url:this.$baseUrl+"/cart/api/shoppingCartAdd",method:"POST",header:{"content-type":"application/json",token:e.getStorageSync("token")},data:{id:this.bagDetails.id,num:1,productType:1},success:function(t){console.log("添加购物车"),console.log(t),200==t.statusCode?e.showToast({icon:"none",title:"添加成功"}):e.showToast({icon:"none",title:t.data.message})}})},sureOrder:function(){if(0==e.getStorageSync("token").length)e.showToast({title:"请登录",icon:"none",success:function(){e.switchTab({url:"../comm/mine"})}});else{var t=[{id:this.bagDetails.id,imgSrc:this.imgSrc[0],name:encodeURIComponent(this.bagDetails.name),price:this.bagDetails.cnPriceIndi,usPrice:this.bagDetails.usPriceIndi,num:1,currency:"CNY",productCategory:1}];console.log("跳转传参"),console.log(JSON.stringify(t)),e.navigateTo({url:"../order/confirmAnOrder?productList="+encodeURIComponent(JSON.stringify(t))})}}}};t.default=r}).call(this,n(1)["default"])},259:function(e,t,n){"use strict";n.r(t);var i=n(260),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},260:function(e,t,n){}},[[253,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/hermes/details.js.map