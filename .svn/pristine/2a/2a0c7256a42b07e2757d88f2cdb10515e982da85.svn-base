{"version":3,"sources":["uni-app:///main.js","webpack:///F:/UNI/hermesApp_Web/App.vue?fbb4","webpack:///F:/UNI/hermesApp_Web/App.vue?ee75","uni-app:///App.vue","webpack:///F:/UNI/hermesApp_Web/App.vue?eaff"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","config","productionTip","prototype","$baseUrl","$baseFileUrl","$chatServerUrl","ignoredElements","push","checkBack","ret","bShwoTip","statusCode","uni","showToast","icon","title","data","message","duration","$onLaunched","Promise","resolve","$isResolve","checkLogin","console","log","getStorageSync","length","switchTab","url","setUserInfo","id","userInfo","userId","userRole","role","userToken","token","userNick","nick","userHeadPic","headPic","phoneNumber","username","totalIntegral","permissions","userPermissions","JSON","parse","currency","getApp","globalData","setStorageSync","g_chat","Chat","this","createTempChat","uuid","getClientUUID","userName","substring","setTimeout","formatNumberRgx","num","parts","toString","split","replace","join","ensignSel","require","currencySel","regionSel","region","ensignReSel","getPrice","noPrice","fixNum","undefined","String","splice","costPrice","num1","num2","sq1","sq2","multiple","e","Math","pow","max","getNoRepeatArry","arr","s1","Set","Array","from","deepClone","obj","_obj","stringify","objClone","hidePageNavInWechatBrowser","s","hexDigits","i","substr","floor","random","App","mpType","app","$mount","render","staticRenderFns","components","renderjs","component","options","__file"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\n\r\nimport Chat from \"@/static/js/chat.js\";\r\n\r\nVue.config.productionTip = false\r\n\r\n// Vue.prototype.$baseUrl = 'http://192.168.0.164:8081';\r\n// Vue.prototype.$baseFileUrl = 'http://192.168.0.164:8081/stock';\r\n// Vue.prototype.$chatServerUrl = 'ws://192.168.0.164:8090/chat';\r\n\r\n/* \r\nVue.prototype.$baseUrl = 'https://hk.wistechx.cn/HermesNewApi';\r\nVue.prototype.$baseFileUrl = 'http://test.wistechx.cn:9004/stock';\r\nVue.prototype.$baseFileUrl = 'https://hk.wistechx.cn/HermesApi';\r\n*/\r\n\r\nVue.prototype.$baseUrl = 'https://hk.wistechx.cn/HermesNewApi';\r\nVue.prototype.$baseFileUrl = 'https://hk.wistechx.cn/HermesApi';\r\n//Vue.prototype.$chatServerUrl = 'wss://hk.wistechx.cn:8099/chat';\r\nVue.prototype.$chatServerUrl = 'ws://192.168.0.118:8089/chat';\r\n// Vue.prototype.$chatServerUrl = 'wss://hk.wistechx.cn/HermesChat';\r\n\r\n\r\n// H5跳转小程序，微信官方推出的开放标签<wx-open-launch-weapp>\r\nVue.config.ignoredElements.push('wx-open-launch-weapp')\r\n\r\nVue.prototype.checkBack = function(ret, bShwoTip = 1) {\r\n\tif (ret.statusCode == 200) {\r\n\t\treturn true;\r\n\t} else if (bShwoTip == 1) {\r\n\t\tif (ret.statusCode == 400)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: ret.data.message,\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse if (ret.statusCode == 300)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: '请登录后再操作',\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: \"操作失败，请重试\",\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nVue.prototype.$onLaunched = new Promise(resolve => {\r\n\tVue.prototype.$isResolve = resolve;\r\n})\r\n\r\nVue.prototype.checkLogin = function() {\r\n\tconsole.log('要去登录')\r\n\tif (uni.getStorageSync('token').length == 0) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请先登录',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.switchTab({\r\n\t\t\turl: '/comm/mine'\r\n\t\t})\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nVue.prototype.setUserInfo = function(ret) {\r\n\tconsole.log('用户信息')\r\n\t//console.log(ret);\r\n\tif (ret.data.id == null)\r\n\t\treturn;\r\n\r\n\tlet userInfo = {};\r\n\tuserInfo.userId = ret.data.id;\r\n\tuserInfo.userRole = ret.data.role;\r\n\tuserInfo.userToken = ret.data.token;\r\n\tuserInfo.userNick = ret.data.nick;\r\n\tuserInfo.userHeadPic = ret.data.headPic;\r\n\tuserInfo.phoneNumber = ret.data.username;\r\n\tuserInfo.totalIntegral = ret.data.totalIntegral;\r\n\tif (ret.data.permissions)\r\n\t\tuserInfo.userPermissions = JSON.parse(ret.data.permissions);\r\n\telse\r\n\t\tuserInfo.userPermissions = {};\r\n\tuserInfo.currency = ret.data.currency;\r\n\r\n\t//console.log(userInfo);\r\n\r\n\tgetApp().globalData.userInfo = userInfo;\r\n\tuni.setStorageSync('userId', userInfo.userId);\r\n\tuni.setStorageSync(\"token\", userInfo.userToken);\r\n\tuni.setStorageSync(\"role\", userInfo.userRole);\r\n\tuni.setStorageSync(\"nick\", userInfo.userNick);\r\n\tuni.setStorageSync(\"headPic\", userInfo.userHeadPic);\r\n\tuni.setStorageSync(\"phoneNumber\", userInfo.phoneNumber);\r\n\tuni.setStorageSync(\"totalIntegral\", userInfo.totalIntegral);\r\n\r\n\t//WebSocket\r\n\tif(getApp().globalData.g_chat == null){\r\n\t\tgetApp().globalData.g_chat = new Chat(this.$chatServerUrl, 'TopTime', 'chat/list', 'chat/chat', 2);\r\n\t}\r\n\tgetApp().globalData.g_chat.setUserInfo(userInfo.userId, userInfo.userToken, userInfo.userNick, userInfo.userHeadPic);\r\n}\r\n\r\n//创建临时聊天\r\nVue.prototype.createTempChat = function() {\r\n\tif(getApp().globalData.g_chat == null){\r\n\t\tgetApp().globalData.g_chat = new Chat(this.$chatServerUrl, 'TopTime', 'chat/list', 'chat/chat', 2);\r\n\t}\r\n\tlet uuid = 'tempChat_' + this.getClientUUID();\r\n\t\r\n\tlet userName = '神秘人士' + uuid.substring(uuid.length - 4);\r\n\t\r\n\tsetTimeout(() => {\r\n\t\tgetApp().globalData.g_chat.setUserInfo(uuid, uuid, userName, '');\r\n\t}, 2000);\r\n\t\r\n\t\r\n}\r\n\r\n// 千分价格\r\nVue.prototype.formatNumberRgx = function(num) {\r\n\tif (num == \"\" || num == null || num == 0) {\r\n\t\treturn 0;\r\n\t} else {\r\n\t\tlet parts = num.toString().split(\".\");\r\n\t\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\t\treturn parts.join(\".\");\r\n\t}\r\n}\r\n\r\n// 国旗\r\nVue.prototype.ensignSel = function(currency) {\r\n\t// console.log(currency)\r\n\tswitch (currency) {\r\n\t\tcase \"CNY\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"HKD\":\r\n\t\t\treturn require(\"./static/imgs/common/HK.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"USD\":\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"EUR\":\r\n\t\t\treturn require(\"./static/imgs/common/ou.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"GBP\":\r\n\t\t\treturn require(\"./static/imgs/common/ying.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"AUD\":\r\n\t\t\treturn require(\"./static/imgs/common/ao.png\")\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// 币种\r\nVue.prototype.currencySel = function(currency) {\r\n\t// console.log(currency)\r\n\tswitch (currency) {\r\n\t\tcase \"1\":\r\n\t\t\treturn \"CNY\"\r\n\t\t\tbreak;\r\n\t\tcase \"2\":\r\n\t\t\treturn \"HKD\"\r\n\t\t\tbreak;\r\n\t\tcase \"3\":\r\n\t\t\treturn \"USD\"\r\n\t\t\tbreak;\r\n\t\tcase \"4\":\r\n\t\t\treturn \"EUR\"\r\n\t\t\tbreak;\r\n\t\tcase \"5\":\r\n\t\t\treturn \"GBP\"\r\n\t\t\tbreak;\r\n\t\tcase \"6\":\r\n\t\t\treturn \"AUD\"\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n/// 地区\r\nVue.prototype.regionSel = function(region) {\r\n\t// console.log(region)\r\n\tswitch (region) {\r\n\t\tcase \"香港\":\r\n\t\t\treturn \"HK\"\r\n\t\t\tbreak;\r\n\t\tcase \"大陆\":\r\n\t\t\treturn \"CN\"\r\n\t\t\tbreak;\r\n\t\tcase \"金边\":\r\n\t\t\treturn \"KH\"\r\n\t\t\tbreak;\r\n\t\tcase \"海外\":\r\n\t\t\treturn \"ABD\"\r\n\t\t\tbreak;\r\n\t\tcase \"成都\":\r\n\t\t\treturn \"CN\"\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn \"ABD\"\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// 地区国旗\r\nVue.prototype.ensignReSel = function(region) {\r\n\t// console.log(region)\r\n\tswitch (region) {\r\n\t\tcase \"大陆\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"成都\":\r\n\t\t\treturn require(\"./static/imgs/common/CN.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"香港\":\r\n\t\t\treturn require(\"./static/imgs/common/HK.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"金边\":\r\n\t\t\treturn require(\"./static/imgs/common/KH.png\")\r\n\t\t\tbreak;\r\n\t\tcase \"海外\":\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn require(\"./static/imgs/common/mei.png\")\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nVue.prototype.getPrice = function(num, currency, noPrice, fixNum) {\r\n\tconsole.log(num)\r\n\tif (noPrice == undefined)\r\n\t\tnoPrice = '--';\r\n\tif (num == null || num == \"null\" || num == \"\" || num == 0)\r\n\t\treturn noPrice;\r\n\r\n\tnum = String(num);\r\n\tif (fixNum == undefined)\r\n\t\tfixNum = 2;\r\n\r\n\tvar parts = num.toString().split(\".\");\r\n\tif (parts.length == 2) {\r\n\t\tif (fixNum == 0) {\r\n\t\t\tparts.splice(1, 1);\r\n\t\t} else if (parts[1].length > fixNum) {\r\n\t\t\tparts[1] = parts[1].substring(0, fixNum);\r\n\t\t}\r\n\t}\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\treturn currency + ' ' + parts.join(\".\");\r\n};\r\n\r\n// 利润\r\nVue.prototype.costPrice = function(num1, num2) {\r\n\tlet sq1, sq2, multiple;\r\n\ttry {\r\n\t\tsq1 = num1.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq1 = 0;\r\n\t}\r\n\ttry {\r\n\t\tsq2 = num2.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq2 = 0;\r\n\t}\r\n\tmultiple = Math.pow(10, Math.max(sq1, sq2) + 1);\r\n\treturn (num1 * multiple - num2 * multiple) / multiple;\r\n}\r\n\r\nVue.prototype.getNoRepeatArry = function(arr) {\r\n\tlet s1 = new Set(arr);\r\n\treturn Array.from(s1);\r\n\r\n}\r\n\r\nVue.prototype.deepClone = function(obj) {\r\n\tlet _obj = JSON.stringify(obj),\r\n\t\tobjClone = JSON.parse(_obj);\r\n\treturn objClone\r\n}\r\n\r\n//判断浏览器是否是微信浏览器\r\n//微信浏览器中打开H5隐藏顶部导航方法\r\nVue.prototype.hidePageNavInWechatBrowser = () => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n\r\nVue.prototype.getClientUUID = () => {\r\n\tlet uuid = uni.getStorageSync('TopTime_UUID');\r\n\tif(uuid.length != 32){\r\n\t\tvar s = [];\r\n\t\tvar hexDigits = \"0123456789abcdefABCDEFJKLMNXYZOP\";\r\n\t\tfor (var i = 0; i < 32; i++) {\r\n\t\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 32), 1);\r\n\t\t}\r\n\t\tuuid = s.join(\"\");\r\n\t\tuni.setStorageSync('TopTime_UUID', uuid);\r\n\t}\r\n\treturn uuid;\r\n};\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\t...App\r\n})\r\n\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tglobalData: {\r\n\t\t\tuserInfo: {\r\n\t\t\t\tuserId: 0,\r\n\t\t\t\tuserRole: \"\",\r\n\t\t\t\tuserToken: \"\",\r\n\t\t\t\tuserNick: \"\",\r\n\t\t\t\tuserHeadPic: \"\",\r\n\t\t\t\tphoneNumber: \"\",\r\n\t\t\t\tuserPermissions: \"\",\r\n\t\t\t\tcurrency: \"\",\r\n\t\t\t},\r\n\t\t\tcid: null,\r\n\t\t\tisWithinProgram: true,\r\n\t\t\tpageInItem:'',\r\n\t\t\t\r\n\t\t\tg_chat : null\r\n\t\t},\r\n\t\tonLaunch() {\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tlet token = uni.getStorageSync(\"token\");\r\n\t\t\tif (token) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tgetApp().globalData.token = token;\r\n\t\t\t\t\tgetApp().globalData.userId = uni.getStorageSync('userId');\r\n\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"APP升级更新\");\r\n\t\t\tconsole.log(plus.runtime);\r\n\t\t\t// \"appid\": plus.runtime.appid\r\n\t\t\tlet type = uni.getSystemInfoSync().platform;\r\n\t\t\tlet version = plus.runtime.version.split(\".\").join(\"\");\r\n\r\n\t\t\tlet req = {\r\n\t\t\t\t//升级检测数据\r\n\t\t\t\ttype: type,\r\n\t\t\t};\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.$baseUrl + \"/wechat/api/versionGet\",\r\n\t\t\t\tdata: req,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(\"APP升级更新信息获取成功\");\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.version != version) {\r\n\t\t\t\t\t\tthis.updateNew(res.data.url);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// 监听点击通知栏消息事件\r\n\t\t\tplus.push.addEventListener(\"click\", (message) => {\r\n\t\t\t\tconsole.log('点击通知栏消息进行对应跳转', message);\r\n\r\n\t\t\t\t// 清空系统通知栏中该应用的所有通知消息\r\n\t\t\t\tplus.push.clear();\r\n\t\t\t});\r\n\t\t\t// 透传消息： 即自定义消息，UniPush推送服务只负责消息传递，不做任何处理，客户端在接收到透传消息后需要自己去处理消息的展示方式或后续动作。\r\n\t\t\t// 监听接收透传消息事件，透传消息在系统通知栏中不显示，前端要进行显示处理\r\n\t\t\t// 符合格式的透传消息会自动显示在通知栏，应设置不符合格式的\r\n\t\t\tplus.push.addEventListener(\"receive\", (message) => {\r\n\t\t\t\tconsole.log('透传消息');\r\n\t\t\t\tconsole.log(message);\r\n\r\n\t\t\t\t// 判断不在app内，应用后台运行，创建本地消息并添加到系统通知栏\r\n\t\t\t\tif (getApp().globalData.isWithinProgram == false) {\r\n\t\t\t\t\t// let platform = uni.getSystemInfoSync().platform;\r\n\t\t\t\t\t// let content = JSON.parse(message.content);\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t// if (platform == \"ios\") {\r\n\t\t\t\t\t// \t//ios平台应用在前台时,不能收到通知消息,只能走透传,在创建一条本地消息\r\n\t\t\t\t\t// \tif (message.type == \"receive\") { // 这里判断触发的来源，否则一直推送。\r\n\t\t\t\t\t// \t\tplus.push.createMessage(content.contentText, JSON.stringify(message.payload), {\r\n\t\t\t\t\t// \t\t\ttitle: message.title\r\n\t\t\t\t\t// \t\t});\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// } else if (platform == 'android') {\r\n\t\t\t\t\t// \tplus.push.createMessage(content.contentText, JSON.stringify(message.payload), {\r\n\t\t\t\t\t// \t\ttitle: message.title\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\r\n\r\n\t\t\t\t\tconsole.log('正式透传消息要不在应用内进行消息显示');\r\n\t\t\t\t\t// content: ( String ) 必选\r\n\t\t\t\t\t// 消息显示的内容，在系统通知中心中显示的文本内容。\r\n\t\t\t\t\t// payload: ( String ) 可选\r\n\t\t\t\t\t// 消息承载的数据，可根据业务逻辑自定义数据格式。\r\n\t\t\t\t\t// options: ( MessageOptions ) 可选\r\n\t\t\t\t\t// 创建消息的额外参数，参考MessageOptions。\r\n\t\t\t\t\t// (content, payload, option);\r\n\r\n\t\t\t\t\t// let msg = JSON.parse(message.content).contentText;\r\n\t\t\t\t\t// let options = {\r\n\t\t\t\t\t// \tcover: false, // 不覆盖上一次提示的消息\r\n\t\t\t\t\t// \tsound: 'system', // 使用系统提示音\r\n\t\t\t\t\t// \ttitle: message.title\r\n\t\t\t\t\t// };\r\n\r\n\t\t\t\t\t// plus.push.createMessage(msg, message.payload, options);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t// if (message.aps) {\r\n\t\t\t\t//   // Apple APNS message\r\n\t\t\t\t//   // APNS下发的消息，应用在前台,要是要显示消息，要通过plus.push.createMessage创建本地消息，应用在后台未离线会自动创建\r\n\t\t\t\t// } else if (\"LocalMSG\" == message.payload) {\r\n\t\t\t\t//   // 特殊payload标识本地创建的消息\r\n\t\t\t\t//   // 本地创建的消息，通常不需要处理\r\n\t\t\t\t//   // 注意：不要在这种情况下在此调用plus.push.createMessage，从而引起循环创建本地消息\r\n\t\t\t\t// } else {\r\n\t\t\t\t//   // 接收到在线透传消息\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\t\t\t//#endif\r\n\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t// 获取小程序更新机制兼容\r\n\t\t\tif (uni.canIUse(\"getUpdateManager\")) {\r\n\t\t\t\tconsole.log(\"可更新\");\r\n\t\t\t\tconst updateManager = uni.getUpdateManager();\r\n\t\t\t\t// 检查是否有新版本发布\r\n\t\t\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t\t\tif (res.hasUpdate) {\r\n\t\t\t\t\t\tconsole.log(\"有新版本\");\r\n\t\t\t\t\t\t//小程序有新版本，则静默下载新版本，做好更新准备\r\n\t\t\t\t\t\tupdateManager.onUpdateReady(function() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: \"更新提示\",\r\n\t\t\t\t\t\t\t\tcontent: \"新版本已经准备好，是否重启应用？\",\r\n\t\t\t\t\t\t\t\tcancelText: \"稍后进行\",\r\n\t\t\t\t\t\t\t\tconfirmText: \"立即更新\",\r\n\t\t\t\t\t\t\t\tconfirmColor: \"#85dbd0\",\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t//新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n\t\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// 新的版本下载失败\r\n\t\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: \"温馨提示\",\r\n\t\t\t\t\t\t\t\tcontent: \"新版本已经上线，请您删除当前小程序，重新搜索打开\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"不可更新\");\r\n\t\t\t\t// 提示用户在最新版本的客户端上体验\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"温馨提示\",\r\n\t\t\t\t\tcontent: \"当前微信版本过低，可能无法使用该功能，请升级到最新版本后重试~\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//#endif\r\n\r\n\t\t\tthis.getUserMsg();\r\n\t\t\t// uni.onKeyboardHeightChange((res) => {\r\n\t\t\t//   this.$store.commit(\"changeKeyboardHeight\", res.height);\r\n\t\t\t//   console.log(\"键盘高度变化\", res);\r\n\t\t\t// });\r\n\t\t},\r\n\t\tonShow: () => {\r\n\t\t\t// 当 uni-app 启动，或从后台进入前台显示\r\n\t\t\tconsole.log(\"App Show\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = true;\r\n\t\t\t\r\n\t\t\tlet EnvUtils = plus.android.importClass(\"com.alipay.sdk.app.EnvUtils\");\r\n\t\t\tEnvUtils.setEnv(EnvUtils.EnvEnum.SANDBOX);\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tonHide: () => {\r\n\t\t\t// 当 uni-app 从前台进入后台\r\n\t\t\tconsole.log(\"App Hide\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = false;\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取用户信息\r\n\t\t\tgetUserMsg() {\r\n\t\t\t\tlet token = uni.getStorageSync(\"token\");\r\n\t\t\t\tif (token.length !== 0) {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.$baseFileUrl + \"/userMsg\",\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\"content-type\": \"application/json\",\r\n\t\t\t\t\t\t\ttoken: token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (ret) => {\r\n\t\t\t\t\t\t\tif (this.checkBack(ret, true) == true) {\r\n\t\t\t\t\t\t\t\tthis.setUserInfo(ret);\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.createTempChat();\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.createTempChat();\r\n\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateNew(url) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\t//提醒用户更新\r\n\t\t\t\t\ttitle: \"更新提示\",\r\n\t\t\t\t\tcontent: \"新版本已经准备好，是否立即更新？\",\r\n\t\t\t\t\t//showCancel: false,\r\n\t\t\t\t\tcancelText: \"稍后进行\",\r\n\t\t\t\t\tconfirmText: \"立即更新\",\r\n\t\t\t\t\tconfirmColor: \"#85dbd0\",\r\n\t\t\t\t\tsuccess: (ret) => {\r\n\t\t\t\t\t\tif (ret.confirm) {\r\n\t\t\t\t\t\t\t//this.updateNew('');\r\n\t\t\t\t\t\t\t//if(url)\r\n\t\t\t\t\t\t\tplus.runtime.openURL(url);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\timage {\r\n\t\twill-change: transform;\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tpadding-top: 450rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\timage {\r\n\t\t\twidth: 222rpx;\r\n\t\t\theight: 152rpx;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #c8c8c8;\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-searchbar__box {\r\n\t\tborder-radius: 30px !important;\r\n\t\tborder: 0.5px solid #f8f8f8 !important;\r\n\t}\r\n\r\n\t/* #ifdef H5 */\r\n\tcheckbox .uni-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .uni-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .uni-checkbox-input.uni-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t/* #ifdef APP-PLUS || MP-WEIXIN */\r\n\tcheckbox .wx-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .wx-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .wx-checkbox-input.wx-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>\n","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}