(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["my/footprint"],{148:function(t,e,i){"use strict";(function(t){i(5);n(i(3));var e=n(i(149));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i(1)["createPage"])},149:function(t,e,i){"use strict";i.r(e);var n=i(150),s=i(152);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i(154);var l,a=i(11),r=Object(a["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"c5182a2c",null,!1,n["components"],l);r.options.__file="my/footprint.vue",e["default"]=r.exports},150:function(t,e,i){"use strict";i.r(e);var n=i(151);i.d(e,"render",(function(){return n["render"]})),i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(e,"components",(function(){return n["components"]}))},151:function(t,e,i){"use strict";var n;i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return l})),i.d(e,"recyclableRender",(function(){return o})),i.d(e,"components",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=(t._self._c,0!=t.haveData?t.__map(t.favoriteslist,(function(e,i){var n=t.__get_orig(e),s=0==e.type&&e.img?e.img.trim():null,o=1==e.type&&e.img?e.img.trim():null,l=0!=e.adviseSellPrice?t.formatNumberRgx(e.adviseSellPrice):null;return{$orig:n,g0:s,g1:o,m0:l}})):null);t.$mp.data=Object.assign({},{$root:{l0:i}})},o=!1,l=[];s._withStripped=!0},152:function(t,e,i){"use strict";i.r(e);var n=i(153),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},153:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{imgUrl:this.$baseUrl+"/jewellery/api",haveData:1,goodsnum:0,page:1,favoriteslist:[],isSelect:0,allFlag:{value:"cb",checked:!1},selList:[]}},onLoad:function(){this.favorites()},onReady:function(){this.hidePageNavInWechatBrowser()},filters:{picsfilter:function(t){return-1!==t.indexOf("|")?t.substring(0,t.indexOf("|")):t}},onPullDownRefresh:function(){this.favoriteslist=[],this.favorites(),t.stopPullDownRefresh()},methods:{bindClick:function(t){console.log(t),this.selList=[],this.selList.push({id:t.id,type:t.type}),this.clickclose()},checkChange:function(t){console.log("是否选中"),console.log(t);var e=t.detail.value;this.selList=[];for(var i=0;i<this.favoriteslist.length;++i){var n=this.favoriteslist[i];e.includes(n.id)?(this.selList.push({id:n.id,type:n.type}),this.$set(n,"checked",!0)):this.$set(n,"checked",!1)}var s=e.length==this.favoriteslist.length;s?this.$set(this.allFlag,"checked",!0):this.$set(this.allFlag,"checked",!1)},changeBook:function(t){var e=this;console.log("全选否"),console.log(t),this.selList=[],0==t.detail.value.length?(this.favoriteslist.map((function(t){return e.$set(t,"checked",!1)})),this.$set(this.allFlag,"checked",!1)):(this.favoriteslist.map((function(t){e.$set(t,"checked",!0),e.selList.push({id:t.id,type:t.type})})),this.$set(this.allFlag,"checked",!0)),console.log(this.selList)},isCheckBox:function(){0==this.isSelect?this.isSelect=1:1==this.isSelect&&(this.isSelect=0)},favorites:function(){var e=this;t.showLoading({title:"加载中..."}),t.request({url:this.$baseUrl+"/wechat/api/browseRecords/?page=1",header:{"content-type":"application/json",token:t.getStorageSync("token")},complete:function(i){t.hideLoading(),console.log("浏览足迹列表"),console.log(i.data),e.favoriteslist=i.data.list,e.goodsnum=i.data.total,0==e.favoriteslist.length?e.haveData=0:e.haveData=1}})},clickclose:function(e){var i=this;t.request({method:"DELETE",url:this.$baseUrl+"/wechat/api/browseRecordDel",data:{stockList:this.selList},header:{"content-type":"application/json",token:t.getStorageSync("token")},success:function(e){console.log(e.data),i.selList=[],i.favoriteslist=[],t.showToast({title:"删除成功",icon:"none"}),i.favorites()},fail:function(e){t.showToast({title:e.data.message,icon:"none"})}})},navto:function(e){console.log("查看"),console.log(e),0==this.isSelect&&(0==e.type?t.navigateTo({url:"../hermes/details?id="+e.id}):1==e.type&&t.navigateTo({url:"../jewelry/jewelryDetails?id="+e.id}))}}};e.default=i}).call(this,i(1)["default"])},154:function(t,e,i){"use strict";i.r(e);var n=i(155),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},155:function(t,e,i){}},[[148,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/my/footprint.js.map